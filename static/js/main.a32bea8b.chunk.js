(this.webpackJsonprebuild=this.webpackJsonprebuild||[]).push([[0],{319:function(e,t,n){},326:function(e,t){},335:function(e,t){},379:function(e,t){},381:function(e,t){},416:function(e,t){},434:function(e,t){},436:function(e,t){},540:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(27),c=n.n(r),i=(n(319),n(20)),s=n(22),o=["function sx() external view returns (uint256)","function sy() external view returns (uint256)","function sk() external view returns (uint256)","function swap_sqp() external view returns (uint256)","function calc_k(uint256,uint256) external view returns (uint256)","function get_dx(uint256) external view returns (uint256)","function get_dy(uint256) external view returns (uint256)","function get_dk(uint256, uint256) external view returns (uint256)","function earned(address) external view returns (uint256)","function get_dxdy(uint256) external view returns (uint256, uint256)","function borrow_want(uint256, uint256) external","function burn_call(uint256) external","function burn_dual(uint256) external","function repay_both(uint256, uint256) external","function mint(uint256, uint256, uint256) external","function withdraw_both(uint256) external","function swap_coll_to_min_want(uint256, uint256) external","function swap_want_to_min_coll(uint256, uint256) external","function claim_reward() external","function swap_fee() public pure returns (uint256)","function\xa0burn_and_claim(uint256) public","function mint_dual(uint256) public","function balanceOf(address) external view returns (uint256)"],l=n.p+"static/media/COLLAR.e0b235f3.svg",d=n.p+"static/media/USDT.a12a2441.svg",u=n.p+"static/media/USDC.f108d2c7.svg",p=n.p+"static/media/COLL.18017a76.svg",b=n.p+"static/media/CALL.fa5dcf83.svg",j=function(e,t,n,a){switch(e){case"COLLAR":case"CLPT":return{symbol:e,addr:t,icon:l,decimals:18};case"COLL":return{symbol:e,addr:t,icon:p,decimals:18};case"CALL":return{symbol:e,addr:t,icon:b,decimals:18};default:return{symbol:e,addr:t,icon:n,decimals:a||18}}},x="ropsten",f=3,h="9180c5a422ac44f9b21ad7927b6b662c",m={"0xe405bD3C4876D1Ea0af92BaCF5831c9FCbDD78aE":j("COLLAR","0xe405bD3C4876D1Ea0af92BaCF5831c9FCbDD78aE"),"0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0":j("USDT","0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0",d),"0x67C9a0830d922C80A96408EEdF606c528836880C":j("USDC","0x67C9a0830d922C80A96408EEdF606c528836880C",u),"0x506FeA08646b7ED5084c7a9a302FF5a95B9E980c":j("CLPT","0x506FeA08646b7ED5084c7a9a302FF5a95B9E980c"),"0x9D8FEb661AFc92b83c45fC21836C114164beB285":j("CALL","0x9D8FEb661AFc92b83c45fC21836C114164beB285"),"0x25a722fbd8c4080937CAD2A4DFa2eeeA29539231":j("COLL","0x25a722fbd8c4080937CAD2A4DFa2eeeA29539231"),"0x3894e050adae3ef3D10d7e1c79AE8F7A07866a90":j("CLPT","0x3894e050adae3ef3D10d7e1c79AE8F7A07866a90"),"0x404Ced902eE6d630db51969433ea7DD2EE3524B8":j("CALL","0x404Ced902eE6d630db51969433ea7DD2EE3524B8"),"0x61E04744eD53E1Ae61A9325A5Eba31AEA24eca4D":j("COLL","0x61E04744eD53E1Ae61A9325A5Eba31AEA24eca4D")},O={};Object.keys(m).map((function(e){return O[m[e].symbol]=m[e]}));var w=[{pool:"0x506FeA08646b7ED5084c7a9a302FF5a95B9E980c",collar:O.COLLAR,bond:O.USDT,want:O.USDC,call:m["0x9D8FEb661AFc92b83c45fC21836C114164beB285"],coll:m["0x25a722fbd8c4080937CAD2A4DFa2eeeA29539231"],swap_sqp:992187500,expiry_time:1633017600},{pool:"0x3894e050adae3ef3D10d7e1c79AE8F7A07866a90",collar:O.COLLAR,bond:O.USDC,want:O.USDT,call:m["0x404Ced902eE6d630db51969433ea7DD2EE3524B8"],coll:m["0x61E04744eD53E1Ae61A9325A5Eba31AEA24eca4D"],swap_sqp:992187500,expiry_time:1633017600}],v={},g=new Set;w.map((function(e,t){v[e.pool]=e,g.add(e.bond)}));var y=Array.from(g),C=w,k=Object(a.createContext)({}),E=Object(a.createContext)({}),A=Object(a.createContext)({}),S={bond:"BOND token is the collateral asset deposited by borrower.",want:"WANT token is the debt asset provided by lender.",coll:"COLL token is the lending certificate.",clpt:"CLPT is the Collar LP Token for the current pair.",Borrow:"Borrow for a fixed rate with no collateral liquidation risk. \n          Collateral is safely stored and can be withdrawn at any time before the current round ends. \n          A fixed 0.01% fee is charged for each borrow order.",Repay:"Repay your loan at any time before the current round ends to withdraw your collateral. \n          WANT tokens and COLL tokens are both acceptable for repayment. \n          Borrowers reduce the cost of their loan by using the lower priced token for repayment.",Deposit:"There are three ways to provide liquidity in Collar: provide only WANT, only COLL, or both WANT and COLL. \n          The APY earned by a provider is fixed as long as they don't redeem their CLPT before the current round ends.",Withdraw:"Liquidity providers can withdraw their liquidity at any time before the current round ends. \n          Redeem CLPT to collect the corresponding underlying assets, which are possibly not in the same proportion as the original deposit.",Lend:"Earn a fixed interest rate over a fixed term. \n          A nominal 0.01% fee is charged for each lending order.",Exit:"Lenders can exit at any time before the current round ends. \n          The interest earned may differ from the originally quoted APY.",TotalValueLocked:"TotalValueLocked",round:"coming soon"},L=n(589),F=n.p+"static/media/buttonAble.81d585e8.svg",N=n.p+"static/media/buttonDisabled.73e4eb6d.svg",D=n(1),_=Object(L.a)((function(e){return{button:{padding:"0",background:"none",border:"none",position:"relative","&:hover":{opacity:.8},"&:active":{transform:"translateY(3px)"},"&:focus":{},"&>img":{width:"100%",height:"50px"},"&>div":{color:"#fff",left:"0",width:"100%",height:"100%",fontWeight:"bold",position:"absolute",display:"flex","& span":{fontFamily:"Gillsans",fontSize:"1.1em",margin:"auto"},transform:"translateY(-6px)"}}}}));function B(e){var t=e.name,n=e.onClick,a=e.style,r=e.disabled,c=_();return Object(D.jsxs)("button",{className:c.button,onClick:n,style:a,disabled:r,children:[Object(D.jsx)("div",{children:Object(D.jsx)("span",{children:t})}),Object(D.jsx)("img",{alt:t,src:r?N:F})]})}var I=n.p+"static/media/iconInfo.dc65a086.svg",R=n.p+"static/media/buttonWhite.fc4b11a8.svg",T=n.p+"static/media/buttonWhiteHover.b17273db.svg",z=n.p+"static/media/arrowForwardIosIcon.3a03ef61.svg",P=n.p+"static/media/tabsArrow.5479a247.svg",W=n.p+"static/media/liteIcon.2b04ba2f.svg",U=n.p+"static/media/termIcon.a6bf4fd7.svg",M=n.p+"static/media/proIcon.734a82c9.svg",H=n.p+"static/media/mypageIcon.29a313b9.svg",q=n.p+"static/media/closeMenu.1dada3f4.svg",G=(n.p,n.p+"static/media/global.a578a28b.svg"),Y=n.p+"static/media/statusApproved.08d2c60d.svg",V=n.p+"static/media/statusUnapproved.920a5006.svg",$=n.p+"static/media/statusConnectError.a14be159.svg",Z=n.p+"static/media/statusNewroundLeft.50a3e7fa.svg",K=n.p+"static/media/statusNewroundRight.c2e8c251.svg",X=n.p+"static/media/statusAny.fbcbea3c.svg",J=Object(L.a)((function(e){return{button:{padding:"0",background:"none",border:"none",position:"relative",backgroundImage:"url(".concat(R,")"),backgroundRepeat:"no-repeat",backgroundSize:"133px",minHeight:"37px",color:"white",margin:"5px 0",fontSize:"14px",fontFamily:"Gillsans","&:hover":{backgroundImage:"url(".concat(T,")")},"&:active":{transform:"translateY(3px)"},"&:focus":{}},span:{position:"absolute",transform:"translate(-50%, -70%)"}}}));function Q(e){var t=e.name,n=e.onClick,a=e.disabled,r=J();return Object(D.jsx)("button",{className:r.button,onClick:n,disabled:a,children:Object(D.jsx)("span",{className:r.span,children:t})})}var ee=n(47),te=Object(L.a)((function(e){return{root:{width:"100%",textAlign:"center",display:"flex",flexDirection:"column",position:"relative",paddingBottom:"20px",marginBottom:"10px","&>div>hr":{position:"absolute",width:"100%",bottom:0,border:"none",borderTop:"white 1px solid"}},title:{fontFamily:"Gillsans",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",margin:"5px 0","& span:last-child":{backgroundColor:"#4976FF",padding:"0px 5px",height:"20px",lineHeight:"20px"}},amount:{width:"100%",fontFamily:"Gillsans",fontSize:"1.5em",marginTop:"5px",color:"white",textAlign:"left"}}}));function ne(e){var t=te(),n=e.token,a=e.status,r=e.amount;return Object(D.jsxs)("div",{className:t.root,children:[Object(D.jsxs)("div",{className:t.title,children:[Object(D.jsx)("span",{style:{fontSize:"0.9em"},children:n}),Object(D.jsx)("span",{style:{fontSize:"0.6em"},children:a})]}),Object(D.jsx)("div",{className:t.amount,children:Object(D.jsx)(ee.a,{content:parseFloat(r).toFixed(3)})}),Object(D.jsx)("div",{children:Object(D.jsx)("hr",{})})]})}var ae=Object(L.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",position:"relative",paddingBottom:"20px",marginBottom:"10px","&>div>hr":{position:"absolute",width:"100%",bottom:0,border:"none",borderTop:"white 1px solid"}},title:{fontFamily:"Gillsans",fontSize:"0.9em",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",margin:"5px 0"},data:{fontFamily:"Gillsans",alignSelf:"flex-start",color:"white",fontSize:"1.4em",overflow:"hidden",maxWidth:"100%",marginBottom:"10px"},info:{fontFamily:"Gillsans",textAlign:"start",fontSize:"10px",color:"white",whiteSpace:"pre-line"}}}));function re(e){var t=e.title,n=e.data,a=e.info,r=e.noHr,c=e.styles,i=ae();return Object(D.jsxs)("div",{className:i.root,children:[Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{className:i.title,children:Object(D.jsx)("span",{children:t})}),n&&Object(D.jsx)("div",{className:i.data,children:Object(D.jsx)(ee.a,{content:n})}),a&&Object(D.jsx)("div",{className:i.info,style:c,children:Object(D.jsx)("span",{children:a})})]}),r||Object(D.jsx)("div",{children:Object(D.jsx)("hr",{})})]})}var ce=Object(L.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",position:"relative",paddingBottom:"20px",marginBottom:"10px","&>div>hr":{position:"absolute",width:"100%",bottom:0,border:"none",borderTop:"white 1px solid"}},title:{fontFamily:"Gillsans",fontSize:"0.9em",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",margin:"5px 0"},data:{fontFamily:"Gillsans",alignSelf:"flex-start",color:"white",fontSize:"0.8em",overflow:"hidden",maxWidth:"calc(50vw - 40px)",marginBottom:"10px"}}}));function ie(e){var t=ce(),n=e.title,a=e.data1,r=e.data2,c=e.noHr;return Object(D.jsxs)("div",{className:t.root,children:[Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{className:t.title,children:Object(D.jsx)("span",{children:n})}),a&&Object(D.jsx)("div",{className:t.data,children:a}),r&&Object(D.jsx)("div",{className:t.data,children:r})]}),c||Object(D.jsx)("div",{children:Object(D.jsx)("hr",{})})]})}var se=n(38),oe=n(625),le=n(276),de=n(2),ue=n.n(de),pe=n(10),be=n(11),je=n(60),xe=be.a.constants.Zero,fe=["function transfer(address, uint256) external","function approve(address, uint256) external","function balanceOf(address) external view returns (uint256)","function allowance(address, address) external view returns (uint256)"],he=["function earned(address) external view returns (uint256)","function sx() external view returns (uint256)","function sy() external view returns (uint256)","function sk() external view returns (uint256)","function swap_fee() public pure returns (uint256)"],me=function(e,t,n){return new be.a.Contract(e,n||o,t)},Oe=function(e,t){return parseFloat(be.a.utils.formatEther(e)).toFixed(t||3)},we=function(e){return e.mul(995).div(1e3)},ve=function(){var e=Object(pe.a)(ue.a.mark((function e(t,n){var a,r,c,i,o,l,d,u,p,b,j,x;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={balance:{bond:xe,want:xe,call:xe,coll:xe,clpt:xe,collar:xe},allowance:{bond:xe,want:xe},earned:{collar:xe},swap:{sx:xe,sy:xe,sk:xe}},r=v[t],e.next=4,n.getAddress();case 4:return c=e.sent,i=me(r.bond.addr,n,fe),o=me(r.want.addr,n,fe),l=me(r.call.addr,n,fe),d=me(r.coll.addr,n,fe),u=me(t,n,fe),p=me(r.collar.addr,n,fe),b=me(t,n,he),e.next=14,Promise.all([i.balanceOf(c),o.balanceOf(c),l.balanceOf(c),d.balanceOf(c),u.balanceOf(c),p.balanceOf(c),i.allowance(c,t),o.allowance(c,t),b.earned(c),b.sx(),b.sy(),b.sk(),b.swap_fee()]);case 14:return j=e.sent,x=Object(s.a)(j,13),a.balance.bond=x[0],a.balance.want=x[1],a.balance.call=x[2],a.balance.coll=x[3],a.balance.clpt=x[4],a.balance.collar=x[5],a.allowance.bond=x[6],a.allowance.want=x[7],a.earned.collar=x[8],a.swap.sx=x[9],a.swap.sy=x[10],a.swap.sk=x[11],a.swap.fee=x[12],a.apy=31556926e5*parseFloat(be.a.utils.formatEther(a.swap.sx.add(a.swap.sk).mul(be.a.utils.parseEther("1")).div(a.swap.sy.add(a.swap.sk.mul(r.swap_sqp).div(be.a.BigNumber.from(1e9)))).sub(be.a.utils.parseEther("1"))))/(1e3*r.expiry_time-new Date),e.abrupt("return",a);case 31:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ge=function(){var e=Object(pe.a)(ue.a.mark((function e(t){var n,a,r,c,i,o,l,d,u,p,b;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAddress();case 2:n=e.sent,a=[],r=Object(le.a)(C),e.prev=5,r.s();case 7:if((c=r.n()).done){e.next=32;break}return i=c.value,o={},l={pool:me(i.pool,t),bond:me(v[i.pool].bond.addr,t,fe),want:me(v[i.pool].want.addr,t,fe),call:me(v[i.pool].call.addr,t,fe),coll:me(v[i.pool].coll.addr,t,fe)},e.next=13,Promise.all([l.pool.sx(),l.pool.sy(),l.pool.sk(),l.bond.balanceOf(i.pool),l.pool.earned(n),l.pool.balanceOf(n),l.call.balanceOf(n),l.coll.balanceOf(n)]);case 13:return d=e.sent,u=Object(s.a)(d,8),o.sx=u[0],o.sy=u[1],o.sk=u[2],o.bond=u[3],o.earned=u[4],o.clpt=u[5],o.call=u[6],o.coll=u[7],e.next=25,l.pool.get_dxdy(o.clpt);case 25:p=e.sent,b=Object(s.a)(p,2),o.clpt_coll=b[0],o.clpt_want=b[1],a.push({pool:i.pool,coll_total:Oe(o.sx),want_total:Oe(o.sy),bond_total:Oe(o.bond),clpt:Oe(o.clpt),call:Oe(o.call),coll:Oe(o.coll),earned:Oe(o.earned),receivables:Oe(o.clpt_coll.add(o.coll))*ke[v[i.pool].coll.addr]+Oe(o.clpt_want)*ke[v[i.pool].want.addr],shareOfPoll:(Oe(o.clpt)/Oe(o.sk)*100).toFixed(2),coll_apy:"0.00",call_apy:"0.00",clpt_apy:"0.00",clpt_apr:"0.00"});case 30:e.next=7;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(5),r.e(e.t0);case 37:return e.prev=37,r.f(),e.finish(37);case 40:return e.abrupt("return",a);case 41:case"end":return e.stop()}}),e,null,[[5,34,37,40]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(e,t){var n={type:"failed",title:"Fail.",message:"Your transaction failed."};switch(e){case"approve":switch(t){case 1:return{type:"success",title:"Approved!",message:"You have successfully approved your asset."};default:return n}case"borrow":switch(t){case 1:return{type:"success",title:"Deposited and Borrowed.",message:"You have successfully borrowed asset."};default:return n}case"repay":switch(t){case 1:return{type:"success",title:"Repaid.",message:"You have successfully repaid your loan."};default:return n}case"deposit":switch(t){case 1:return{type:"success",title:"Deposited.",message:"You have successfully deposited your asset."};default:return n}case"withdraw":switch(t){case 1:return{type:"success",title:"Withdrawn.",message:"You have successfully withdraw your liquidity."};default:return n}case"claim":switch(t){case 1:return{type:"success",title:"Claimed.",message:"You have successfully claimed your reward."};default:return n}case"lend":switch(t){case 1:return{type:"success",title:"Lent.",message:"You have successfully lent your assset."};default:return n}case"redeem":switch(t){case 1:return{type:"success",title:"Redeemed.",message:"You have successfully redeem your loan."};default:return n}case"mint":switch(t){case 1:return{type:"success",title:"mint.",message:"You have successfully mint."};default:return n}case"cancel":return{type:"failed",title:"Fail.",message:"User denied transaction signature."};default:return n}};function Ce(){var e=Object(je.c)().enqueueSnackbar,t=function(t){switch(t){case!0:return function(t){return function(n){return n.wait().then((function(n){var a=n.status;return e(ye(t,a))}))}};case!1:return function(t){switch(t.code){case 4001:e(ye("cancel"));break;default:console.log(t)}};default:return console.log}};return{fetch_state:ve,mypage_data:ge,ct:function(e,t){return me(e,t)},approve:function(){var e=Object(pe.a)(ue.a.mark((function e(n,a,r){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(n,r,["function approve(address, uint256) external"]).approve(a,be.a.constants.MaxUint256).then(t(!0)("approve")).catch(t(!1));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),borrow:function(){var e=Object(pe.a)(ue.a.mark((function e(n,a,r,c){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(r,c).borrow_want(n,we(a)).then(t(!0)("borrow")).catch(t(!1));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),repay:function(){var e=Object(pe.a)(ue.a.mark((function e(n,a,r,c){var i;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=!0,e.next=e.t0===n.eq(xe)?3:e.t0===a.eq(xe)?5:7;break;case 3:return i=me(r,c).burn_dual(a),e.abrupt("break",9);case 5:return i=me(r,c).burn_call(n),e.abrupt("break",9);case 7:return i=me(r,c).repay_both(n,a),e.abrupt("break",9);case 9:return e.next=11,i.then(t(!0)("repay")).catch(t(!1));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),deposit:function(){var e=Object(pe.a)(ue.a.mark((function e(n,a,r,c,i){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(c,i).mint(a,n,we(r)).then(t(!0)("deposit")).catch(t(!1));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),withdraw:function(){var e=Object(pe.a)(ue.a.mark((function e(n,a,r){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(a,r).withdraw_both(n).then(t(!0)("withdraw")).catch(t(!1));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),claim:function(){var e=Object(pe.a)(ue.a.mark((function e(n,a){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(n,a).claim_reward().then(t(!0)("claim")).catch(t(!1));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),burn_and_claim:function(){var e=Object(pe.a)(ue.a.mark((function e(n,a,r){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(a,r).burn_and_claim(n).then(t(!0)("withdraw")).catch(t(!1));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),lend:function(){var e=Object(pe.a)(ue.a.mark((function e(n,a,r,c){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(r,c).swap_want_to_min_coll(we(a),n).then(t(!0)("lend")).catch(t(!1));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),redeem:function(){var e=Object(pe.a)(ue.a.mark((function e(n,a,r,c){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(r,c).swap_coll_to_min_want(a,we(n)).then(t(!0)("redeem")).catch(t(!1));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),mint:function(){var e=Object(pe.a)(ue.a.mark((function e(n,a,r){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(a,r).mint_dual(n).then(t(!0)("mint")).catch(t(!1));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),redeemAll:function(){var n=Object(pe.a)(ue.a.mark((function n(a,r){var c,i,s,o,l;return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.getAddress();case 2:return c=n.sent,i=me(a.pool,r),n.next=6,me(a.call.addr,r).balanceOf(c);case 6:return s=n.sent,n.next=9,me(a.coll.addr,r).balanceOf(c);case 9:if(o=n.sent,!(parseFloat(s)>parseFloat(o))){n.next=13;break}return e({type:"failed",title:"Fail.",message:"COLL must larger than CALL!"}),n.abrupt("return");case 13:return n.next=15,i.get_dy(s);case 15:return l=n.sent,n.next=18,i.swap_coll_to_min_want(s,we(l)).then(t(!0)("redeem")).catch(t(!1));case 18:return n.abrupt("return",!0);case 19:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),repayAll:function(){var n=Object(pe.a)(ue.a.mark((function n(a,r){var c,i,s,o;return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.getAddress();case 2:return c=n.sent,n.next=5,me(a.call.addr,r).balanceOf(c);case 5:return i=n.sent,n.next=8,me(a.coll.addr,r).balanceOf(c);case 8:return s=n.sent,n.next=11,me(a.want.addr,r).balanceOf(c);case 11:if(o=n.sent,!(parseFloat(i)>parseFloat(o))){n.next=15;break}return e({type:"failed",title:"Fail.",message:"".concat(a.want.symbol," must larger than CALL!")}),n.abrupt("return");case 15:if(!(parseFloat(i)>parseFloat(s))){n.next=18;break}return e({type:"failed",title:"Fail.",message:"COLL must larger than CALL!"}),n.abrupt("return");case 18:return n.next=20,me(a.pool,r).burn_dual(i).then(t(!0)("repay")).catch(t(!1));case 20:return n.abrupt("return",!0);case 21:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),withdrawAll:function(){var e=Object(pe.a)(ue.a.mark((function e(n,a){var r,c,i;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getAddress();case 2:return r=e.sent,c=me(n.pool,a),e.next=6,c.balanceOf(r);case 6:return i=e.sent,e.next=9,c.withdraw_both(i).then(t(!0)("withdraw")).catch(t(!1));case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}var ke={COLLAR:1,"0xe405bD3C4876D1Ea0af92BaCF5831c9FCbDD78aE":1,USDT:1,"0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0":1,USDC:1,"0x67C9a0830d922C80A96408EEdF606c528836880C":1,COLL:1,"0x25a722fbd8c4080937CAD2A4DFa2eeeA29539231":1,"0x61E04744eD53E1Ae61A9325A5Eba31AEA24eca4D":1,CALL:1,"0x9D8FEb661AFc92b83c45fC21836C114164beB285":1,"0x404Ced902eE6d630db51969433ea7DD2EE3524B8":1,CLPT:1,"0x506FeA08646b7ED5084c7a9a302FF5a95B9E980c":1,"0x3894e050adae3ef3D10d7e1c79AE8F7A07866a90":1},Ee=Object(L.a)((function(e){return{root:{"&>div:first-child":{margin:"10px 0",height:"25px",display:"flex",alignItems:"center","&>span":{fontFamily:"Helvetica",fontSize:"0.8em",verticalAlign:"middle"},"&>img":{marginLeft:"5px",width:"14px",verticalAlign:"middle"}}},AmountInput:{border:"#272727 2px solid",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"center",position:"relative","& input":{fontFamily:"Gillsans",padding:"0",margin:"0 5px 0 0",fontSize:function(e){return"".concat(e.fontSize,"px")},fontWeight:"bold",border:"none",width:"100%",color:"#30384B"},"& button":{fontFamily:"Gillsans",fontSize:"0.8em",color:"white",background:"#30384B",border:"none",padding:"2px 5px",position:"relative","&[disabled]":{background:"#d4d4d4"},"&>span":{fontFamily:"Helvetica",position:"absolute",transform:"translate(-32px,-16px)",color:"#30384B",fontSize:"10px"}}},amount:{display:"flex",alignItems:"center",justifyContent:"space-between","&>div":{width:"100%","&>div":{"&:before,&:after,&:hover:not(.Mui-disabled):before":{border:"none"}}}},token:{fontFamily:"Gillsans",fontSize:"12px",fontWeight:"bold",color:"#30384B",marginLeft:"2px"},dollar:{color:"#99A8C9",margin:"5px",fontWeight:"bold",fontFamily:"Gillsans",fontSize:"12px"}}}));function Ae(e){var t=e.State,n=e.title,r=e.style,c=Object(a.useState)(35),o=Object(s.a)(c,2),l=o[0],d=o[1],u=Object(a.useState)(null),p=Object(s.a)(u,2),b=p[0],j=p[1],x=Ee({fontSize:l}),f=Object(a.useRef)(),h=Object(je.c)().enqueueSnackbar,O=t.state,w=t.setState,v=t.token,g=t.max,y=t.maxCondition,C=Object(a.useCallback)((function(e){var t=e.target.value,a=O.I[n],r=e.nativeEvent.data;g<parseFloat(t)?h({type:"failed",title:"Fail.",message:"Maximum range exceeded."}):(1===t.length||-1!==a.indexOf("."))&&"."===r||"0"===a&&-1===[".",null].indexOf(r)||["0","1","2","3","4","5","6","7","8","9",".",null].indexOf(r)>-1&&w({I:Object(i.a)(Object(i.a)({},O.I),{},Object(se.a)({},n,t)),old:Object(i.a)(Object(i.a)({},O.old),{},Object(se.a)({},n,a))})}),[O.I,g]);return Object(a.useEffect)((function(){var e=f.current,t=[O.I[n],O.old[n]],a=t[0],r=t[1];if(a.length>(r||"").length){if(e.offsetWidth==e.scrollWidth||l<8)return;d(.8*l)}else if(a.length<(r||"").length){if(e.offsetWidth<e.scrollWidth||l>35)return;d(1.25*l)}}),[l,O.I[n]]),Object(a.useMemo)((function(){return Object(D.jsxs)("div",{className:x.root,children:[Object(D.jsxs)("div",{children:[Object(D.jsx)("span",{children:n.toUpperCase()}),Object(D.jsx)("img",{onMouseEnter:function(e){return j(e.currentTarget)},onMouseLeave:function(){return j(null)},alt:n,src:I}),Object(D.jsx)(Pe,{anchorEl:b,info:S[n]})]}),Object(D.jsxs)("div",{className:x.AmountInput,style:r,children:[Object(D.jsx)("div",{className:x.amount,children:Object(D.jsx)(oe.a,{value:O.I[n],onChange:C,inputRef:f,placeholder:"0.00",InputProps:{endAdornment:Object(D.jsxs)("button",{onClick:function(){return w({I:Object(i.a)(Object(i.a)({},O.I),{},Object(se.a)({},n,"".concat(g)))})},disabled:!y(),children:["MAX",Object(D.jsx)("span",{children:"Balance"})]})}})}),Object(D.jsx)("span",{className:x.token,children:m[v].symbol}),Object(D.jsxs)("span",{className:x.dollar,children:["~$",(ke[m[v].addr]*O.I[n]).toFixed(3)]})]})]})}),[t,b])}var Se=n(12),Le=n(623),Fe=n(598),Ne=Object(L.a)((function(e){return{AmountInput:{border:"#272727 2px solid",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"center",position:"relative","& input":{fontFamily:"Gillsans",padding:"0",margin:"0 5px 0 0",fontSize:function(e){return e.fontSize},fontWeight:"bold",border:"none",width:"100%",color:"#30384B"},"& button":{fontFamily:"Gillsans",fontSize:"0.8em",color:"white",background:"#30384B",border:"none",padding:"2px 5px",position:"relative","&[disabled]":{background:"#d4d4d4"},"&>span":{fontFamily:"Helvetica",position:"absolute",transform:"translate(-32px,-16px)",color:"#30384B",fontSize:"10px"}}},amount:{display:"flex",alignItems:"center",justifyContent:"space-between","&>div":{width:"100%","&>div":{"&:before,&:after,&:hover:not(.Mui-disabled):before":{border:"none"}}}},token:{fontFamily:"Gillsans",fontSize:"12px",fontWeight:"bold",color:"#30384B",marginLeft:"2px"},dollar:{color:"#99A8C9",margin:"5px",fontWeight:"bold",fontFamily:"Gillsans",fontSize:"12px"}}})),De=Object(Se.a)({root:{minHeight:"0"},flexContainer:{margin:"10px 0",height:"25px","&>button":{minHeight:"0",minWidth:"0",padding:"0",marginRight:"15px",border:"none !important",fontFamily:"Helvetica",fontSize:"0.8em",textTransform:"uppercase","&>span":{alignItems:"start"}}},indicator:{display:"none"}})((function(e){var t=Object(a.useState)({}),n=Object(s.a)(t,2),r=n[0],c=n[1];return Object(D.jsx)("div",{style:{position:"relative"},children:Object(D.jsx)(Le.a,Object(i.a)(Object(i.a)({},e),{},{children:e.labels.map((function(t,n){return Object(D.jsx)(Fe.a,{disableRipple:!0,classes:{selected:Object(L.a)({s:{fontWeight:"bold",color:"#275bff"}})().s},label:Object(D.jsxs)("div",{children:[Object(D.jsx)("span",{style:{verticalAlign:"middle"},children:t}),Object(D.jsx)("img",{onMouseEnter:function(e){return c(Object(se.a)({},n,e.currentTarget))},onMouseLeave:function(){return c({})},alt:"",src:I,style:{width:"14px",marginLeft:"5px",verticalAlign:"middle"}}),Object(D.jsx)(Pe,{anchorEl:r[n],info:e.info[n]})]})},n)}))}))})})),_e=function(e){var t=e.state,n=e.setState,r=e.title,c=e.max,o=e.maxCondition,l=e.token,d=e.style,u=Object(a.useState)(35),p=Object(s.a)(u,2),b=p[0],j=p[1],x=Ne({fontSize:b}),f=Object(a.useRef)(),h=Object(je.c)().enqueueSnackbar,O=Object(a.useCallback)((function(e){var a=e.target.value,s=t.I[r],o=e.nativeEvent.data;c<parseFloat(a)?h({type:"failed",title:"Fail.",message:"Maximum range exceeded."}):(1===a.length||-1!==s.indexOf("."))&&"."===o||"0"===s&&-1===[".",null].indexOf(o)||["0","1","2","3","4","5","6","7","8","9",".",null].indexOf(o)>-1&&n({I:Object(i.a)(Object(i.a)({},t.I),{},Object(se.a)({},r,a)),old:Object(i.a)(Object(i.a)({},t.old),{},Object(se.a)({},r,s))})}),[t.I,r]);return Object(a.useEffect)((function(){var e=f.current,n=[t.I[r],t.old[r]],a=n[0],c=n[1];if(a.length>(c||"").length){if(e.offsetWidth==e.scrollWidth||b<8)return;j(.8*b)}else if(a.length<(c||"").length){if(e.offsetWidth<e.scrollWidth||b>35)return;j(1.25*b)}}),[b,t.I,r]),Object(D.jsxs)("div",{className:x.AmountInput,style:d,children:[Object(D.jsx)("div",{className:x.amount,children:Object(D.jsx)(oe.a,{value:t.I[r],onChange:O,inputRef:f,placeholder:"0.00",InputProps:{endAdornment:Object(D.jsxs)("button",{onClick:function(){return n({I:Object(i.a)(Object(i.a)({},t.I),{},Object(se.a)({},r,"".concat(c)))})},disabled:!o(),children:["MAX",Object(D.jsx)("span",{children:"balance"})]})}})}),Object(D.jsx)("span",{className:x.token,children:m[l].symbol}),Object(D.jsxs)("span",{className:x.dollar,children:[" ~$",(ke[m[l].addr]*t.I[r]).toFixed(3)]})]})};function Be(e){var t=e.State,n=e.title,r=e.style,c=Object(a.useState)(0),i=Object(s.a)(c,2),o=i[0],l=i[1],d=t.state,u=t.setState,p=t.token,b=t.max,j=t.maxCondition;return Object(a.useMemo)((function(){return Object(D.jsxs)("div",{children:[Object(D.jsx)(De,{value:o,onChange:function(e,t){return l(t)},labels:n,info:n.map((function(e){return S[e]}))}),Object(D.jsx)(_e,{title:n[o],token:p[o],maxCondition:j[o],max:b[o],tabs:o,state:d,setState:u,style:r})]})}),[t,o])}var Ie=Object(L.a)((function(e){return{root:{"&>div:first-child":{margin:"10px 0",height:"25px",display:"flex",alignItems:"center","&>span":{fontFamily:"Helvetica",fontSize:"0.8em",verticalAlign:"middle"},"&>img":{marginLeft:"5px",width:"14px",verticalAlign:"middle"}}},AmountShow:{border:"#272727 2px solid",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"center",color:"#30384B",fontFamily:"Gillsans",fontWeight:"bold","&>div":{maxWidth:"calc(50vw - 85.5px)","&>span":{fontSize:"2em"}},"&>span":{fontSize:"12px",marginLeft:"2px"}},dollar:{color:"#99A8C9",margin:"5px"}}}));function Re(e){var t=e.state,n=t.state,r=t.token,c=e.title,i=e.style,o=Ie(),l=Object(a.useState)(null),d=Object(s.a)(l,2),u=d[0],p=d[1];return Object(D.jsxs)("div",{className:o.root,children:[Object(D.jsxs)("div",{children:[Object(D.jsx)("span",{children:c.toUpperCase()}),Object(D.jsx)("img",{onMouseEnter:function(e){return p(e.currentTarget)},onMouseLeave:function(){return p(null)},alt:"",src:I}),Object(D.jsx)(Pe,{anchorEl:u,info:S[c]})]}),Object(D.jsxs)("div",{className:o.AmountShow,style:i,children:[Object(D.jsx)("div",{children:Object(D.jsx)(ee.a,{content:parseFloat(be.a.utils.formatEther(n.output[c])).toFixed(3)})}),Object(D.jsx)("span",{children:m[r].symbol}),Object(D.jsxs)("span",{className:o.dollar,children:["~$",(ke[m[r].addr]*be.a.utils.formatEther(n.output[c])).toFixed(3)]})]})]})}var Te=n(627);Object(L.a)((function(e){return{popover:{pointerEvents:"none",opacity:"0.95"},paper:{overflow:"hidden","&>div":{backgroundColor:"gray",color:"white",padding:"10px",wordBreak:"break-word",maxWidth:"50vw"}}}}));var ze=Object(L.a)((function(e){return{popover:{pointerEvents:"none",opacity:"0.95"},paper:{overflow:"hidden",boxShadow:"0px 5px 5px -3px rgb(38 111 239 / 10%), 0px 8px 10px 1px rgb(38 111 239 / 8%), 0px 3px 14px 2px rgb(38 111 239 / 60%)","&>div":{backgroundColor:"white",color:"#495EB6",padding:"10px",width:"auto"}}}}));function Pe(e){var t=e.anchorEl,n=e.info,a=ze();return Object(D.jsx)(Te.a,{className:a.popover,classes:{paper:a.paper},open:Boolean(t),anchorEl:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object(D.jsx)("div",{style:{fontsize:"Helvetica",whiteSpace:"pre-line"},children:n})})}var We=Object(L.a)((function(e){return{root:{margin:"-10px 0 10px 0",textAlign:"right",fontFamily:"Helvetica",fontSize:"0.8em","& img":{width:"1em",margin:"0 5px"}}}}));function Ue(e){var t=e.APY,n=e.info,r=We(),c=Object(a.useState)(null),i=Object(s.a)(c,2),o=i[0],l=i[1],d=n.map((function(e){var t=Object.keys(e)[0];return"".concat(t," = ").concat(e[t])})).join("\n");return Object(D.jsxs)("div",{className:r.root,children:[Object(D.jsxs)("span",{children:["APY = ",t,"%"]}),Object(D.jsx)("img",{onMouseEnter:function(e){return l(e.currentTarget)},onMouseLeave:function(){return l(null)},alt:"",src:I}),Object(D.jsx)(Pe,{anchorEl:o,info:d})]})}var Me=Object(L.a)((function(e){return{root:{margin:"3px",justifyContent:"center"},content:{display:"flex",alignItems:"center",width:"400px",maxWidth:"70vw",height:"auto",padding:"15px",border:"#979797 1px solid",backgroundColor:"rgba(255,255,255,0.9)",boxShadow:"0px 5px 5px -3px rgb(38 111 239 / 10%), 0px 8px 10px 1px rgb(38 111 239 / 8%), 0px 3px 14px 2px rgb(38 111 239 / 10%)","& img":{marginRight:"15px"},"&>div":{display:"flex",flexDirection:"column"}},title:{fontSize:"16px",color:function(e){return e.title},display:function(e){return e.display}},info:{fontSize:"14px",color:function(e){return e.info}}}})),He={success:Y,failed:V,connecterr:$,newroundl:Z,newroundr:K,any:X},qe=Object(a.forwardRef)((function(e,t){var n=e.info,a=n.type,r=n.title,c=n.message,i={title:"#2AC592",info:"#535353",display:"block"};switch(a){case"failed":i.title="#F25757";break;case"connecterr":case"any":i.display="none",i.info="#F25757";break;case"newroundl":case"newroundr":i.display="none",i.info="#2AC592"}var s=Me(i);return Object(D.jsx)(je.a,{ref:t,className:s.root,children:Object(D.jsxs)("div",{className:s.content,children:[Object(D.jsx)("img",{alt:"",src:He[a]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("span",{className:s.title,children:r}),Object(D.jsx)("span",{className:s.info,children:c})]})]})})})),Ge=Object(Se.a)({root:{top:"50px"}})((function(e){var t=e.classes,n=e.children;return Object(D.jsx)(je.b,{maxSnack:3,autoHideDuration:5e3,anchorOrigin:{vertical:"top",horizontal:"center"},classes:{root:t.root},content:function(e,t){return Object(D.jsx)(qe,{info:t})},children:n})})),Ye=Object(Se.a)({root:{minHeight:"0",padding:"0 15px",marginRight:"0",boxSizing:"content-box",border:"#c1c1c1 2px solid",borderBottom:"#4c4c4c 2px solid","&>span":{fontFamily:"Gillsans",color:"#fff",alignItems:"start"},"&:first-child":{borderLeft:"#4c4c4c 2px solid"},"&:last-child":{borderRight:"#4c4c4c 2px solid"}},textColorInherit:{opacity:"1"},selected:{backgroundColor:"white",border:"#4c4c4c 2px solid","&>span":{color:"#30384b"}}})((function(e){return Object(D.jsx)(Fe.a,Object(i.a)({},e))})),Ve=Object(Se.a)({root:{minHeight:"0"},flexContainer:{height:"35px",backgroundColor:"#c1c1c1"},indicator:{backgroundColor:"#fff",width:"calc(33.33% - 4px) !important",marginLeft:"2px"}})((function(e){return Object(D.jsx)("div",{style:{position:"relative"},children:Object(D.jsx)(Le.a,Object(i.a)(Object(i.a)({},e),{},{variant:"fullWidth",children:e.labels.map((function(e,t){return Object(D.jsx)(Ye,{label:e},t)}))}))})})),$e=n(628),Ze=n(599),Ke=n(600),Xe=n(629),Je=Object(Se.a)({root:{backgroundColor:"#EDF2FF",color:"#4975FF",boxShadow:"none",margin:"0 !important",borderRadius:"5px","&>div:first-child":{minHeight:0,height:0},"&>div:last-child div":{padding:"3px",fontSize:"16px",fontFamily:"Helvetica"},"&:before":{background:"none"}}})((function(e){return Object(D.jsxs)($e.a,Object(i.a)(Object(i.a)({},e),{},{expanded:e.expanded,children:[Object(D.jsx)(Ze.a,{}),Object(D.jsx)(Ke.a,{children:e.info})]}))})),Qe=Object(Se.a)({root:{fontFamily:"Gillsans",minHeight:"0",padding:"0",textTransform:"capitalize",fontWeight:"bold",fontSize:"1.1em",color:"#30384B","&>span":{alignItems:"start"}},textColorInherit:{opacity:"1"},selected:{"&>span":{color:"#275bff"}}})((function(e){return Object(D.jsx)(Fe.a,Object(i.a)({},e))})),et=Object(Se.a)({root:{minHeight:"0",display:"block"},scroller:{height:"35px"},fixed:{width:"auto"},indicator:{backgroundColor:"#275BFF",height:"5px",width:"20% !important",zIndex:"1"}})((function(e){var t=e.labels,n=e.tabs,r=e.value,c=t[n][r],o={};t.forEach((function(e){return e.forEach((function(e){return o[e]=!0}))}));var l=Object(a.useState)(o),d=Object(s.a)(l,2),u=d[0],p=d[1],b=Object(a.useState)(null),j=Object(s.a)(b,2),x=j[0],f=j[1],h=e.round,m=h.round,O=h.setRound,w=Object(L.a)((function(e){return{root:{position:"relative"},button:{position:"absolute",display:"flex",top:"2px",right:0},switch:{transform:"translateY(-8px)"},switchInfo:{color:"#C4C4C4",transform:"translateY(-8px)",display:"flex",alignItems:"center","& img":{width:"14px",marginLeft:"4px"}},expanded:{background:"none",border:"none",padding:0},hr:{position:"absolute",top:"24px",width:"100%",zIndex:"0",borderBottom:"#D8D8D8 1px solid",borderTop:"none"}}}))();return Object(D.jsxs)("div",{className:w.root,children:[Object(D.jsxs)("div",{className:w.button,children:[Object(D.jsx)(Xe.a,{checked:m,onChange:function(){return O(!m)},className:w.switch,disabled:!0}),Object(D.jsxs)("div",{className:w.switchInfo,children:[Object(D.jsx)("span",{children:"NewRound"}),Object(D.jsx)("img",{onMouseEnter:function(e){return f(e.currentTarget)},onMouseLeave:function(){return f(null)},alt:"",src:I}),Object(D.jsx)(Pe,{anchorEl:x,info:S.round})]})]}),Object(D.jsx)(Le.a,Object(i.a)(Object(i.a)({},e),{},{variant:"standard",children:t[n].map((function(e,t){return Object(D.jsx)(Qe,{disableRipple:!0,label:Object(D.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(D.jsx)("span",{children:e}),Object(D.jsx)("img",{onClick:function(){return p(Object(i.a)(Object(i.a)({},u),{},Object(se.a)({},e,!u[e])))},className:w.expanded,style:{margin:"0 6px",width:"30px",display:e===c?"inline":"none",transform:u[e]?"initial":"rotateX(180deg)"},src:P})]})},t)}))})),Object(D.jsx)("hr",{className:w.hr}),Object(D.jsx)(Je,{expanded:u[c],info:S[c]})]})})),tt=n(280),nt=n.n(tt),at=n(291),rt=n(622),ct=n(614),it=n(615),st=n(545),ot=n(129),lt=n(290),dt=n.n(lt),ut=n(601),pt=n(602);function bt(e){var t=e.signer,n=e.click_address,r=e.click_connect,c=Object(a.useState)(null),i=Object(s.a)(c,2),o=i[0],l=i[1];return Object(pe.a)(ue.a.mark((function e(){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,t.getAddress();case 3:(n=e.sent)!==o&&l(n),e.next=8;break;case 7:null!==o&&l(null);case 8:case"end":return e.stop()}}),e)})))(),o?Object(D.jsx)(ut.a,{variant:"outlined",color:"inherit",onClick:n,style:{borderRadius:"0",fontFamily:"Avenir"},children:Object(D.jsx)(rt.a,{textOverflow:"ellipsis",fontFamily:"Monospace",fontWeight:"fontWeightBold",overflow:"hidden",maxWidth:"25vw",children:o})}):t?Object(D.jsx)(rt.a,{width:"25vw",children:Object(D.jsx)(pt.a,{color:"secondary"})}):Object(D.jsx)(ut.a,{variant:"outlined",color:"inherit",onClick:r,style:{borderRadius:"0",fontFamily:"Avenir"},children:"Connect Wallet"})}var jt=n(6),xt=n(9),ft=n(14),ht=n(13),mt=n(603),Ot=n(604),wt=n(605),vt=n(606),gt=n(613),yt=n(607),Ct=n(608),kt=n(151),Et=n(609),At=n(611),St=n(612),Lt=n(610),Ft=function(e){Object(ft.a)(n,e);var t=Object(ht.a)(n);function n(e){var a;return Object(jt.a)(this,n),(a=t.call(this,e)).sync_address=Object(pe.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.props.signer){e.next=7;break}return e.next=3,a.props.signer.getAddress();case 3:if((t=e.sent)===a.state.address){e.next=7;break}return a.setState({address:t}),e.abrupt("return");case 7:case"end":return e.stop()}}),e)}))),a.sync_balance=Object(pe.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.props.signer){e.next=10;break}return e.next=3,a.props.signer.getBalance();case 3:if(t=e.sent,null!==a.state.balance){e.next=7;break}return a.setState({balance:t}),e.abrupt("return");case 7:if(!1!==t.eq(a.state.balance)){e.next=10;break}return a.setState({balance:t}),e.abrupt("return");case 10:case"end":return e.stop()}}),e)}))),a.render_address=function(){return a.state.address?Object(D.jsx)(rt.a,{fontFamily:"Monospace",textOverflow:"ellipsis",overflow:"hidden",m:1,fontSize:"h6.fontSize",align:"center",children:a.state.address}):Object(D.jsx)(rt.a,{width:"100%",children:Object(D.jsx)(pt.a,{color:"secondary"})})},a.state={address:null,balance:null},a}return Object(xt.a)(n,[{key:"render",value:function(){var e=this;return this.sync_address(),this.sync_balance(),Object(D.jsxs)(mt.a,{fullWidth:!0,open:this.props.open,onClose:this.props.onClose,children:[Object(D.jsx)(Ot.a,{children:"Account"}),Object(D.jsx)(wt.a,{children:Object(D.jsxs)(vt.a,{children:[Object(D.jsxs)(yt.a,{children:[this.render_address(),Object(D.jsx)(Ct.a,{component:kt.a,children:Object(D.jsx)(Et.a,{children:Object(D.jsx)(Lt.a,{children:Object(D.jsxs)(At.a,{children:[Object(D.jsx)(St.a,{component:"th",scope:"row",children:"ETH Balance"}),Object(D.jsx)(St.a,{align:"right",children:this.state.balance?Object(D.jsx)(ot.a,{color:"textPrimary",align:"center",component:"code",children:be.a.utils.formatEther(this.state.balance)}):Object(D.jsx)(rt.a,{width:"100%",children:Object(D.jsx)(pt.a,{color:"secondary"})})})]},"address")})})})]}),Object(D.jsxs)(gt.a,{children:[Object(D.jsx)(ut.a,{color:"primary",onClick:function(){navigator.clipboard.writeText(e.state.address)},children:Object(D.jsx)(ot.a,{noWrap:!0,children:"copy address"})}),Object(D.jsx)(ut.a,{color:"primary",href:"https://etherscan.io/address/".concat(this.state.address),target:"_blank",children:Object(D.jsx)(ot.a,{noWrap:!0,children:"view on etherscan"})}),Object(D.jsx)(ut.a,{color:"primary",onClick:this.props.disconnect,target:"_blank",children:Object(D.jsx)(ot.a,{noWrap:!0,children:"disconnect"})})]})]})})]})}}]),n}(a.Component),Nt=Object(L.a)((function(e){return{root:{zIndex:"9999"},appbar:{backgroundColor:"#4975FF"},toolbar:{minHeight:"56px"},"@global":{".web3modal-modal-lightbox":{zIndex:"5"}}}})),Dt=new nt.a({network:x,cacheProvider:!0,providerOptions:{walletconnect:{package:at.a,options:{infuraId:h}}}});function _t(){var e=Nt(),t=Object(a.useContext)(k),n=t.state,r=n.menu_open,c=n.dialog_open,i=n.signer,s=t.setState,o=Object(je.c)().enqueueSnackbar,l=function(){var e=Object(pe.a)(ue.a.mark((function e(){var t,n,a,r;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt.connect();case 2:return t=e.sent,n=new be.a.providers.Web3Provider(t),a=n.getSigner(),e.next=7,n.getNetwork();case 7:if((r=e.sent).chainId===f){e.next=12;break}return o({type:"failed",title:"Fail.",message:"not support this network, chainId: ".concat(r.chainId)}),s({signer:null}),e.abrupt("return");case 12:if(s({signer:a}),t.on){e.next=15;break}return e.abrupt("return");case 15:t.on("disconnect",(function(){Dt.clearCachedProvider(),s({signer:null,dialog_open:!1})})),t.on("accountsChanged",function(){var e=Object(pe.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=4;break}return Dt.clearCachedProvider(),s({signer:null,dialog_open:!1}),e.abrupt("return");case 4:return e.next=6,l();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.on("chainChanged",function(){var e=Object(pe.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===f){e.next=5;break}o({type:"failed",title:"Fail.",message:"not support this network, chainId: ".concat(r.chainId)}),s({signer:null}),e.next=7;break;case 5:return e.next=7,l();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){Dt.cachedProvider&&l()}),[]),Object(D.jsxs)("div",{children:[Object(D.jsx)(rt.a,{className:e.root,overflow:"hidden",children:Object(D.jsx)(ct.a,{position:"static",className:e.appbar,children:Object(D.jsxs)(it.a,{className:e.toolbar,children:[Object(D.jsx)(rt.a,{maxWidth:"10vw",display:r?"none":"block",children:Object(D.jsx)(st.a,{color:"inherit",onClick:function(){s({menu_open:!0})},edge:"start",children:Object(D.jsx)(dt.a,{})})}),Object(D.jsx)(rt.a,{flexGrow:1,textOverflow:"ellipsis",children:Object(D.jsx)(ot.a,{variant:"h6",noWrap:!0,style:{fontFamily:"Gill Sans"},children:"Collar"})}),Object(D.jsx)(bt,{signer:i,click_connect:l,click_address:function(){s({dialog_open:!0})}})]})})}),Object(D.jsx)(Ft,{signer:i,disconnect:function(){Dt.clearCachedProvider(),s({signer:null,dialog_open:!1})},open:c,onClose:function(){s({dialog_open:!1})}})]})}var Bt=n(187),It=n(36),Rt=n(546),Tt=n(619),zt=n(620),Pt=n(621),Wt=n(597),Ut=Object(L.a)((function(e){return{root:{},amount:{display:"flex",justifyContent:"space-between",marginBottom:"15px","&>div":{width:"50%"},"&>img":{marginTop:"40px"}},icon:{margin:"0 10px"},button:{display:"flex",flexDirection:"column","&>div":{display:"flex",justifyContent:"space-between","&>button":{width:"calc(50% - 15px)"}}}}})),Mt=be.a.constants.Zero;function Ht(){var e=Ut(),t=Object(a.useContext)(k).state.signer,n=Object(a.useContext)(E),r=n.liteState,c=(r.forceUpdate,r.bond),o=r.want,l=r.pool,d=r.poolList,u=r.data,p=r.controller,b=n.setLiteState,j=Object(a.useReducer)((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}),{input:{bond:Mt},output:{want:Mt},tip:{fee:"0.0000",min:"0.000",slip:"0.00"},I:{bond:""},old:{bond:""}}),x=Object(s.a)(j,2),f=x[0],h=x[1];return Object(a.useEffect)((function(){t&&!Mt.eq(u.swap.sk)&&Object(pe.a)(ue.a.mark((function e(){var n,a,r,c,i;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=be.a.utils.parseUnits(f.I.bond||"0",18),e.next=3,p.ct(l,t).get_dy(n);case 3:a=e.sent,r=(be.a.utils.formatEther(a)*(1-be.a.utils.formatEther(u.swap.fee))).toFixed(4),c=(.995*be.a.utils.formatEther(a)).toFixed(3),i=(31556926e5*parseFloat(be.a.utils.formatEther(u.swap.sx.add(n).add(u.swap.sk).mul(be.a.utils.parseEther("1")).div(u.swap.sy.add(u.swap.sk.mul(d[l].swap_sqp).div(be.a.BigNumber.from(1e9)))).sub(be.a.utils.parseEther("1"))))/(1e3*d[l].expiry_time-new Date)-u.apy).toPrecision(3),!1===n.eq(f.input.bond)&&h({input:{bond:n},output:{want:a},tip:{fee:r,min:c,slip:i}});case 8:case"end":return e.stop()}}),e)})))()}),[f]),Object(a.useEffect)((function(){h({I:{bond:""},tip:{fee:"0.0000",min:"0.000",slip:"0.00"},old:{bond:""}})}),[l]),Object(a.useMemo)((function(){return Object(D.jsxs)("div",{className:e.root,children:[Object(D.jsxs)("div",{className:e.amount,children:[Object(D.jsx)("div",{children:Object(D.jsx)(Ae,{title:"bond",State:{state:f,setState:h,token:c,max:parseFloat(be.a.utils.formatEther(u.balance.bond)),maxCondition:function(){return u.allowance.bond.gt("100000000000000000000000000000000")}},style:{height:"90px"}})}),Object(D.jsx)("img",{alt:"",src:z,className:e.icon}),Object(D.jsx)("div",{children:Object(D.jsx)(Re,{title:"want",state:{state:f,token:o},style:{height:"90px"}})})]}),Object(D.jsx)(Ue,{APY:u.apy?u.apy.toPrecision(3):"0.00",info:[{"Slippage tolerance":"".concat(f.tip.slip," %")},{"Minimum recieved":"".concat(f.tip.min)},{Route:"".concat(m[c].symbol," -> COLL -> ").concat(m[o].symbol)},{"Nominal swap fee":"".concat(f.tip.fee," ").concat(m[o].symbol)}]}),Object(D.jsx)("div",{className:e.button,children:Object(D.jsxs)("div",{children:[Object(D.jsx)(B,{name:"Approve",onClick:Object(pe.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.approve(c,l,t);case 2:b({forceUpdate:{}});case 3:case"end":return e.stop()}}),e)})))}),Object(D.jsx)(B,{name:"Deposit & Borrow",onClick:Object(pe.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.borrow(f.input.bond,f.output.want,l,t);case 2:b({forceUpdate:{}});case 3:case"end":return e.stop()}}),e)})))})]})})]})}),[f,l,u])}var qt=Object(L.a)((function(e){return{root:{},amount:{display:"flex",justifyContent:"space-between",marginBottom:"15px","&>div":{width:"50%"},"&>img":{marginTop:"40px"}},icon:{margin:"0 10px"},button:{display:"flex",flexDirection:"column","&>div":{display:"flex",justifyContent:"space-between","&>button":{width:"calc(50% - 15px)"}}}}})),Gt=be.a.constants.Zero;function Yt(e){var t=qt(),n=Object(a.useContext)(k).state.signer,r=Object(a.useContext)(E),c=r.liteState,o=(c.forceUpdate,c.bond),l=c.want,d=c.pool,u=c.poolList,p=c.data,b=c.controller,j=r.setLiteState,x=Object(a.useReducer)((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}),{input:{want:Gt,coll:Gt},output:{bond:Gt},tip:{fee:"0.0000",min:"0.000",slip:"0.00"},I:{want:"",coll:""},old:{want:"",coll:""}}),f=Object(s.a)(x,2),h=f[0],O=f[1];return Object(a.useEffect)((function(){n&&!Gt.eq(p.swap.sk)&&Object(pe.a)(ue.a.mark((function e(){var t,n,a,r,c,i;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=be.a.utils.parseUnits(h.I.want||"0",18),n=be.a.utils.parseUnits(h.I.coll||"0",18),a=t.add(n),r=(be.a.utils.formatEther(t)*(1-be.a.utils.formatEther(p.swap.fee))).toFixed(4),c=(.995*be.a.utils.formatEther(a)).toFixed(3),i=(31556926e5*parseFloat(be.a.utils.formatEther(p.swap.sx.add(a).add(p.swap.sk).mul(be.a.utils.parseEther("1")).div(p.swap.sy.add(p.swap.sk.mul(u[d].swap_sqp).div(be.a.BigNumber.from(1e9)))).sub(be.a.utils.parseEther("1"))))/(1e3*u[d].expiry_time-new Date)-p.apy).toPrecision(3),!1!==t.eq(h.input.want)&&!1!==n.eq(h.input.coll)||O({input:{want:t,coll:n},output:{bond:a},tip:{fee:r,min:c,slip:i}});case 7:case"end":return e.stop()}}),e)})))()}),[h]),Object(a.useEffect)((function(){O({tip:{fee:"0.0000",min:"0.000",slip:"0.00"},I:{want:"",coll:""},old:{want:"",coll:""}})}),[d]),Object(a.useMemo)((function(){return Object(D.jsxs)("div",{className:t.root,children:[Object(D.jsxs)("div",{className:t.amount,children:[Object(D.jsx)("div",{children:Object(D.jsx)(Be,{title:["want","coll"],State:{state:h,setState:O,token:[l,u[d].coll.addr],max:[Math.min(parseFloat(be.a.utils.formatEther(p.balance.call)),parseFloat(be.a.utils.formatEther(p.balance.want))),Math.min(parseFloat(be.a.utils.formatEther(p.balance.call)),parseFloat(be.a.utils.formatEther(p.balance.coll)))],maxCondition:[function(){return p.allowance.want.gt("100000000000000000000000000000000")},function(){return p.balance.coll.gt("0")}]},style:{height:"90px"}})}),Object(D.jsx)("img",{alt:"",src:z,className:t.icon}),Object(D.jsx)("div",{children:Object(D.jsx)(Re,{title:"bond",state:{state:h,token:o},style:{height:"90px"}})})]}),Object(D.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(D.jsxs)("div",{style:{margin:"-8px 0 8px 0",fontFamily:"Helvetica",fontSize:"0.8em"},children:["Maximum debt = ",be.a.utils.formatEther(p.balance.call)]}),Object(D.jsx)(Ue,{APY:p.apy?p.apy.toPrecision(3):"0.00",info:[{"Slippage tolerance":"".concat(h.tip.slip," %")},{"Minimum recieved":"".concat(parseFloat(be.a.utils.formatEther(h.input.want.add(h.input.coll))).toFixed(3)," ").concat(m[o].symbol)},{Route:"COLL-> ".concat(m[o].symbol," / ").concat(m[l].symbol,"->").concat(m[o].symbol)},{"Nominal swap fee":"".concat(h.tip.fee," ").concat(m[l].symbol," ")}]})]}),Object(D.jsx)("div",{className:t.button,children:Object(D.jsxs)("div",{children:[Object(D.jsx)(B,{name:"Approve",onClick:Object(pe.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.approve(l,d,n);case 2:j({forceUpdate:{}});case 3:case"end":return e.stop()}}),e)})))}),Object(D.jsx)(B,{name:"Repay",onClick:Object(pe.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.repay(h.input.want,h.input.coll,d,n);case 2:j({forceUpdate:{}});case 3:case"end":return e.stop()}}),e)})))})]})})]})}),[h,d,p])}var Vt=Object(L.a)((function(e){return{root:{},amount:{display:"flex",justifyContent:"space-between",marginBottom:"15px","&>div":{width:"50%"},"&>img":{marginTop:"40px"}},icon:{margin:"0 10px"},button:{display:"flex",justifyContent:"space-between","&>div":{width:"calc(50% - 15px)",display:"flex",flexDirection:"column","&>button":{"&:first-child":{marginBottom:"15px"}},"@media screen and (min-width:960px)":{"&:first-child":{flexDirection:"row",justifyContent:"space-between","&>button":{width:"calc(50% - 10px)",marginBottom:"0 !important"}},"&:last-child":{"&>button":{width:"100%",marginBottom:"0 !important"}}}}}}})),$t=be.a.constants.Zero;function Zt(e){var t=Vt(),n=Object(a.useContext)(k).state.signer,r=Object(a.useContext)(E),c=r.liteState,o=(c.forceUpdate,c.bond,c.want),l=c.pool,d=c.poolList,u=c.data,p=c.controller,b=r.setLiteState,j=Object(a.useReducer)((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}),{input:{want:$t,coll:$t},output:{clpt:$t},tip:{share:"0.000",pool:"0.00",slip:"0.00"},I:{want:"",coll:""},old:{want:"",coll:""}}),x=Object(s.a)(j,2),f=x[0],h=x[1];return Object(a.useEffect)((function(){n&&!$t.eq(u.swap.sk)&&Object(pe.a)(ue.a.mark((function e(){var t,a,r,c,i,s;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=be.a.utils.parseUnits(f.I.want||"0",18),a=be.a.utils.parseUnits(f.I.coll||"0",18),e.next=4,p.ct(l,n).get_dk(a,t);case 4:r=e.sent,c=(be.a.utils.formatEther(u.swap.sx)/be.a.utils.formatEther(u.swap.sy)).toPrecision(3),i=(be.a.utils.formatEther(u.balance.clpt)/be.a.utils.formatEther(u.swap.sk)*100).toPrecision(3),s=(31556926e5*parseFloat(be.a.utils.formatEther(u.swap.sx.add(a).add(u.swap.sk).mul(be.a.utils.parseEther("1")).div(u.swap.sy.add(t).add(u.swap.sk.mul(d[l].swap_sqp).div(be.a.BigNumber.from(1e9)))).sub(be.a.utils.parseEther("1"))))/(1e3*d[l].expiry_time-new Date)-u.apy).toPrecision(3),!1!==t.eq(f.input.want)&&!1!==a.eq(f.input.coll)||h({input:{want:t,coll:a},output:{clpt:r},tip:{share:i,pool:c,slip:s}});case 9:case"end":return e.stop()}}),e)})))()}),[f]),Object(a.useEffect)((function(){h({tip:{share:"0.000",pool:"0.00",slip:"0.00"},I:{want:"",coll:""},old:{want:"",coll:""}})}),[l]),Object(a.useMemo)((function(){return Object(D.jsxs)("div",{className:t.root,children:[Object(D.jsxs)("div",{className:t.amount,children:[Object(D.jsxs)("div",{children:[Object(D.jsx)(Ae,{title:"want",State:{state:f,setState:h,token:o,max:parseFloat(be.a.utils.formatEther(u.balance.want)),maxCondition:function(){return u.allowance.want.gt("100000000000000000000000000000000")}},style:{height:"90px"}}),Object(D.jsx)(Ae,{title:"coll",State:{state:f,setState:h,token:d[l].coll.addr,max:parseFloat(be.a.utils.formatEther(u.balance.coll)),maxCondition:function(){return u.balance.coll.gt("0")}},style:{height:"90px"}})]}),Object(D.jsx)("img",{alt:"",src:z,className:t.icon}),Object(D.jsx)("div",{children:Object(D.jsx)(Re,{title:"clpt",state:{state:f,token:l},style:{height:"249px"}})})]}),Object(D.jsx)(Ue,{APY:"todo",info:[{"Share of Pool":"".concat(f.tip.share," %")},{"Pool Balance":"1 ".concat(m[o].symbol," = ").concat(f.tip.pool," COLL")},{"Slippage tolerance":"".concat(f.tip.slip," %")}]}),Object(D.jsxs)("div",{className:t.button,children:[Object(D.jsxs)("div",{children:[Object(D.jsx)(B,{name:"Approve",onClick:Object(pe.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.approve(o,l,n);case 2:b({forceUpdate:{}});case 3:case"end":return e.stop()}}),e)})))}),Object(D.jsx)(B,{name:"Deposit",onClick:Object(pe.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.deposit(f.input.want,f.input.coll,f.output.clpt,l,n);case 2:b({forceUpdate:{}});case 3:case"end":return e.stop()}}),e)})))})]}),Object(D.jsx)("div",{children:Object(D.jsx)(B,{name:"Claim",onClick:Object(pe.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.claim(l,n);case 2:b({forceUpdate:{}});case 3:case"end":return e.stop()}}),e)})))})})]})]})}),[f,l,u])}var Kt=Object(L.a)((function(e){return{root:{},amount:{display:"flex",justifyContent:"space-between",marginBottom:"15px","&>div":{width:"50%"},"&>img":{marginTop:"40px"}},icon:{margin:"0 10px"},button:{display:"flex",justifyContent:"space-between","&>div":{width:"calc(50% - 15px)",display:"flex",flexDirection:"column","&>button":{"&:first-child":{marginBottom:"15px"}},"@media screen and (min-width:960px)":{"&:first-child":{flexDirection:"row",justifyContent:"space-between","&>button":{width:"calc(50% - 10px)",marginBottom:"0 !important"}},"&:last-child":{"&>button":{width:"100%",marginBottom:"0 !important"}}}}}}})),Xt=be.a.constants.Zero;function Jt(e){var t=Kt(),n=Object(a.useContext)(k).state.signer,r=Object(a.useContext)(E),c=r.liteState,o=(c.forceUpdate,c.bond,c.want),l=c.pool,d=c.poolList,u=c.data,p=c.controller,b=r.setLiteState,j=Object(a.useReducer)((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}),{input:{clpt:Xt},output:{want:Xt,coll:Xt},tip:{share:"0.000",pool:"0.00",fee:"0.0000",rate:{want:0,coll:0}},I:{clpt:""},old:{clpt:""}}),x=Object(s.a)(j,2),f=x[0],h=x[1];return Object(a.useEffect)((function(){n&&!Xt.eq(u.swap.sk)&&Object(pe.a)(ue.a.mark((function e(){var t,a,r,c,i,s;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=be.a.utils.parseUnits(f.I.clpt||"0",18),e.next=3,p.ct(l,n).get_dxdy(t);case 3:a=e.sent,r=(be.a.utils.formatEther(u.swap.sx)/be.a.utils.formatEther(u.swap.sy)).toPrecision(3),c=(be.a.utils.formatEther(u.balance.clpt)/be.a.utils.formatEther(u.swap.sk)*100).toPrecision(3),i={coll:t.eq(Xt)?0:parseFloat(be.a.utils.formatEther(a[0])/f.I.clpt).toPrecision(3),want:t.eq(Xt)?0:parseFloat(be.a.utils.formatEther(a[1])/f.I.clpt).toPrecision(3)},s=(be.a.utils.formatEther(a[0])*(1-be.a.utils.formatEther(u.swap.fee))).toFixed(4),!1===t.eq(f.input.clpt)&&h({input:{clpt:t},output:{want:a[1],coll:a[0]},tip:{share:c,pool:r,fee:s,rate:i}});case 9:case"end":return e.stop()}}),e)})))()}),[f]),Object(a.useEffect)((function(){h({tip:{share:"0.000",pool:"0.00",fee:"0.0000",rate:{want:0,coll:0}},I:{clpt:""},old:{clpt:""}})}),[l]),Object(a.useMemo)((function(){return Object(D.jsxs)("div",{className:t.root,children:[Object(D.jsxs)("div",{className:t.amount,children:[Object(D.jsx)("div",{children:Object(D.jsx)(Ae,{title:"clpt",State:{state:f,setState:h,token:l,max:parseFloat(be.a.utils.formatEther(u.balance.clpt)),maxCondition:function(){return u.balance.clpt.gt("0")}},style:{height:"249px"}})}),Object(D.jsx)("img",{alt:"",src:z,className:t.icon}),Object(D.jsxs)("div",{children:[Object(D.jsx)(Re,{title:"want",state:{state:f,token:o},style:{height:"90px"}}),Object(D.jsx)(Re,{title:"coll",state:{state:f,token:d[l].coll.addr},style:{height:"90px"}})]})]}),Object(D.jsx)(Ue,{APY:"todo",info:[{"Exchange Rate":"1CLPT = ".concat(f.tip.rate.want," ").concat(m[o].symbol," + ").concat(f.tip.rate.coll," COLL")},{"Share of Pool":"".concat(f.tip.share," %")},{"Pool Balance":"1 ".concat(m[o].symbol," = ").concat(f.tip.pool," COLL")},{"Nominal swap fee":"".concat(f.tip.fee," COLL")}]}),Object(D.jsxs)("div",{className:t.button,children:[Object(D.jsxs)("div",{children:[Object(D.jsx)(B,{name:"Withdraw",onClick:Object(pe.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.withdraw(f.input.clpt,l,n);case 2:b({forceUpdate:{}});case 3:case"end":return e.stop()}}),e)})))}),Object(D.jsx)(B,{name:"Claim",onClick:Object(pe.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.claim(l,n);case 2:b({forceUpdate:{}});case 3:case"end":return e.stop()}}),e)})))})]}),Object(D.jsx)("div",{children:Object(D.jsx)(B,{name:"Withdraw & Claim",onClick:Object(pe.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.burn_and_claim(f.input.clpt,l,n);case 2:b({forceUpdate:{}});case 3:case"end":return e.stop()}}),e)})))})})]})]})}),[f,l,u])}var Qt=Object(L.a)((function(e){return{root:{},amount:{display:"flex",justifyContent:"space-between",marginBottom:"15px","&>div":{width:"50%"},"&>img":{marginTop:"40px"}},icon:{margin:"0 10px"},button:{display:"flex",flexDirection:"column","&>div":{display:"flex",justifyContent:"space-between","&>button":{width:"calc(50% - 15px)"}}}}})),en=be.a.constants.Zero;function tn(e){var t=Qt(),n=Object(a.useContext)(k).state.signer,r=Object(a.useContext)(E),c=r.liteState,o=(c.forceUpdate,c.bond,c.want),l=c.pool,d=c.poolList,u=c.data,p=c.controller,b=r.setLiteState,j=Object(a.useReducer)((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}),{input:{want:en},output:{coll:en},tip:{fee:"0.0000",min:"0.000",slip:"0.00"},I:{want:""},old:{want:""}}),x=Object(s.a)(j,2),f=x[0],h=x[1];return Object(a.useEffect)((function(){n&&!en.eq(u.swap.sk)&&Object(pe.a)(ue.a.mark((function e(){var t,a,r,c,i;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=be.a.utils.parseUnits(f.I.want||"0",18),e.next=3,p.ct(l,n).get_dx(t);case 3:a=e.sent,r=(be.a.utils.formatEther(a)*(1-be.a.utils.formatEther(u.swap.fee))).toFixed(4),c=(.995*be.a.utils.formatEther(a)).toFixed(3),i=(31556926e5*parseFloat(be.a.utils.formatEther(u.swap.sx.add(u.swap.sk).mul(be.a.utils.parseEther("1")).div(u.swap.sy.add(t).add(u.swap.sk.mul(d[l].swap_sqp).div(be.a.BigNumber.from(1e9)))).sub(be.a.utils.parseEther("1"))))/(1e3*d[l].expiry_time-new Date)-u.apy).toPrecision(3),!1===t.eq(f.input.want)&&h({input:{want:t},output:{coll:a},tip:{fee:r,min:c,slip:i}});case 8:case"end":return e.stop()}}),e)})))()}),[f]),Object(a.useEffect)((function(){h({tip:{fee:"0.0000",min:"0.000",slip:"0.00"},I:{want:""},old:{want:""}})}),[l]),Object(a.useMemo)((function(){return Object(D.jsxs)("div",{className:t.root,children:[Object(D.jsxs)("div",{className:t.amount,children:[Object(D.jsx)("div",{children:Object(D.jsx)(Ae,{title:"want",State:{state:f,setState:h,token:o,max:parseFloat(be.a.utils.formatEther(u.balance.want)),maxCondition:function(){return u.allowance.want.gt("100000000000000000000000000000000")}},style:{height:"90px"}})}),Object(D.jsx)("img",{alt:"",src:z,className:t.icon}),Object(D.jsx)("div",{children:Object(D.jsx)(Re,{title:"coll",state:{state:f,token:d[l].coll.addr},style:{height:"90px"}})})]}),Object(D.jsx)(Ue,{APY:u.apy?u.apy.toPrecision(3):"0.00",info:[{"Slippage tolerance":"".concat(f.tip.slip," %")},{"Minimum recieved":"".concat(f.tip.min," COLL")},{Route:"".concat(m[o].symbol," -> COLL")},{"Nominal swap fee":"".concat(f.tip.fee," COLL")}]}),Object(D.jsx)("div",{className:t.button,children:Object(D.jsxs)("div",{children:[Object(D.jsx)(B,{name:"Approve",onClick:Object(pe.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.approve(o,l,n);case 2:b({forceUpdate:{}});case 3:case"end":return e.stop()}}),e)})))}),Object(D.jsx)(B,{name:"Lend",onClick:Object(pe.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.lend(f.input.want,f.output.coll,l,n);case 2:b({forceUpdate:{}});case 3:case"end":return e.stop()}}),e)})))})]})})]})}),[f,l,u])}var nn=Object(L.a)((function(e){return{root:{},amount:{display:"flex",justifyContent:"space-between",marginBottom:"15px","&>div":{width:"50%"},"&>img":{marginTop:"40px"}},icon:{margin:"0 10px"},button:{display:"flex",flexDirection:"column","&>div":{display:"flex",justifyContent:"space-between","&>button":{width:"calc(50% - 15px)"}}}}})),an=be.a.constants.Zero;function rn(e){var t=nn(),n=Object(a.useContext)(k).state.signer,r=Object(a.useContext)(E),c=r.liteState,o=(c.forceUpdate,c.bond,c.want),l=c.pool,d=c.poolList,u=c.data,p=c.controller,b=r.setLiteState,j=Object(a.useReducer)((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}),{input:{coll:an},output:{want:an},tip:{fee:"0.0000",min:"0.000",slip:"0.00"},I:{coll:""},old:{coll:""}}),x=Object(s.a)(j,2),f=x[0],h=x[1];return Object(a.useEffect)((function(){n&&!an.eq(u.swap.sk)&&Object(pe.a)(ue.a.mark((function e(){var t,a,r,c,i;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=be.a.utils.parseUnits(f.I.coll||"0",18),e.next=3,p.ct(l,n).get_dy(t);case 3:if(a=e.sent,r=(be.a.utils.formatEther(a)*(1-be.a.utils.formatEther(u.swap.fee))).toFixed(4),c=(.995*be.a.utils.formatEther(a)).toFixed(3),i=(31556926e5*parseFloat(be.a.utils.formatEther(u.swap.sx.add(u.swap.sk).mul(be.a.utils.parseEther("1")).div(u.swap.sy.add(a).add(u.swap.sk.mul(d[l].swap_sqp).div(be.a.BigNumber.from(1e9)))).sub(be.a.utils.parseEther("1"))))/(1e3*d[l].expiry_time-new Date)-u.apy).toPrecision(3),!1!==t.eq(f.input.coll)){e.next=10;break}return h({input:{coll:t},output:{want:a},tip:{fee:r,min:c,slip:i}}),e.abrupt("return");case 10:case"end":return e.stop()}}),e)})))()}),[f]),Object(a.useEffect)((function(){h({tip:{fee:"0.0000",min:"0.000",slip:"0.00"},I:{coll:""},old:{coll:""}})}),[l]),Object(a.useMemo)((function(){return Object(D.jsxs)("div",{className:t.root,children:[Object(D.jsxs)("div",{className:t.amount,children:[Object(D.jsx)("div",{children:Object(D.jsx)(Ae,{title:"coll",State:{state:f,setState:h,token:d[l].coll.addr,max:parseFloat(be.a.utils.formatEther(u.balance.coll)),maxCondition:function(){return u.balance.coll.gt("0")}},style:{height:"90px"}})}),Object(D.jsx)("img",{alt:"",src:z,className:t.icon}),Object(D.jsx)("div",{children:Object(D.jsx)(Re,{title:"want",state:{state:f,token:o},style:{height:"90px"}})})]}),Object(D.jsx)(Ue,{APY:u.apy?u.apy.toPrecision(3):"0.00",info:[{"Slippage tolerance":"".concat(f.tip.slip," %")},{"Minimum recieved":"".concat(f.tip.min," ").concat(m[o].symbol)},{Route:"COLL -> ".concat(m[o].symbol)},{"Nominal swap fee":"".concat(f.tip.fee," ").concat(m[o].symbol," ")}]}),Object(D.jsx)("div",{className:t.button,children:Object(D.jsxs)("div",{children:[Object(D.jsx)(B,{name:"Approve",onClick:function(){console.log("Approve")}}),Object(D.jsx)(B,{name:"Exit",onClick:Object(pe.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.redeem(f.output.want,f.input.coll,l,n);case 2:b({forceUpdate:{}});case 3:case"end":return e.stop()}}),e)})))})]})})]})}),[f,l,u])}var cn=Object(L.a)((function(e){return{root:{marginTop:"-10px",display:"flex",background:"none !important",flexDirection:"column","&>div":{display:"flex",justifyContent:"space-between","&>div":{width:"calc(50% - 10px)"}}}}}));function sn(){var e=cn(),t=Object(a.useContext)(k).state.signer,n=Object(a.useContext)(E),r=n.liteState,c=r.forceUpdate,i=r.pool,o=r.poolList,l=r.bond,d=r.want,u=r.data,p=r.controller,b=n.setLiteState,j=Object(a.useState)({}),x=Object(s.a)(j,2),f=(x[0],x[1]);return Object(a.useEffect)((function(){t&&Object(pe.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.next=3,p.fetch_state(i,t);case 3:e.t1=e.sent,e.t2={data:e.t1},(0,e.t0)(e.t2),f({});case 7:case"end":return e.stop()}}),e)})))()}),[c]),Object(D.jsxs)("div",{className:e.root,children:[Object(D.jsxs)("div",{children:[Object(D.jsx)(ne,{token:m[l].symbol,status:u.allowance.bond.gt("100000000000000000000000000000000")?"APPROVED":"NOT APPROVED",amount:be.a.utils.formatEther(u.balance.bond)}),Object(D.jsx)(ne,{token:m[d].symbol,status:u.allowance.want.gt("100000000000000000000000000000000")?"APPROVED":"NOT APPROVED",amount:be.a.utils.formatEther(u.balance.want)})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)(ne,{token:"CALL",status:"TOTAL BORROWED",amount:be.a.utils.formatEther(u.balance.call)}),Object(D.jsx)(ne,{token:"COLL",status:"TOTAL LENT",amount:be.a.utils.formatEther(u.balance.coll)})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)(ne,{token:"CLPT",status:"LP TOKEN",amount:be.a.utils.formatEther(u.balance.clpt)}),Object(D.jsx)(ne,{token:"COLLAR",status:"".concat(parseFloat(be.a.utils.formatEther(u.earned.collar)).toFixed(4)," EARNED"),amount:be.a.utils.formatEther(u.balance.collar)})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)(re,{title:"Interest Rate",data:u.apy,info:"FOR BOTH LENDING AND BORROWING"}),Object(D.jsx)(re,{title:"Farm APY",data:"---",info:"---"})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)(re,{title:"Expiry",data:new Date(1e3*o[i].expiry_time).toLocaleString(),info:"REPAY BEFORE THIS TIME",styles:{color:"#FF5C5C"},noHr:!0}),Object(D.jsx)(ie,{title:"Nominal swap fee",data1:"0.01% for Borrow, Withdraw, Lend and Redeem",data2:"0% for Repay and Deposit",noHr:!0})]})]})}var on=n(596),ln=n(624),dn=n(616),un=n(186),pn=n.n(un),bn=Object(L.a)((function(e){return{root:{},formControlTitle:{fontFamily:"Helvetica",fontSize:"0.8em",display:"block",margin:"10px 0",color:"#30384B"},formControlList:{display:"flex",justifyContent:"space-between","&>div":{backgroundColor:"#F4F4F4","&>div":{lineHeight:"unset"},"&>div::before":{border:"none"}}},formControl:{width:"50%","& span":{fontFamily:"Gillsans"}},icon:{margin:"0 10px"},select:{"&>div":{"& span,& img":{verticalAlign:"middle"}}}}}));function jn(){var e=bn(),t=Object(a.useContext)(E),n=t.liteState,r=(n.pool,n.pools),c=n.bond,i=n.want,s=n.bondList,o=n.wantList,l=t.setLiteState;return Object(a.useEffect)((function(){var e=r.filter((function(e){return e.bond.addr===c})).map((function(e){return e.want}));l({wantList:e,want:e[0].addr})}),[c]),Object(a.useEffect)((function(){l({pool:r.filter((function(e){return e.bond.addr===c&&e.want.addr===i}))[0].pool})}),[i]),Object(a.useMemo)((function(){return Object(D.jsxs)("div",{className:e.root,children:[Object(D.jsx)("span",{className:e.formControlTitle,children:"Selector Pair"}),Object(D.jsxs)("div",{className:e.formControlList,children:[Object(D.jsx)(on.a,{className:e.formControl,children:Object(D.jsx)(ln.a,{value:c,onChange:function(e){l({bond:e.target.value})},className:e.select,IconComponent:pn.a,children:s.map((function(t,n){return Object(D.jsxs)(dn.a,{value:t.addr,children:[Object(D.jsx)("img",{alt:"",src:t.icon,className:e.icon,style:{width:"20px"}}),Object(D.jsx)("span",{style:{fontFamily:"Gillsans"},children:t.symbol})]},n)}))})}),Object(D.jsx)("img",{alt:"",src:z,className:e.icon}),Object(D.jsx)(on.a,{className:e.formControl,children:Object(D.jsx)(ln.a,{value:i,onChange:function(e){return l({want:e.target.value})},className:e.select,IconComponent:pn.a,children:o.length?o.map((function(t,n){return Object(D.jsxs)(dn.a,{value:t.addr,children:[Object(D.jsx)("img",{alt:"",src:t.icon,className:e.icon,style:{width:"20px"}}),Object(D.jsx)("span",{style:{fontFamily:"Gillsans"},children:t.symbol})]},n)})):Object(D.jsx)(dn.a,{value:i})})})]})]})}),[c,i,o])}var xn=Object(L.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center","&>div":{position:"relative",backgroundColor:"white","&:first-child":{zIndex:"4",margin:"20px 20px 0 20px"},"&:nth-child(2)":{zIndex:"2",transform:"translateY(-13px)",boxSizing:"border-box",border:"#4C4C4C 2px solid",height:"20px",width:"calc(100% - 60px)"},"&:nth-child(3)":{zIndex:"1",transform:"translateY(-26px)",boxSizing:"border-box",border:"#4C4C4C 2px solid",height:"20px",width:"calc(100% - 80px)"},"@media screen and (max-width:960px)":{width:"calc(100% - 40px)"},"@media screen and (min-width:960px)":{width:"900px","&:nth-child(2)":{width:"880px"},"&:nth-child(3)":{width:"860px"}}}},content:{zIndex:"3",position:"relative",backgroundColor:"white",border:"#4C4C4C 2px solid",borderTop:"none",padding:"15px"}}})),fn=be.a.constants.Zero;function hn(){var e=xn(),t=Ce(),n=Object(a.useContext)(k).state.signer,r=Object(a.useReducer)((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}),{tabs:0,tabsChild:0,round:!1,pool:C[0].pool,bond:C[0].bond.addr,want:C[0].want.addr,pools:C,poolList:v,bondList:y,wantList:[],data:{balance:{bond:fn,want:fn,call:fn,coll:fn,clpt:fn,collar:fn},allowance:{bond:fn,want:fn},earned:{collar:fn},swap:{sx:fn,sy:fn,sk:fn}},controller:t,forceUpdate:{}}),c=Object(s.a)(r,2),o=c[0],l=c[1];Object(a.useEffect)((function(){n?Object(pe.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,t.fetch_state(o.pool,n);case 3:e.t1=e.sent,e.t2={data:e.t1},(0,e.t0)(e.t2);case 6:case"end":return e.stop()}}),e)})))():l({data:{balance:{bond:fn,want:fn,call:fn,coll:fn,clpt:fn,collar:fn},allowance:{bond:fn,want:fn},earned:{collar:fn},swap:{sx:fn,sy:fn,sk:fn}}})}),[n,o.pool]);var d=o.tabs,u=o.tabsChild,p=o.round,b=[[Ht,Yt],[Zt,Jt],[tn,rn]][d][u];return Object(D.jsx)(E.Provider,{value:{liteState:o,setLiteState:l},children:Object(D.jsxs)("div",{className:e.root,children:[Object(D.jsxs)("div",{children:[Object(D.jsx)(Ve,{value:d,onChange:function(e,t){return l({tabs:t,tabsChild:0})},labels:["LOAN","FARM","SWAP"]}),Object(D.jsxs)("div",{className:e.content,children:[Object(D.jsx)(et,{tabs:d,value:u,labels:[["Borrow","Repay"],["Deposit","Withdraw"],["Lend","Exit"]],onChange:function(e,t){return l({tabsChild:t})},round:{round:p,setRound:function(e){return l({round:e})}}}),Object(D.jsx)(jn,{}),Object(D.jsx)(b,{})]})]}),Object(D.jsx)("div",{}),Object(D.jsx)("div",{}),Object(D.jsx)(sn,{})]})})}var mn=Object(L.a)({root:{display:"flex",flexDirection:"column",margin:"30px auto","@media screen and (max-width:960px)":{width:"calc(100% - 40px)",padding:"0 20px"},"@media screen and (min-width:960px)":{width:"900px"}}});var On=Object(L.a)({root:{color:"white",fontFamily:"Gillsans"},header:{display:"flex",alignItems:"center",fontSize:"25px",marginBottom:"20px","&>img":{width:"20px",marginRight:"5px"}},data:{display:"flex","@media screen and (max-width:960px)":{justifyContent:"space-between"},"@media screen and (min-width:960px)":{flexDirection:"column"}},totalValue:{display:"flex",flexDirection:"column",marginBottom:"20px","&>div:first-child":{fontSize:"20px",display:"flex",alignItems:"center",marginBottom:"5px","&>span":{color:"#7B96EB",marginRight:"5px"},"&>img":{width:"16px"}},"&>div:last-child":{fontSize:"30px"}},globalValue:{display:"flex","@media screen and (max-width:960px)":{width:"40%",flexDirection:"column"},"@media screen and (min-width:960px)":{justifyContent:"space-between"}},globalValueInfo:{"@media screen and (max-width:960px)":{marginBottom:"10px"},"@media screen and (min-width:960px)":{width:"48%"},"&>div:first-child span":{fontSize:"20px",color:"#7B96EB",marginBottom:"5px"},"&>div:last-child":{display:"flex",alignItems:"center",backgroundColor:"#111C3C",padding:"5px 10px"}}});function wn(e){var t=e.totalValueLocked,n=e.totalBorrowed,r=e.totalCollateral,c=On(),i=Object(a.useState)({totalValue:null}),o=Object(s.a)(i,2),l=o[0],d=o[1];return Object(D.jsxs)("div",{className:c.root,children:[Object(D.jsxs)("div",{className:c.header,children:[Object(D.jsx)("img",{src:G,alt:""}),Object(D.jsx)("span",{children:"Global"})]}),Object(D.jsxs)("div",{className:c.data,children:[Object(D.jsxs)("div",{className:c.totalValue,children:[Object(D.jsxs)("div",{children:[Object(D.jsx)("span",{children:"Total Value Locked"}),Object(D.jsx)("img",{src:I,alt:"",onMouseEnter:function(e){return d({totalValue:e.currentTarget})},onMouseLeave:function(){return d({totalValue:null})}}),Object(D.jsx)(Pe,{anchorEl:l.totalValue,info:S.TotalValueLocked})]}),Object(D.jsxs)("div",{children:["$ ",t||0]})]}),Object(D.jsxs)("div",{className:c.globalValue,children:[Object(D.jsxs)("div",{className:c.globalValueInfo,children:[Object(D.jsx)("div",{children:Object(D.jsx)(ee.a,{content:"Total Borrowed"})}),Object(D.jsx)("div",{children:Object(D.jsx)(ee.a,{content:"$ ".concat(n||0)})})]}),Object(D.jsxs)("div",{className:c.globalValueInfo,children:[Object(D.jsx)("div",{children:Object(D.jsx)(ee.a,{content:"Total Collateral"})}),Object(D.jsx)("div",{children:Object(D.jsx)(ee.a,{content:"$ ".concat(r||0)})})]})]})]})]})}var vn=Object(L.a)({root:{"&>div:first-child":{fontSize:"25px",fontFamily:"Gillsans",color:"#fff",marginBottom:"10px"},"&>div:last-child":{display:"flex",justifyContent:"space-between","&>div":{display:"flex",width:"calc(50% - 10px)",justifyContent:"space-between","&>div":{width:"calc(50% - 10px)"}},"@media screen and (max-width:960px)":{flexDirection:"column","&>div":{width:"100%"}}}}}),gn=Object(Se.a)({root:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center","&>div":{position:"relative",backgroundColor:"white",boxSizing:"border-box",border:"#4C4C4C 3px solid"}},main:{zIndex:"4",width:"100%",padding:"15px",display:"flex",flexDirection:"column",justifyContent:"center"},second:{zIndex:"2",transform:"translateY(-11px)",height:"15px",width:"calc(100% - 20px)"},third:{zIndex:"1",transform:"translateY(-22px)",height:"15px",width:"calc(100% - 40px)"}})((function(e){var t=e.classes,n=e.title,a=e.remarks,r=e.amount,c=e.token,i=e.color;return Object(D.jsxs)("div",{className:t.root,children:[Object(D.jsxs)("div",{className:t.main,children:[Object(D.jsx)("div",{style:{color:"#30384B",fontSize:"16px",fontFamily:"Helvetica"},children:Object(D.jsx)(ee.a,{content:n})}),Object(D.jsx)("div",{style:{color:"#A3B7E4",fontSize:"10px",fontFamily:"Helvetica",marginBottom:"10px"},children:Object(D.jsx)(ee.a,{content:a})}),Object(D.jsx)("div",{style:{color:i||"#30384B",fontSize:"18px",fontWeight:"bold"},children:Object(D.jsx)(ee.a,{content:r})}),Object(D.jsx)("span",{style:{color:"#30384B",fontSize:"15px",fontWeight:"bold"},children:c})]}),Object(D.jsx)("div",{className:t.second}),Object(D.jsx)("div",{className:t.third})]})}));function yn(e){var t=e.outstandingDebt,n=e.depostBalance,a=e.receivables,r=e.rewards,c=vn();return Object(D.jsxs)("div",{className:c.root,children:[Object(D.jsx)("div",{children:"Your Balance"}),Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{children:[Object(D.jsx)(gn,{title:"Outstanding Debt",remarks:"*Value of Borrowed Asset",amount:(t||0).toFixed(3),token:"USD"}),Object(D.jsx)(gn,{title:"Depost Balance",remarks:"*Value of Collateral",amount:(n||0).toFixed(3),token:"USD"})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)(gn,{title:"Receivables",remarks:"*Value of Lent Asset",amount:(a||0).toFixed(3),token:"USD"}),Object(D.jsx)(gn,{title:"Rewards",remarks:"*Value of Claimable COLLAR",amount:(r||0).toFixed(3),token:"COLLAR",color:"#4975FF"})]})]})]})}var Cn=n(617),kn=Object(L.a)({root:{"@media screen and (max-width:960px)":{display:"none"},"@media screen and (min-width:960px)":{"&>div>table":{"& tr":{borderBottom:"#D8D8D8 1px solid"},"& th,& td":{color:"white",padding:0,border:"none",fontSize:"18px",fontFamily:"Gillsans",whiteSpace:"nowrap"},"& button":{width:"133px"}}}},tokenOne:{margin:"10px 0",textAlign:"center",width:"fit-content","& img":{display:"block",width:"40px",marginBottom:"5px"}},tokenTwo:{margin:"10px 0",textAlign:"center",width:"fit-content","& img":{width:"40px",marginBottom:"5px","&:nth-child(2)":{position:"relative",left:"-15px"}}},tableHead:{"& th":{paddingBottom:"10px !important"}},cellWidthEmpty:{width:0},button:{textAlign:"right",margin:"10px 0",width:0},price:{fontSize:"10px",color:"#99A8C9"}}),En=Object(Se.a)({root:{lineHeight:"unset"}})((function(e){return Object(D.jsx)(St.a,Object(i.a)({},e))}));function An(e){var t=e.pool,n=e.val,a=e.handleClick,r=kn();return Object(D.jsx)("div",{className:r.root,children:Object(D.jsx)(Ct.a,{children:Object(D.jsxs)(Et.a,{children:[Object(D.jsx)(Cn.a,{className:r.tableHead,children:Object(D.jsxs)(At.a,{children:[Object(D.jsx)(En,{children:"Token"}),Object(D.jsx)(En,{align:"center",children:"Balance"}),Object(D.jsx)(En,{align:"center",children:"APY"})]})}),Object(D.jsxs)(Lt.a,{children:[Object(D.jsxs)(At.a,{children:[Object(D.jsx)(En,{className:r.cellWidthEmpty,children:Object(D.jsxs)("div",{className:r.tokenOne,children:[Object(D.jsx)("img",{src:t.coll.icon,alt:""}),Object(D.jsx)("span",{children:"COLL"})]})}),Object(D.jsxs)(En,{align:"center",children:[Object(D.jsx)("div",{children:n.coll}),Object(D.jsxs)("div",{className:r.price,children:["~$",n.coll*ke.COLL]})]}),Object(D.jsxs)(En,{align:"center",children:[n.coll_apy,"%"]}),Object(D.jsx)(En,{}),Object(D.jsx)(En,{}),Object(D.jsx)(En,{}),Object(D.jsxs)(En,{className:r.button,children:[Object(D.jsx)(Q,{name:"Redeem All",onClick:function(){return a("redeemAll",t)}}),Object(D.jsx)(Q,{name:"Settle",onClick:function(){return alert("Not support yet!")}})]})]}),Object(D.jsxs)(At.a,{children:[Object(D.jsx)(En,{children:Object(D.jsxs)("div",{className:r.tokenOne,children:[Object(D.jsx)("img",{src:t.call.icon,alt:""}),Object(D.jsx)("span",{children:"CALL"})]})}),Object(D.jsxs)(En,{align:"center",children:[Object(D.jsx)("div",{children:n.call}),Object(D.jsxs)("div",{className:r.price,children:["~$",n.call*ke.COLL]})]}),Object(D.jsxs)(En,{align:"center",children:[n.call_apy,"%"]}),Object(D.jsx)(En,{}),Object(D.jsx)(En,{}),Object(D.jsx)(En,{}),Object(D.jsx)(En,{className:r.button,children:Object(D.jsx)(Q,{name:"Repay All",onClick:function(){return a("repayAll",t)}})})]}),Object(D.jsxs)(At.a,{children:[Object(D.jsx)(En,{children:"Token"}),Object(D.jsx)(En,{align:"center",children:"Balance"}),Object(D.jsx)(En,{align:"center",children:"APY"}),Object(D.jsx)(En,{align:"center",children:"APR"}),Object(D.jsxs)(En,{align:"center",style:{padding:"15px 0"},children:["Share of",Object(D.jsx)("br",{}),"Pool"]}),Object(D.jsxs)(En,{align:"center",children:["Claimable",Object(D.jsx)("br",{}),"COLLAR"]})]}),Object(D.jsxs)(At.a,{children:[Object(D.jsx)(En,{children:Object(D.jsxs)("div",{className:r.tokenTwo,children:[Object(D.jsx)("img",{src:t.coll.icon,alt:""}),Object(D.jsx)("img",{src:t.want.icon,alt:""}),Object(D.jsx)("br",{}),Object(D.jsxs)("span",{children:["COLL/",t.want.symbol]})]})}),Object(D.jsxs)(En,{align:"center",children:[Object(D.jsx)("div",{children:n.clpt}),Object(D.jsxs)("div",{className:r.price,children:["~$",n.coll*ke.COLL]})]}),Object(D.jsxs)(En,{align:"center",children:[n.clpt_apy,"%"]}),Object(D.jsxs)(En,{align:"center",children:[n.clpt_apr,"%"]}),Object(D.jsxs)(En,{align:"center",children:[n.shareOfPoll,"%"]}),Object(D.jsxs)(En,{align:"center",children:[Object(D.jsx)("div",{children:n.earned}),Object(D.jsxs)("div",{className:r.price,children:["~$",n.earned*ke.COLLAR]})]}),Object(D.jsxs)(En,{className:r.button,children:[Object(D.jsx)(Q,{name:"Withdraw All",onClick:function(){return a("withdrawAll",t)}}),Object(D.jsx)(Q,{name:"Claim",onClick:function(){return a("claim",t)}})]})]})]})]})})})}var Sn=Object(L.a)({root:{"@media screen and (min-width:960px)":{display:"none"},"@media screen and (max-width:960px)":{"&>div:first-child":{"& tr":{borderBottom:"#D8D8D8 1px solid"},"& th,& td":{color:"white",padding:0,border:"none",fontSize:"18px",fontFamily:"Gillsans",whiteSpace:"nowrap"},"& button":{width:"133px"}}}},tableHead:{"& th":{paddingBottom:"10px !important"}},rowApy:{width:0,paddingRight:"25px !important"},clpt:{fontFamily:"Gillsans",fontSize:"18px",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"#D8D8D8 1px solid",paddingBottom:"5px","& button":{width:"133px"},"&>div":{width:"calc(100% - 133px - 15px)","& div":{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",backgroundColor:"#2D4284",borderRadius:"25px",margin:"8px 0"}}},button:{width:0,padding:"10px 0 !important","& button":{display:"block"}},tokenOne:{margin:"10px 0",textAlign:"center",width:"fit-content","& img":{display:"block",width:"40px",marginBottom:"5px"}},tokenTwo:{margin:"10px 0",textAlign:"center",width:"fit-content","& img":{width:"40px",marginBottom:"5px","&:nth-child(2)":{position:"relative",left:"-15px"}}},cellWidthEmpty:{width:0},price:{fontSize:"10px",color:"#99A8C9"}}),Ln=Object(Se.a)({root:{lineHeight:"unset"}})((function(e){return Object(D.jsx)(St.a,Object(i.a)({},e))}));function Fn(e){var t=e.pool,n=e.val,a=e.handleClick,r=Sn();return Object(D.jsxs)("div",{className:r.root,children:[Object(D.jsx)(Ct.a,{children:Object(D.jsxs)(Et.a,{children:[Object(D.jsx)(Cn.a,{className:r.tableHead,children:Object(D.jsxs)(At.a,{children:[Object(D.jsx)(Ln,{children:"Token"}),Object(D.jsx)(Ln,{align:"center",children:"Balance"}),Object(D.jsx)(Ln,{children:"APY"})]})}),Object(D.jsxs)(Lt.a,{children:[Object(D.jsxs)(At.a,{children:[Object(D.jsx)(Ln,{className:r.cellWidthEmpty,children:Object(D.jsxs)("div",{className:r.tokenOne,children:[Object(D.jsx)("img",{src:t.coll.icon,alt:""}),Object(D.jsx)("span",{children:"COLL"})]})}),Object(D.jsxs)(Ln,{align:"center",children:[Object(D.jsx)("div",{children:n.coll}),Object(D.jsxs)("div",{className:r.price,children:["~$",n.coll*ke.COLL]})]}),Object(D.jsxs)(Ln,{align:"center",className:r.rowApy,children:[n.coll_apy,"%"]}),Object(D.jsxs)(Ln,{className:r.button,children:[Object(D.jsx)(Q,{name:"Redeem All",onClick:function(){return a("redeemAll",t)}}),Object(D.jsx)(Q,{name:"Settle",onClick:function(){return alert("Not support yet!")}})]})]}),Object(D.jsxs)(At.a,{children:[Object(D.jsx)(Ln,{children:Object(D.jsxs)("div",{className:r.tokenOne,children:[Object(D.jsx)("img",{src:t.call.icon,alt:""}),Object(D.jsx)("span",{children:"CALL"})]})}),Object(D.jsxs)(Ln,{align:"center",children:[Object(D.jsx)("div",{children:n.call}),Object(D.jsxs)("div",{className:r.price,children:["~$",n.call*ke.COLL]})]}),Object(D.jsxs)(Ln,{align:"center",className:r.rowApy,children:[n.call_apy,"%"]}),Object(D.jsx)(Ln,{className:r.button,children:Object(D.jsx)(Q,{name:"Repay All",onClick:function(){return a("repayAll",t)}})})]}),Object(D.jsxs)(At.a,{style:{borderBottom:"none"},children:[Object(D.jsx)(Ln,{children:Object(D.jsxs)("div",{className:r.tokenTwo,children:[Object(D.jsx)("img",{src:t.coll.icon,alt:""}),Object(D.jsx)("img",{src:t.want.icon,alt:""}),Object(D.jsx)("br",{}),Object(D.jsxs)("span",{children:["COLL/",t.want.symbol]})]})}),Object(D.jsxs)(Ln,{align:"center",children:[Object(D.jsx)("div",{children:n.clpt}),Object(D.jsxs)("div",{className:r.price,children:["~$",n.coll*ke.COLL]})]}),Object(D.jsxs)(Ln,{align:"center",className:r.rowApy,children:[n.clpt_apy,"%"]}),Object(D.jsx)(Ln,{className:r.button,children:Object(D.jsx)(Q,{name:"Withdraw",onClick:function(){return a("withdrawAll",t)}})})]})]})]})}),Object(D.jsxs)("div",{className:r.clpt,children:[Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{style:{marginTop:0},children:[Object(D.jsx)("span",{children:"APR"}),Object(D.jsxs)("span",{children:[n.clpt_apr,"%"]})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("span",{children:"Share of Pool"}),Object(D.jsxs)("span",{children:[n.shareOfPoll,"%"]})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("span",{children:"Claimable COLLAR"}),Object(D.jsx)("span",{children:n.earned})]})]}),Object(D.jsx)(Q,{name:"Claim",onClick:function(){return a("claim",t)}})]})]})}var Nn=Object(L.a)({root:{fontFamily:"Gillsans",color:"white"},header:{display:"flex",marginBottom:"15px","&>div:first-child":{display:"flex",alignItems:"center",fontSize:"20px",margin:"10px 0","&>img":{width:"30px","&:nth-child(2)":{position:"relative",left:"-10px"}},"&>span":{}},"&>div:last-child":{backgroundColor:"#2D4284",borderRadius:"20px",padding:"5px 20px",display:"flex",alignItems:"center",justifyContent:"center"},"@media screen and (max-width:960px)":{flexDirection:"column"},"@media screen and (min-width:960px)":{justifyContent:"space-between",alignItems:"center"}}});function Dn(e){var t=e.pools,n=Nn(),r=Object(a.useContext)(k).state.signer,c=Object(a.useContext)(A).setUpdate,i=Ce(),s=function(){var e=Object(pe.a)(ue.a.mark((function e(t,n){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="redeemAll"===e.t0||"repayAll"===e.t0||"withdrawAll"===e.t0?3:"claim"===e.t0?8:"settle"===e.t0?13:14;break;case 3:return e.next=5,i[t](n,r);case 5:if(!e.sent){e.next=7;break}c({});case 7:return e.abrupt("break",15);case 8:return e.next=10,i[t](n.pool,r);case 10:if(!e.sent){e.next=12;break}c({});case 12:case 13:return e.abrupt("break",15);case 14:console.log("not support yet!");case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(D.jsx)("div",{className:n.root,children:t.map((function(e,t){var a=v[e.pool];return Object(D.jsxs)("div",{style:{marginBottom:"40px"},children:[Object(D.jsxs)("div",{className:n.header,children:[Object(D.jsxs)("div",{children:[Object(D.jsx)("img",{src:a.bond.icon}),Object(D.jsx)("img",{src:a.want.icon}),Object(D.jsxs)("span",{children:[a.bond.symbol,"/",a.want.symbol]})]}),Object(D.jsx)("div",{children:Object(D.jsxs)("span",{children:["Expiry: ",new Date(1e3*a.expiry_time).toLocaleString()]})})]}),Object(D.jsx)(An,{pool:a,val:e,handleClick:s}),Object(D.jsx)(Fn,{pool:a,val:e,handleClick:s})]},t)}))})}var _n=function(){var e=mn(),t=Object(a.useContext)(k),n=t.state.signer,r=(t.setState,Ce()),c=Object(a.useState)({pools:[],total:{}}),o=Object(s.a)(c,2),l=o[0],d=o[1],u=Object(a.useState)({}),p=Object(s.a)(u,2),b=p[0],j=p[1],x=l.pools,f=l.total;return Object(a.useEffect)((function(){n?Object(pe.a)(ue.a.mark((function e(){var t,a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.mypage_data(n);case 2:t=e.sent,a={totalValueLocked:0,totalBorrowed:0,totalCollateral:0,outstandingDebt:0,depostBalance:0,receivables:0,rewards:0},t.forEach((function(e){var t=e.pool,n=e.coll_total,r=e.want_total,c=e.bond_total,i=e.call,s=e.receivables,o=e.earned,l=function(e){return ke[v[t][e].addr]};a.totalValueLocked+=n*l("coll")+r*l("want")+c*l("bond"),a.totalBorrowed+=n*l("coll"),a.totalCollateral+=c*l("bond"),a.outstandingDebt+=i*l("want"),a.depostBalance+=i*l("bond"),a.receivables+=s,a.rewards+=o*ke.COLLAR})),d({pools:t,total:a});case 6:case"end":return e.stop()}}),e)})))():d({pools:[],total:[]})}),[n,b]),Object(D.jsx)(A.Provider,{value:{setUpdate:j},children:Object(D.jsxs)("div",{className:e.root,children:[Object(D.jsx)(wn,Object(i.a)({},f)),Object(D.jsx)("hr",{style:{border:"#3B54A0 1px solid",width:"100%",margin:"20px 0"}}),Object(D.jsx)(yn,Object(i.a)({},f)),Object(D.jsx)(Dn,{pools:x})]})})},Bn=Object(L.a)({root:{height:"calc(90vh - 100px)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",margin:"10px",fontFamily:"Gillsans","&>div":{margin:"10px"}},input:{backgroundColor:"white",marginTop:"30px !important",width:"600px","@media screen and (max-width:960px)":{width:"80vw"}}});function In(){var e=Bn(),t=Object(je.c)().enqueueSnackbar,n=Object(a.useContext)(k),r=n.state,c=(r.registry,r.signer),i=(n.setState,Object(a.useState)("")),o=Object(s.a)(i,2),l=o[0],d=o[1],u=function(){var e=Object(pe.a)(ue.a.mark((function e(n){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=3;break}return t({type:"failed",title:"Fail.",message:"No Account."}),e.abrupt("return");case 3:return a={usdt:"0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0",usdc:"0x67C9a0830d922C80A96408EEdF606c528836880C"},e.next=6,c.getAddress();case 6:e.sent,c.sendTransaction({to:a[n],value:be.a.utils.parseEther(String(l||0))}).then((function(e){return e.wait()})).then((function(e){var n=e.status;t(1===n?{type:"success",title:"Faucet.",message:"You have successfully get test token."}:{type:"failed",title:"Fail.",message:"The execution failed due to an exception."})})).catch((function(e){var n=e.code;switch(n){case 4001:t({type:"failed",title:"Fail.",message:"User denied transaction signature."});break;default:console.log(n)}}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(D.jsxs)("div",{className:e.root,children:[Object(D.jsx)("div",{style:{fontSize:"40px"},children:"Collar Faucet"}),Object(D.jsx)("div",{style:{fontSize:"20px",maxWidth:"calc(80vw)"},children:Object(D.jsx)(ee.a,{content:"Claim your test token for Collar open alpha product"})}),Object(D.jsx)(oe.a,{className:e.input,label:""===l?"The amount of ETH you need to exchange for testcoin":"You will get ".concat((133337*l||0)+13.37," testcoin"),type:"number",variant:"filled",value:l,onChange:function(e){d(e.target.value)}}),Object(D.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"center"},children:[Object(D.jsx)(ut.a,{variant:"contained",color:"primary",disableElevation:!0,style:{width:"200px",maxWidth:"40%",margin:"10px"},onClick:function(){return u("usdt")},children:"Send me USDT"}),Object(D.jsx)(ut.a,{variant:"contained",color:"primary",disableElevation:!0,style:{width:"200px",maxWidth:"40%",margin:"10px"},onClick:function(){return u("usdc")},children:"Send me USDC"})]})]})}var Rn=n(149),Tn=n(618),zn=["function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function transfer(address to, uint amount) returns (boolean)","event Transfer(address indexed from, address indexed to, uint amount)"],Pn=Object(L.a)((function(e){return{root:{"&>div>div:first-child>div>div":{"&:first-child":{display:"none"},"&:last-child":{height:"calc(100% - 75px)",borderBottomLeftRadius:0,borderBottomRightRadius:0,"& span":{whiteSpace:"initial"}}}}}}));function Wn(){var e=Object(a.useContext)(k),t=e.state.signer,n=(e.setState,Pn()),r=Object(a.useRef)(),c={};c["get-help"]=function(){var e=Object(pe.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",Object(D.jsxs)(rt.a,{children:[Object(D.jsx)("p",{children:"print help messages."}),Object(D.jsx)("p",{children:"usage:"}),Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"get-help"})," --- show collar console help"," "]}),Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"get-help %CMD% "})," --- show help infomation of CMD"]})]}));case 2:if(""!==t){e.next=4;break}return e.abrupt("return",Object(D.jsxs)(rt.a,{children:[Object(D.jsx)("p",{children:"collar console provides a terminal for users to use collar protocol."}),Object(D.jsxs)("p",{children:["type ",Object(D.jsx)("b",{children:"list-commands"})," to see all available commands"]}),Object(D.jsxs)("p",{children:["type ",Object(D.jsx)("b",{children:"get-help %CMD%"})," to see the help infomation of CMD"]})]}));case 4:return e.abrupt("return",c[t](null));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c["alert-message"]=function(){var e=Object(pe.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",Object(D.jsxs)(rt.a,{children:[Object(D.jsx)("p",{children:"show an alert message."}),Object(D.jsx)("p",{children:"usage:"}),Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"alert-message %MSG% "})," --- alert MSG"]})]}));case 2:alert(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c["list-commands"]=function(){var e=Object(pe.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",Object(D.jsxs)(rt.a,{children:[Object(D.jsx)("p",{children:"list all commands."}),Object(D.jsx)("p",{children:"usage:"}),Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"list-commands"})," --- list all commands"]})]}));case 2:return e.abrupt("return",Object(D.jsx)(rt.a,{children:Object.keys(c).map((function(e){return Object(D.jsx)("li",{children:e},e)}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c["hello-collar"]=function(){var e=Object(pe.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",Object(D.jsxs)(rt.a,{children:[Object(D.jsx)("p",{children:"show welcome message."}),Object(D.jsx)("p",{children:"usage:"}),Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"hellow-collar"})," --- show welcome message"]})]}));case 2:return e.abrupt("return",Object(D.jsx)(rt.a,{children:Object(D.jsx)("p",{children:"e a\xed beleza"})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c["get-address"]=function(){var e=Object(pe.a)(ue.a.mark((function e(n){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=2;break}return e.abrupt("return",Object(D.jsxs)(rt.a,{children:[Object(D.jsx)("p",{children:"show current account address connected."}),Object(D.jsx)("p",{children:"usage:"}),Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"get-address"})," --- show current account address connected"]})]}));case 2:if(null!==t){e.next=4;break}return e.abrupt("return",Object(D.jsx)(rt.a,{children:Object(D.jsx)("p",{children:"connect wallet first please."})}));case 4:return e.next=6,t.getAddress();case 6:return a=e.sent,e.abrupt("return",Object(D.jsx)(rt.a,{children:Object(D.jsx)("p",{children:a})}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c["get-balance"]=function(){var e=Object(pe.a)(ue.a.mark((function e(n){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=2;break}return e.abrupt("return",Object(D.jsxs)(rt.a,{children:[Object(D.jsx)("p",{children:"show current account balance connected."}),Object(D.jsx)("p",{children:"usage:"}),Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"get-balance"})," --- show current account ETH balance"]})]}));case 2:if(null!==t){e.next=4;break}return e.abrupt("return",Object(D.jsx)(rt.a,{children:Object(D.jsx)("p",{children:"connect wallet first please."})}));case 4:return e.next=6,t.getBalance();case 6:return a=e.sent,e.abrupt("return",Object(D.jsx)(rt.a,{children:Object(D.jsx)("p",{children:"".concat(be.a.utils.formatEther(a)," ether")})}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c["transfer-erc20"]=function(){var e=Object(pe.a)(ue.a.mark((function e(n){var a,r,c,i,o,l,d,u;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=2;break}return e.abrupt("return",Object(D.jsxs)(rt.a,{children:[Object(D.jsx)("p",{children:"transfer erc20 token."}),Object(D.jsx)("p",{children:"usage:"}),Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"transfer-erc20 %TOKEN% %RECEIVER% %AMOUNT% %DECIMALS%"})," --- transfer erc20 token (default: DECIMALS = 18)"]})]}));case 2:if(null!==t){e.next=4;break}return e.abrupt("return",Object(D.jsx)(rt.a,{children:Object(D.jsx)("p",{children:"connect wallet first please."})}));case 4:return a=n.split(" "),r=Object(s.a)(a,4),c=r[0],i=r[1],o=r[2],l=(l=r[3])||18,d=new be.a.Contract(c,zn),e.next=9,d.connect(t).transfer(i,be.a.utils.parseUnits(o,l));case 9:return u=e.sent,e.abrupt("return",Object(D.jsx)(rt.a,{children:Object(D.jsx)("p",{children:u.hash})}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c["get-erc20-balance"]=function(){var e=Object(pe.a)(ue.a.mark((function e(n){var a,r,c,i,o,l,d;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=2;break}return e.abrupt("return",Object(D.jsxs)(rt.a,{children:[Object(D.jsx)("p",{children:"get erc20 balance of an account."}),Object(D.jsx)("p",{children:"usage:"}),Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"get-erc20-balance %TOKEN% %ADDRESS% "})," --- get erc20 balance (default: ADDRESS = current address)"]})]}));case 2:if(null!==t){e.next=4;break}return e.abrupt("return",Object(D.jsx)(rt.a,{children:Object(D.jsx)("p",{children:"connect wallet first please."})}));case 4:if(a=n.split(" "),r=Object(s.a)(a,2),c=r[0],i=r[1],e.t0=i,e.t0){e.next=10;break}return e.next=9,t.getAddress();case 9:e.t0=e.sent;case 10:return i=e.t0,o=new be.a.Contract(c,zn),e.next=14,o.connect(t).balanceOf(i);case 14:return l=e.sent,e.next=17,o.connect(t).decimals();case 17:return d=e.sent,e.abrupt("return",Object(D.jsx)(rt.a,{children:Object(D.jsx)("p",{children:be.a.utils.formatUnits(l,d)})}));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var i=function(){var e=Object(pe.a)(ue.a.mark((function e(){var t,n,a,c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new MouseEvent("mousedown",{view:window,bubbles:!0,cancelable:!0}),Object.defineProperty(t,"target",{value:r.current.firstChild,enumerable:!0}),document.dispatchEvent(t),e.next=5,navigator.clipboard.readText();case 5:for(a in n=e.sent)c=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:n[a],char:n[a],shiftKey:!0}),document.dispatchEvent(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=Object(D.jsxs)(ot.a,{component:"code",children:[Object(D.jsx)(rt.a,{fontFamily:"Monospace",align:"center",fontSize:"h6.fontSize",m:1,children:"Collar Console"}),Object(D.jsx)(rt.a,{fontFamily:"Monospace",align:"center",fontSize:"h6.fontSize",m:1,children:"USE AT YOUR OWN RISK"}),Object(D.jsx)(rt.a,{fontFamily:"Monospace",align:"center",fontSize:"h6.fontSize",m:1,children:Object(D.jsx)("span",{sytle:{whiteSpace:"nowrap"},children:"type `get-help` to get started :)"})})]}),l={},d=function(e){l[e]=function(){var t=Object(pe.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c[e](n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",Object(D.jsxs)(rt.a,{children:[Object(D.jsx)("p",{children:"unexpected error"}),Object(D.jsx)("p",{children:"".concat(t.t0)})]}));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()};for(var u in c)d(u);return Object(D.jsx)("div",{className:n.root,children:Object(D.jsx)(Rn.b,{children:Object(D.jsxs)(rt.a,{ref:r,height:"100%",width:"100%",position:"fixed",pb:8,children:[Object(D.jsx)(Rn.a,{theme:"dracula",commands:l,showControlButtons:!1,welcomeMessage:o}),Object(D.jsx)(rt.a,{position:"absolute",right:"5%",bottom:128,children:Object(D.jsx)(Tn.a,{color:"secondary",variant:"extended",onClick:i,children:"Paste"})})]})})})}function Un(){return Object(D.jsx)(rt.a,{display:"flex",flexDirection:"column",height:"80vh",width:"100vw",textAlign:"center",justifyContent:"center",color:"white",fontSize:"50px",fontFamily:"Gillsans",children:"TODO"})}var Mn=Object(L.a)((function(e){return{drawer:{"&>div":{display:"flex",flexDirection:"row",background:"none",border:"none"}},listItem:{flexDirection:"column"},fontSpan:{"& span":{fontFamily:"Gillsans",color:"white",fontSize:"18px"}},blurbg:{"&, &:before":{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",zIndex:"200"},"&:after":{filter:"blur(15px) brightness(110%)"}}}})),Hn=function(e){var t=e.onClick,n=e.item,a=e.icon,r=e.cur,c=Mn();return Object(D.jsxs)(Rt.a,{button:!0,onClick:t,to:"/".concat(n.toLowerCase()),component:Bt.b,className:c.listItem,style:{backgroundColor:r==n.toLowerCase()?"#1E2C57":"#4C76F9",marginBottom:"20px"},children:[Object(D.jsx)(Tt.a,{style:{display:"inline-block",textAlign:"center"},children:Object(D.jsx)("img",{src:a,alt:""})}),Object(D.jsx)(zt.a,{primary:n,className:c.fontSpan,style:{margin:"0 0"}})]},n)},qn=function(e){var t=e.url,n=e.item,a=e.icon,r=Mn();return Object(D.jsxs)(Rt.a,{button:!0,onClick:function(){return window.location.href=t},className:r.listItem,style:{backgroundColor:"#4C76F9",marginBottom:"20px"},children:[Object(D.jsx)(Tt.a,{style:{display:"inline-block",textAlign:"center"},children:Object(D.jsx)("img",{src:a,alt:""})}),Object(D.jsx)(zt.a,{primary:n,className:r.fontSpan,style:{margin:"0 0"}})]})};function Gn(){var e=Mn(),t=Object(a.useContext)(k),n=t.state,r=n.menu_open,c=(n.signer,n.registry,t.setState),i=Object(a.useState)(window.location.pathname.split("/")[1]||"lite"),o=Object(s.a)(i,2),l=o[0],d=o[1],u=function(e){d(e),c({menu_open:!1})};return Object(D.jsxs)(Bt.a,{children:[Object(D.jsx)(Pt.a,{variant:"persistent",anchor:"left",open:r,className:e.drawer,children:Object(D.jsxs)(rt.a,{width:"30vw",style:{backgroundColor:"#4975FF"},children:[Object(D.jsx)(rt.a,{display:"flex",style:{minHeight:"56px",justifyContent:"center"},onClick:function(){return c({menu_open:!1})},children:Object(D.jsx)("img",{src:q,alt:""})}),Object(D.jsxs)(Wt.a,{style:{padding:0},children:[Object(D.jsx)(Hn,{onClick:function(){return u("lite")},item:"Lite",icon:W,cur:l}),Object(D.jsx)(Hn,{onClick:function(){return u("mypage")},item:"MyPage",icon:H,cur:l}),Object(D.jsx)(Hn,{onClick:function(){return u("faucet")},item:"Faucet",icon:W,cur:l}),Object(D.jsx)(Hn,{onClick:function(){return u("term")},item:"Term",icon:U,cur:l}),Object(D.jsx)(Hn,{onClick:function(){return u("pro")},item:"Pro",icon:M,cur:l}),Object(D.jsx)(qn,{url:"https://collar.org",item:"Home",icon:W})]})]})}),Object(D.jsx)("div",{className:e.blurbg,style:{display:r?"block":"none"},onClick:function(){return c({menu_open:!1})}}),Object(D.jsx)(rt.a,{children:Object(D.jsxs)(It.c,{children:[Object(D.jsx)(It.a,{path:"/lite",children:Object(D.jsx)(hn,{})}),Object(D.jsx)(It.a,{path:"/pro",children:Object(D.jsx)(Un,{})}),Object(D.jsx)(It.a,{path:"/term",children:Object(D.jsx)(Wn,{})}),Object(D.jsx)(It.a,{path:"/mypage",children:Object(D.jsx)(_n,{})}),Object(D.jsx)(It.a,{path:"/faucet",children:Object(D.jsx)(In,{})}),Object(D.jsx)(It.a,{path:"/",children:Object(D.jsx)(hn,{})})]})})]})}function Yn(){var e=Object(a.useReducer)((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}),{menu_open:!1,dialog_open:!1,signer:null}),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(D.jsx)(k.Provider,{value:{state:n,setState:r},children:Object(D.jsxs)(Ge,{children:[Object(D.jsx)(_t,{}),Object(D.jsx)(Gn,{})]})})}c.a.render(Object(D.jsx)(Yn,{}),document.getElementById("root"))}},[[540,1,2]]]);
//# sourceMappingURL=main.a32bea8b.chunk.js.map