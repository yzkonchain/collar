(this.webpackJsonprebuild=this.webpackJsonprebuild||[]).push([[3,20,21,22],{305:function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return l});var i=n(11),a=n(16),o=n(0),e=n(85),r=(n(18),n(6),n(28)),s=n(1),d=Object(e.a)({root:{fontFamily:"Frutiger",display:"flex",padding:"10px",alignItems:"center"},main:{display:"flex",flexDirection:"column",justifyContent:"center",color:"#30384B",fontWeight:"bold","&>span":{fontSize:"12px",marginLeft:"2px"}},dollar:{color:"#99A8C9",margin:"5px"},token:{fontSize:"12px",fontWeight:"bold",fontFamily:"Frutiger",color:"#30384B",display:"flex",flexDirection:"column",alignItems:"center",marginRight:"10px"}}),u=function(t,e){return a.ethers.utils.formatUnits(t,e||18)};function l(t){var e=t.state,n=e.state,a=e.token,l=t.title,c=(t.contract,t.fixed),e=d(),t=Object(o.useState)(null),t=Object(i.a)(t,2);return t[0],t[1],Object(s.jsxs)("div",{className:e.root,children:[Object(s.jsxs)("div",{className:e.token,children:[Object(s.jsx)("img",{alt:"",src:a.icon,style:["coll","call","clpt"].includes(l)?{width:"35px",borderRadius:"50%",border:"#DCDCDC 2px solid"}:{width:"35px"}}),Object(s.jsx)("span",{children:a.symbol})]}),Object(s.jsxs)("div",{className:e.main,children:[Object(s.jsx)("div",{style:{fontSize:"35px"},children:c?(+u(n.output[l],a.decimals)).toFixed(c):u(n.output[l],a.decimals)}),Object(s.jsxs)("span",{className:e.dollar,children:["~$",("CLPT"==a.symbol?+u(n.output.clpt):r.a[a.addr]*u(n.output[l],a.decimals)).toFixed(3)]})]})]})}},306:function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return c});var a=n(130),l=n(1);function c(t){var e=t.token,t=t.contract;return Object(l.jsxs)("div",{style:{paddingLeft:"55px",color:"#99A8C9",fontFamily:"Gillsans",fontSize:"18px",display:"flex",alignItems:"center",margin:"10px 0"},children:[Object(l.jsx)("span",{children:e}),Object(l.jsx)("span",{style:{margin:"0 10px"},children:"Contract Link"}),Object(l.jsx)("a",{style:{color:"#99A8C9",fontSize:"14px",width:"100px",textDecoration:"none",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",marginLeft:"20px",borderRadius:"10px",padding:"0 15px",boxShadow:"0px 5px 5px -3px rgb(38 111 239 / 10%), \n        0px 8px 10px 1px rgb(38 111 239 / 8%), \n        0px 1px 5px 2px rgb(38 111 239 / 30%)"},href:"".concat(a.a.browser,"/address/").concat(t),target:"_blank",rel:"noopener noreferrer",children:t})]})}},308:function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var f=n(15),b=n(10),j=n(11),h=n(16),m=n(0),e=n(85),O=n(645),g=n(27),w=n(28),y=n(1),v=Object(e.a)({root:{display:"flex",padding:"10px",alignItems:"center"},main:{display:"flex",flexDirection:"column",justifyContent:"center",position:"relative",fontFamily:"Frutiger",width:"100%","& input":{padding:"0",margin:"0 5px 0 0",fontSize:function(t){t=t.fontSize;return"".concat(t,"px")},fontWeight:"bold",border:"none",width:"100%",color:"#30384B"}},amount:{display:"flex",alignItems:"center",justifyContent:"space-between","&>div":{width:"100%","&>div":{"&:before,&:after,&:hover:not(.Mui-disabled):before":{border:"none"}}}},token:{fontSize:"12px",fontWeight:"bold",fontFamily:"Frutiger",color:"#30384B",display:"flex",flexDirection:"column",alignItems:"center",marginRight:"10px"},dollar:{color:"#99A8C9",margin:"5px",fontWeight:"bold",fontSize:"12px"}});function a(t){var e=t.State,l=t.title,n=t.setTokenSelected,t=Object(m.useState)(35),t=Object(j.a)(t,2),c=t[0],i=t[1],a=v({fontSize:c}),o=e.state,r=e.setState,s=e.token,d=e.max,u=e.if_max,p=Object(m.useRef)(),x=Object(m.useCallback)(function(t){var e=t.target.value,n=t.nativeEvent.data;-1<["0","1","2","3","4","5","6","7","8","9",".",null].indexOf(n)&&(t=o.I[l],"."===n&&(1===e.length||-1!==t.indexOf("."))||"0"===t&&-1===[".",null].indexOf(n)||(-1==e.indexOf(".")?0:e.length-e.indexOf(".")-1)>s.decimals||r({I:Object(b.a)(Object(b.a)({},o.I),{},Object(f.a)({},l,e)),old:Object(b.a)(Object(b.a)({},o.old),{},Object(f.a)({},l,t))}))},[o.I,d]);return Object(m.useEffect)(function(){var t=[o.I[l],o.old[l]],e=t[0],n=t[1],a=p.current,t=a.offsetWidth,a=a.scrollWidth;e.length>(n||"").length&&t<a-1&&8<=c?i(.91*c):e.length<(n||"").length&&a<=t&&c<35&&i(1.1*c)},[c,o.I[l]]),Object(m.useMemo)(function(){return Object(y.jsxs)("div",{className:a.root,children:[Object(y.jsxs)("div",{className:a.token,children:[Object(y.jsx)("img",{alt:"",src:s.icon,style:["coll","call"].includes(l)?{width:"35px",borderRadius:"50%",border:"#DCDCDC 2px solid"}:{width:"35px"}}),Object(y.jsx)("span",{children:s.symbol}),Object(y.jsx)("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#275BFF",color:"white",textTransform:"none",fontFamily:"Material Icons",fontSize:"18px",margin:"0 8px",height:"14px",width:"24px",borderRadius:"8px"},onClick:n,children:"expand_more"})]}),Object(y.jsxs)("div",{className:a.main,children:[Object(y.jsx)("div",{className:a.amount,children:Object(y.jsx)(O.a,{value:o.I[l],onChange:x,inputRef:p,placeholder:"0.00",InputProps:{endAdornment:Object(y.jsx)("img",{alt:"",src:u?g.k:g.l,onClick:u?function(){var t;r({I:Object(b.a)(Object(b.a)({},o.I),{},Object(f.a)({},l,"".concat((t=s.decimals,h.ethers.utils.formatUnits(d,t||18)))))})}:function(){},style:{width:"60px"}})}})}),Object(y.jsxs)("span",{className:a.dollar,children:["~$",(w.a[s.addr]*o.I[l]).toFixed(3)]})]})]})},[e])}},330:function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return l});var d=n(10),u=n(11),a=n(16),p=n(0),e=n(85),x=n(18),f=n(6),b=n(651),j=n(308),h=n(305),m=n(306),O=n(1),g=a.ethers.constants.Zero,w={input:{coll:g,want:g},output:{coll:g,want:g},I:{coll:"",want:""},old:{coll:"",want:""}},y=Object(e.a)({root:{display:"flex",justifyContent:"space-between",alignItems:"stretch"},main:{flex:6,display:"flex",flexDirection:"column"},icon_arrow:{fontFamily:"Material Icons",fontSize:"24px",display:"flex",alignItems:"center",justifyContent:"center",flex:1},button:{marginTop:"20px",display:"flex",justifyContent:"space-between","&>button":{flex:1,"&:nth-child(1)":{marginRight:"10px"}}},input:{width:"100%",border:"black 2px solid",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center"},show:{flex:9,display:"flex",flexDirection:"column","&>div":{flex:1,border:"black 2px solid"}}});function l(t){var e=t.data,n=y(),a=Object(p.useContext)(f.e).state.controller,l=Object(p.useContext)(f.m).handleClick,t=Object(p.useReducer)(function(t,e){return Object(d.a)(Object(d.a)({},t),e)},w),t=Object(u.a)(t,2),c=t[0],i=t[1],t=Object(p.useState)(0),t=Object(u.a)(t,2),o=t[0],r=t[1],s=e.pool;return Object(p.useEffect)(function(){var e=Object(b.c)(c.I.want,s.want.decimals),n=Object(b.c)(c.I.coll);n.eq(c.input.coll)?e.eq(c.input.want)||s.ct.get_dx(e).then(function(t){i({input:Object(d.a)(Object(d.a)({},c.input),{},{want:e}),output:Object(d.a)(Object(d.a)({},c.output),{},{coll:t})})}).catch(function(){c.I.want.length>c.old.want.length&&c.I.want.length<Object(b.a)(c.input.want).length&&a.notify("balance","insufficient")}):s.ct.get_dy(n).then(function(t){i({input:Object(d.a)(Object(d.a)({},c.input),{},{coll:n}),output:Object(d.a)(Object(d.a)({},c.output),{},{want:t})})}).catch(function(){c.I.coll.length>c.old.coll.length&&c.I.coll.length<Object(b.a)(c.input.coll).length&&a.notify("balance","insufficient")})},[c.I]),Object(O.jsxs)("div",{className:n.root,children:[Object(O.jsxs)("div",{className:n.main,children:[Object(O.jsx)("div",{className:n.input,children:Object(O.jsx)(j.default,{title:["coll","want"][o],State:{state:c,setState:i,token:[s.coll,s.want][o],max:[e.coll,e.want_balance][o],if_max:[e.coll.gt("0"),e.want_balance.gt("0")][o]},setTokenSelected:function(){r(0<o?0:1),i(w)}})}),Object(O.jsxs)("div",{className:n.button,children:[Object(O.jsx)(x.j,{name:"Approve",onClick:function(){return l("approve",s.want,s)},disabled:!s.ct.signer||e.want_allowance.gt("100000000000000000000000000000000")||0===o}),Object(O.jsx)(x.j,{name:"Swap",onClick:function(){return 0===o?l("redeem",c.output.want,c.input.coll,s):l("lend",c.input.want,c.output.coll,s)},disabled:0===o&&(g.eq(c.output.want)||Object(b.c)(c.I.coll).gt(e.coll))||1===o&&(g.eq(c.output.coll)||Object(b.c)(c.I.want,s.want.decimals).gt(e.want_balance))})]})]}),Object(O.jsx)("span",{className:n.icon_arrow,children:"navigate_next"}),Object(O.jsx)("div",{className:n.show,children:Object(O.jsxs)("div",{children:[Object(O.jsx)(h.default,{title:["want","coll"][o],state:{state:c,token:[s.want,s.coll][o]}}),Object(O.jsx)(m.default,{token:s.coll.symbol,contract:s.coll.addr}),Object(O.jsx)(m.default,{token:s.call.symbol,contract:s.call.addr})]})})]})}},651:function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"c",function(){return c}),n.d(e,"b",function(){return i});var a=n(16),l=function(t,e){return a.ethers.utils.formatUnits(t,e||18)},c=function(t,e){return a.ethers.utils.parseUnits(t||"0",e||18)},i=function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:3;switch(!0){case t<parseFloat("1e3"):e=parseFloat(t).toFixed(n);break;case t<parseFloat("1e6"):e=parseInt(t/1e3).toFixed(n)+" K";break;case t<parseFloat("1e9"):e=parseInt(t/1e6).toFixed(n)+" M";break;case t<parseFloat("1e12"):e=parseInt(t/1e6).toFixed(n)+" G";break;case t<parseFloat("1e15"):e=parseInt(t/1e6).toFixed(n)+" T";break;default:e=t}return e}}}]);