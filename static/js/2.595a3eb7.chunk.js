(this.webpackJsonprebuild=this.webpackJsonprebuild||[]).push([[2],{437:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var c=n(2),i=n.n(c),s=n(13),a=n(20),l=n(24),r=n(31),o=n(0),u=n(16),d=n(32),j=n(1),p=r.a.constants.Zero,b={input:{coll:p},output:{want:p},tip:{fee:"0.0000",min:"0.000",slip:"0.00"},I:{coll:""},old:{coll:""}},x=function(e,t){return r.a.utils.formatUnits(e,t||18)},f=function(e,t){return r.a.utils.parseUnits(e||"0",t||18)};function O(){var e=Object(o.useContext)(u.d).state,t=(e.signer,e.controller),n=Object(o.useContext)(u.e),c=n.liteState,r=(c.bond,c.want),O=c.coll,h=c.pool,m=c.data,v=n.classesChild,y=n.handleClick;b.tip.apy=m.apy.toPrecision(3);var w=Object(o.useReducer)((function(e,t){return Object(a.a)(Object(a.a)({},e),t)}),b),g=Object(l.a)(w,2),k=g[0],_=g[1];return Object(o.useEffect)((function(){return k==b||_(b)}),[h]),Object(o.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var n,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=f(k.I.coll)).eq(k.input.coll)){e.next=6;break}return e.next=4,h.ct.get_dy(n).catch((function(){return t.notify("balance","insufficient"),!1}));case 4:(c=e.sent)&&(s={fee:(x(c,h.want.decimals)*(1-x(m.swap.fee))).toFixed(4),min:(.995*x(c,h.want.decimals)).toFixed(3),slip:t.calc_slip(m,[null,c],h).toPrecision(3),apy:m.apy.toPrecision(3)},_({input:{coll:n},output:{want:c},tip:s}));case 6:case"end":return e.stop()}}),e)})))()}),[k]),Object(o.useMemo)((function(){return Object(j.jsxs)("div",{className:v.root,children:[Object(j.jsxs)("div",{className:v.amount,children:[Object(j.jsx)("div",{children:Object(j.jsx)(d.a,{title:"coll",State:{state:k,setState:_,token:O,max:m.balance.coll,if_max:m.balance.coll.gt("0")},style:{height:"90px"}})}),Object(j.jsx)("span",{className:v.icon,children:"navigate_next"}),Object(j.jsx)("div",{children:Object(j.jsx)(d.c,{title:"want",state:{state:k,token:r},style:{height:"90px"}})})]}),Object(j.jsx)(d.d,{apy:k.tip.apy,info:Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:["Slippage tolerance: ",k.tip.slip," %"]}),Object(j.jsxs)("div",{children:["Minimum recieved: ",k.tip.min," ",r.symbol]}),Object(j.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(j.jsx)("span",{style:{marginRight:"5px"},children:"Route:"}),Object(j.jsx)("span",{children:O.symbol}),Object(j.jsx)("span",{className:"material-icons",children:"keyboard_double_arrow_right"}),Object(j.jsx)("span",{children:r.symbol})]}),Object(j.jsxs)("div",{children:["Nominal swap fee: ",k.tip.fee," ",r.symbol]})]})}),Object(j.jsx)("div",{className:v.buttonOne,children:Object(j.jsxs)("div",{children:[Object(j.jsx)(d.j,{name:"Approve",disabled:!0}),Object(j.jsx)(d.j,{name:"Exit",onClick:Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("redeem")(k.output.want,k.input.coll);case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}e.t0=_({I:{coll:""}});case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),disabled:p.eq(k.output.want)||f(k.I.coll).gt(m.balance.coll)||!f(k.I.coll).eq(k.input.coll)})]})})]})}),[k,m])}}}]);