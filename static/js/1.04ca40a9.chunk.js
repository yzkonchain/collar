(this.webpackJsonprebuild=this.webpackJsonprebuild||[]).push([[1],{436:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return O}));var a=n(2),c=n.n(a),s=n(13),l=n(20),i=n(24),o=n(31),r=n(0),u=n(16),p=n(32),j=n(46),b=n(1),d=o.a.constants.Zero,x={input:{want:d,coll:d},output:{clpt:d},tip:{share:0,poolBalance:0,slip:0},I:{want:"",coll:""},old:{want:"",coll:""}},w=function(t,e){return o.a.utils.formatUnits(t,e||18)},f=function(t,e){return o.a.utils.parseUnits(t||"0",e||18)};function O(){var t=Object(r.useContext)(u.d).state,e=t.signer,n=t.controller,a=Object(r.useContext)(u.e),o=a.liteState,O=(o.bond,o.want),h=o.coll,m=o.pool,v=o.data,k=a.classesChild,g=(a.setLiteState,a.handleClick),C=Object(r.useReducer)((function(t,e){return Object(l.a)(Object(l.a)({},t),e)}),x),I=Object(i.a)(C,2),S=I[0],q=I[1];return Object(r.useEffect)((function(){return S==x||q(x)}),[m]),Object(r.useEffect)((function(){e&&!d.eq(v.swap.sk)&&Object(s.a)(c.a.mark((function t(){var e,a,s,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=f(S.I.want,m.want.decimals),a=f(S.I.coll),e.eq(S.input.want)&&a.eq(S.input.coll)){t.next=7;break}return t.next=5,m.ct.get_dk(a,e).catch((function(){return n.notify("balance","insufficient"),!1}));case 5:(s=t.sent)&&(l={share:(w(s)/w(v.swap.sk)*100).toPrecision(3),poolBalance:(w(v.swap.sx)/w(v.swap.sy,m.want.decimals)).toPrecision(3),slip:n.calc_slip(v,[a,e],m).toPrecision(3)},q({input:{want:e,coll:a},output:{clpt:s},tip:l}));case 7:case"end":return t.stop()}}),t)})))()}),[S]),Object(r.useMemo)((function(){return Object(b.jsxs)("div",{className:k.root,children:[Object(b.jsxs)("div",{className:k.amount,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(p.a,{title:"want",State:{state:S,setState:q,token:O,max:v.balance.want,if_max:v.allowance.want.gt("100000000000000000000000000000000")},style:{height:"90px"}}),Object(b.jsx)(p.a,{title:"coll",State:{state:S,setState:q,token:h,max:v.balance.coll,if_max:v.balance.coll.gt("0")},style:{height:"90px"}})]}),Object(b.jsx)("img",{alt:"",src:j.b,className:k.icon}),Object(b.jsx)("div",{children:Object(b.jsx)(p.c,{title:"clpt",state:{state:S,token:m},style:{height:"239px"}})})]}),Object(b.jsx)(p.d,{apy:"todo",info:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:["Share of Pool: ",S.tip.share," %"]}),Object(b.jsxs)("div",{children:["Pool Balance: ","1 ".concat(O.symbol," = ").concat(S.tip.poolBalance," COLL")]}),Object(b.jsxs)("div",{children:["Slippage tolerance: ",S.tip.slip," %"]})]})}),Object(b.jsxs)("div",{className:k.buttonTwo,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(p.j,{name:"Approve",onClick:function(){return g("approve")(O)},disabled:!e||v.allowance.want.gt("100000000000000000000000000000000")}),Object(b.jsx)(p.j,{name:"Deposit",onClick:Object(s.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g("deposit")(S.input.want,S.input.coll,S.output.clpt);case 2:if(t.t0=t.sent,!t.t0){t.next=5;break}t.t0=q({I:{want:"",coll:""}});case 5:return t.abrupt("return",t.t0);case 6:case"end":return t.stop()}}),t)}))),disabled:d.eq(S.output.clpt)||f(S.I.want,m.want.decimals).gt(v.balance.want)||f(S.I.coll).gt(v.balance.coll)||!f(S.I.want,m.want.decimals).eq(S.input.want)||!f(S.I.coll).eq(S.input.coll)})]}),Object(b.jsx)("div",{children:Object(b.jsx)(p.j,{name:"Claim",onClick:function(){return g("claim")()},disabled:d.eq(v.earned.collar)})})]})]})}),[S,v])}}}]);