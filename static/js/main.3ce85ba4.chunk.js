(this.webpackJsonprebuild=this.webpackJsonprebuild||[]).push([[25],{0:function(e,t){e.exports=React},118:function(e,t,u){"use strict";u.r(t),u.d(t,"default",function(){return n});var b=u(0),t=u(85),j=u(581),p=u(18),x=u(144),f=u(1),h=Object(t.a)(function(){return{root:{"&>div:first-child":{backgroundColor:"rgba(30,44,87,0.69)"}},wrap:{borderRadius:0,border:"#979797 1px solid",backgroundColor:"rgba(245,245,255,0.9)",padding:"30px",boxShadow:"0px 11px 15px -7px rgb(0 0 0 / 0%),\n      0px 24px 38px 3px rgb(0 0 0 / 0%),\n      5px 5px 60px 0px rgb(38 111 239 / 51%)"},content:{display:"flex",flexDirection:"column"},table1:{"&>thead":{"& th":{color:"#275BFF",fontFamily:"Frutiger",fontWeight:"bold",paddingBottom:"15px",width:"200px"}},"&>tbody":{"& td":{color:"#275BFF",fontFamily:"Helvetica"}}},table2:{"&>tbody":{"& tr":{"&>td":{fontSize:"14px",color:"#495EB6",fontFamily:"Helvetica","&:nth-child(1)":{width:0,whiteSpace:"nowrap",paddingRight:"10px"}}}}},amount:{paddingRight:"20px","&>span:nth-child(1)":{fontSize:"20px",fontWeight:"bold"},"&>span:nth-child(2)":{fontSize:"14px"}},loan:{fontFamily:"Frutiger",fontSize:"20px",margin:"5px 0",color:"#495EB6"}}});function n(e){var t=e.open,n=e.type,r=e.pool,a=e.pools,c=e.checked,i=e.onClose,o=e.handleClick,s=h(),l=a.filter(function(e){return e.pool.addr==r.addr})[0],d=Object(b.lazy)(function(){return u(562)("./".concat(n.slice(0,1).toUpperCase()+n.slice(1)))});return Object(b.useMemo)(function(){return Object(f.jsx)(j.a,{onClose:i,open:t,className:s.root,classes:{paper:s.wrap},children:Object(f.jsxs)("div",{className:s.content,children:[Object(f.jsx)(b.Suspense,{fallback:Object(f.jsx)("div",{}),children:Object(f.jsx)(d,{data:l,pool:r,checked:c,classes:s})}),Object(f.jsx)(p.j,{name:"Confirm",style:{margin:"20px 60px"},onClick:o}),Object(f.jsx)(x.default,{data:l,pool:r,classes:s})]})})},[t,n,r,a])}},119:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return a});var o=n(11),r=n(15),s=n(0),t=n(85),l=n(6),d=n(1),u=Object(t.a)({root:{},title:{color:"white",fontFamily:"Gillsans",fontSize:"30px",marginBottom:"30px"},content:Object(r.a)({display:"flex",flexWrap:"wrap",justifyContent:"space-between"},l.a.PC,{"&>div":{width:"45%"}})}),b=["TotalLockedValue","TotalLiquidity","TotalCollateral","HistoricalInterestRate"].map(function(e){return Object(s.lazy)(function(){return n(564)("./".concat(e))})});function a(){function n(e,t){return r.pro_echarts(e,t).then(function(e){return a(e)})}var e=u(),t=Object(s.useContext)(l.e).state,r=(t.signer,t.controller),t=Object(s.useContext)(l.m),a=(t.proState,t.setProState),t=Object(s.useState)({totalLockedValue:"12h",totalLiquidity:"12h",totalCollateral:"12h",historicalInterestRate:"12h"}),t=Object(o.a)(t,2),c=t[0],i=t[1];return Object(s.useEffect)(function(){return n("12h")},[]),Object(d.jsxs)("div",{className:e.root,children:[Object(d.jsx)("div",{className:e.title,children:"Market Overview"}),Object(d.jsx)("div",{className:e.content,children:Object(d.jsx)(s.Suspense,{fallback:Object(d.jsx)("div",{}),children:b.map(function(e,t){return Object(d.jsx)(e,{period:c,setPeriod:i,handleChange:n},t)})})})]})}},120:function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return n});var o=i(11),s=i(0),t=i(85),l=i(145),d=i(1),u=Object(t.a)({root:{marginTop:"20px",marginBottom:"20px","&>div":{position:"relative",margin:"auto",backgroundColor:"#fff","&:nth-child(1)":{zIndex:"4"},"&:nth-child(2)":{zIndex:"3",border:"#4c4c4c 2px solid",borderTop:"none",padding:"20px"},"&:nth-child(3)":{zIndex:"2",transform:"translateY(-15px)",boxSizing:"border-box",border:"#4C4C4C 2px solid",height:"20px",width:"calc(100% - 20px)"},"&:nth-child(4)":{zIndex:"1",transform:"translateY(-30px)",boxSizing:"border-box",border:"#4C4C4C 2px solid",height:"20px",width:"calc(100% - 40px)"}}}});function n(e){var t=e.data,n=u(),e=Object(s.useState)(0),e=Object(o.a)(e,2),r=e[0],a=e[1],c=["Mint","Burn","Swap","Liquidity"],e=Object(s.useCallback)(Object(s.lazy)(function(){return i(565)("./".concat(c[r]))}),[r]);return Object(d.jsxs)("div",{className:n.root,children:[Object(d.jsx)(l.default,{value:r,onChange:function(e,t){return a(t)},labels:c}),Object(d.jsx)("div",{children:Object(d.jsx)(s.Suspense,{fallback:Object(d.jsx)("div",{style:{height:"200px"}}),children:Object(d.jsx)(e,{data:t})})}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})}},121:function(e,t,n){"use strict";n=new(n(17).ethers.providers.JsonRpcProvider)("https://eth-ropsten.alchemyapi.io/v2/yv9AMwDtWom9CxzvGRZCMkK9CFJCR4zL","ropsten");t.a=n},130:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return i});var r=n(10),t=n(55),n=(n(17),n(51)),a={},c=[],i={network:"ropsten",chainid:3,infuraid:"9180c5a422ac44f9b21ad7927b6b662c",factory:"0x1F98431c8aD98523631AE4a59f267346ea31F984",pricePool:"0x5BBBE4Da8b5AF36482F75747Ee38ddFDf3F6e4D9",collar:"0xe405bD3C4876D1Ea0af92BaCF5831c9FCbDD78aE",stablecoin:"0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0",browser:"https://ropsten.etherscan.io",gasAdjustment:150},a=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},Object(n.b)("COLLAR",i.collar)),Object(n.b)("SWAP",i.pricePool)),Object(n.b)("USDT","0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0",t.e)),Object(n.b)("USDC","0x67C9a0830d922C80A96408EEdF606c528836880C",t.d)),c=[Object(n.a)({bond:"0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0",want:"0x67C9a0830d922C80A96408EEdF606c528836880C",r1:{addr:"0x506FeA08646b7ED5084c7a9a302FF5a95B9E980c",coll:"0x25a722fbd8c4080937CAD2A4DFa2eeeA29539231",call:"0x9D8FEb661AFc92b83c45fC21836C114164beB285",expiry_time:1633017600},r2:{addr:"0x110D4F81bFAB6e6FBd2A3db34f62814c5ec29F51",coll:"0x38C4A0d539F8e9AFA5EFBD46aAA6b31013480c00",call:"0xEA84958BAC11f7665e339599595c425A81E894d6",expiry_time:1640966400}},a),Object(n.a)({bond:"0x67C9a0830d922C80A96408EEdF606c528836880C",want:"0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0",r1:{addr:"0x3894e050adae3ef3D10d7e1c79AE8F7A07866a90",coll:"0x61E04744eD53E1Ae61A9325A5Eba31AEA24eca4D",call:"0x404Ced902eE6d630db51969433ea7DD2EE3524B8",expiry_time:1633017600}},a)]},140:function(e,t,n){"use strict";t.a=n.p+"static/media/buttonAble.81d585e8.svg"},141:function(e,t,n){"use strict";t.a=n.p+"static/media/buttonDisabled.73e4eb6d.svg"},142:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return a});var r=n(17),i=n(0),t=n(85),o=n(6),s=n(18),l=n(1),d=Object(t.a)(function(e){return{root:{marginTop:"-10px",display:"flex",background:"none !important",flexDirection:"column","&>div":{display:"flex",justifyContent:"space-between","&>div":{width:"calc(50% - 10px)"}}}}}),u=function(e,t){return r.ethers.utils.formatUnits(e,t||18)};function a(){var e=d(),t=Object(i.useContext)(o.f).liteState,n=t.pool,r=t.bond,a=t.want,c=t.data;return Object(i.useMemo)(function(){return Object(l.jsxs)("div",{className:e.root,children:[Object(l.jsxs)("div",{children:[Object(l.jsx)(s.f,{token:r.symbol,status:c.allowance.bond.gt("100000000000000000000000000000000")?"APPROVED":"NOT APPROVED",amount:u(c.balance.bond,r.decimals)}),Object(l.jsx)(s.f,{token:a.symbol,status:c.allowance.want.gt("100000000000000000000000000000000")?"APPROVED":"NOT APPROVED",amount:u(c.balance.want,a.decimals)})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(s.f,{token:"CALL",status:"TOTAL BORROWED",amount:u(c.balance.call)}),Object(l.jsx)(s.f,{token:"COLL",status:"TOTAL LENT",amount:u(c.balance.coll)})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(s.f,{token:"CLPT",status:"LP TOKEN",amount:u(c.balance.clpt)}),Object(l.jsx)(s.f,{token:"COLLAR",status:"".concat(parseFloat(u(c.earned.collar)).toFixed(3)," EARNED"),amount:u(c.balance.collar)})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(s.g,{title:"Interest Rate",data:"".concat(parseFloat(c.apy).toFixed(2)," %"),info:"FOR BOTH LENDING AND BORROWING"}),Object(l.jsx)(s.g,{title:"Farm APY",data:"".concat((100*c.farm_apy).toFixed(3)," %"),info:"CLPT'S farming APY"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(s.g,{title:"Expiry",data:new Date(1e3*n.expiry_time).toLocaleString(),info:"REPAY BEFORE THIS TIME",styles:{color:"#FF5C5C"},noHr:!0}),Object(l.jsx)(s.h,{title:"Nominal swap fee",data1:"0.01% for Borrow, Withdraw, Lend and Redeem",data2:"0% for Repay and Deposit",noHr:!0})]})]})},[c])}},143:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return r});var s=n(11),l=n(0),t=n(85),d=n(297),u=n(302),b=n(300),j=n(6),p=n(1),x=Object(t.a)({root:{},formControlTitle:{fontFamily:"Helvetica",fontSize:"14px",display:"block",margin:"15px 0 5px",color:"#30384B"},formControlList:{display:"flex",justifyContent:"space-between","&>div":{backgroundColor:"#F4F4F4","&>div":{lineHeight:"unset"},"&>div::before":{border:"none"}}},formControl:{width:"50%","& span":{fontFamily:"Frutiger"}},icon:{margin:"0 10px"},icon_arrow:{fontFamily:"Material Icons",fontSize:"24px",display:"flex",alignItems:"center"},select:{"&>div":{"& span,& img":{verticalAlign:"middle"}}}});function r(){function t(e,t){var n=(r=j.k["".concat(e,"-").concat(t,"-").concat(i[0])])?[r,i]:[j.k["".concat(e,"-").concat(t,"-0")],[0,!0]],r=(a=Object(s.a)(n,2))[0],e=a[1],t=r.bond,n=r.want,a=r.coll;o({pool:r,bond:t,want:n,coll:a,round:e})}var r=x(),e=Object(l.useContext)(j.f),n=e.liteState,a=n.bond,c=n.want,i=n.round,o=e.setLiteState;return Object(l.useMemo)(function(){return Object(p.jsxs)("div",{className:r.root,children:[Object(p.jsx)("span",{className:r.formControlTitle,children:"Selector Pair"}),Object(p.jsxs)("div",{className:r.formControlList,children:[Object(p.jsx)(d.a,{className:r.formControl,children:Object(p.jsx)(u.a,{value:a.addr,onChange:function(e){e=e.target.value;return t(e,j.q[e][0].addr)},className:r.select,children:j.d.map(function(e){var t=e.addr,n=e.icon,e=e.symbol;return Object(p.jsxs)(b.a,{value:t,children:[Object(p.jsx)("img",{alt:"",src:n,className:r.icon,style:{width:"20px"}}),Object(p.jsx)("span",{style:{fontFamily:"Frutiger"},children:e})]},t)})})}),Object(p.jsx)("span",{className:r.icon_arrow,children:"navigate_next"}),Object(p.jsx)(d.a,{className:r.formControl,children:Object(p.jsx)(u.a,{value:c.addr,onChange:function(e){e=e.target.value;return t(a.addr,e)},className:r.select,children:j.q[a.addr].map(function(e){var t=e.addr,n=e.icon,e=e.symbol;return Object(p.jsxs)(b.a,{value:t,children:[Object(p.jsx)("img",{alt:"",src:n,className:r.icon,style:{width:"20px"}}),Object(p.jsx)("span",{style:{fontFamily:"Frutiger"},children:e})]},t)})})})]})]})},[a,c,i])}},144:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return u});var r=n(10),t=n(8),a=n(587),c=n(584),i=n(585),o=n(586),s=n(191),l=n(1),d=Object(t.a)({root:{lineHeight:"unset",padding:"0"}})(function(e){return Object(l.jsx)(a.a,Object(r.a)({},e))});function u(e){var t=e.data,n=e.pool,e=e.classes;return Object(l.jsxs)(c.a,{children:[Object(l.jsx)("div",{className:e.loan,children:"Current Loan Stats:"}),Object(l.jsx)(i.a,{className:e.table2,children:Object(l.jsxs)(o.a,{children:[Object(l.jsxs)(s.a,{children:[Object(l.jsx)(d,{children:"Repaid Loan Amount:"}),Object(l.jsx)(d,{children:"".concat((t.coll_total_supply+t.coll_total-t.call_total_supply).toFixed(2)," ").concat(n.want.symbol)})]}),Object(l.jsxs)(s.a,{children:[Object(l.jsx)(d,{children:"Outstanding Loan Amount:"}),Object(l.jsx)(d,{children:"".concat(t.call_total_supply.toFixed(2)," ").concat(n.want.symbol)})]}),Object(l.jsxs)(s.a,{children:[Object(l.jsx)(d,{children:"Collateral deposit amount:"}),Object(l.jsx)(d,{children:"".concat(t.bond_total.toFixed(2)," ").concat(n.bond.symbol)})]})]})})]})}},145:function(e,t,n){"use strict";n.r(t);var r=n(10),a=n(8),c=n(579),i=n(590),o=n(1),s=Object(a.a)({root:{minHeight:"0",padding:"0 15px",marginRight:"0",boxSizing:"content-box",border:"#c1c1c1 1px solid",borderBottom:"#4c4c4c 2px solid",fontFamily:"Gillsans",backgroundColor:"#344B90","&>span":{color:"#fff",alignItems:"center",fontSize:"17px"},"&:first-child":{borderLeft:"#4c4c4c 2px solid"},"&:last-child":{borderRight:"#4c4c4c 2px solid"}},textColorInherit:{opacity:"1"},selected:{backgroundColor:"white",border:"#c1c1c1 2px solid",borderBottom:"none","&>span":{color:"#30384b"}}})(function(e){return Object(o.jsx)(c.a,Object(r.a)({},e))}),a=Object(a.a)({root:{minHeight:"0"},flexContainer:{height:"35px"},indicator:{display:"none"}})(function(e){return Object(o.jsx)("div",{style:{position:"relative"},children:Object(o.jsx)(i.a,Object(r.a)(Object(r.a)({},e),{},{variant:"fullWidth",children:e.labels.map(function(e,t){return Object(o.jsx)(s,{label:e},t)})}))})});t.default=a},17:function(e,t){e.exports=ethers},18:function(e,t,n){"use strict";n.d(t,"j",function(){return r}),n.d(t,"k",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return p}),n.d(t,"h",function(){return O}),n.d(t,"a",function(){return L}),n.d(t,"b",function(){return z}),n.d(t,"c",function(){return T}),n.d(t,"e",function(){return H}),n.d(t,"d",function(){return q}),n.d(t,"l",function(){return G}),n.d(t,"m",function(){return K}),n.d(t,"n",function(){return re}),n.d(t,"i",function(){return oe});var j=n(85),c=n(140),i=n(141),f=n(1),o=Object(j.a)(function(e){return{button:{fontFamily:"Frutiger",padding:"0",background:"none",border:"none",position:"relative","&:hover":{opacity:function(e){return e.disabled?1:.8}},"&:active":{transform:function(e){return e.disabled?"none":"translateY(3px)"}},"&:focus":{},"&>img":{width:"100%",height:"50px"},"&>div":{color:"#fff",left:"0",width:"100%",height:"100%",fontWeight:"bold",position:"absolute",display:"flex","& span":{fontSize:"1.1em",margin:"auto"},transform:"translateY(-6px)"}}}});function r(e){var t=e.name,n=e.onClick,r=e.style,a=e.disabled,e=o({disabled:a});return Object(f.jsxs)("button",{className:e.button,onClick:n,style:r,disabled:a,children:[Object(f.jsx)("div",{children:Object(f.jsx)("span",{children:t})}),Object(f.jsx)("img",{alt:t,src:(a?i:c).a})]})}var h=n(27),a=Object(j.a)({button:{padding:"0",background:"none",border:"none",position:"relative",backgroundImage:"url(".concat(h.m,")"),backgroundRepeat:"no-repeat",backgroundSize:"133px",minHeight:"37px",color:"white",margin:"5px 0",fontSize:"14px",fontFamily:"Frutiger","&:hover":{backgroundImage:function(e){e=e.disabled;return"url(".concat(e?h.m:h.n,")")}},"&:active":{transform:function(e){return e.disabled?"none":"translateY(3px)"}},"&:focus":{}},span:{position:"absolute",transform:"translate(-50%, -70%)"}});function s(e){var t=e.name,n=e.onClick,r=e.disabled,e=a({disabled:r});return Object(f.jsx)("button",{className:e.button,onClick:n,disabled:r,children:Object(f.jsx)("span",{className:e.span,children:t})})}var l=n(44),d=Object(j.a)(function(e){return{root:{fontFamily:"Frutiger",width:"100%",textAlign:"center",display:"flex",flexDirection:"column",position:"relative",paddingBottom:"20px",marginBottom:"10px","&>div>hr":{position:"absolute",width:"100%",bottom:0,border:"none",borderTop:"white 1px solid"}},title:{color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",margin:"5px 0","& span:last-child":{backgroundColor:"#4976FF",padding:"0px 5px",height:"20px",lineHeight:"20px"}},amount:{width:"100%",fontSize:"1.5em",marginTop:"5px",color:"white",textAlign:"left"}}});function u(e){var t=d(),n=e.token,r=e.status,e=e.amount;return Object(f.jsxs)("div",{className:t.root,children:[Object(f.jsxs)("div",{className:t.title,children:[Object(f.jsx)("span",{style:{fontSize:"0.9em"},children:n}),Object(f.jsx)("span",{style:{fontSize:"0.6em"},children:r})]}),Object(f.jsx)("div",{className:t.amount,children:Object(f.jsx)(l.a,{content:parseFloat(e).toFixed(3)})}),Object(f.jsx)("div",{children:Object(f.jsx)("hr",{})})]})}var b=Object(j.a)(function(e){return{root:{fontFamily:"Frutiger",width:"100%",display:"flex",flexDirection:"column",position:"relative",paddingBottom:"20px",marginBottom:"10px","&>div>hr":{position:"absolute",width:"100%",bottom:0,border:"none",borderTop:"white 1px solid"}},title:{fontSize:"0.9em",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",margin:"5px 0"},data:{alignSelf:"flex-start",color:"white",fontSize:"1.4em",overflow:"hidden",maxWidth:"100%",marginBottom:"10px"},info:{textAlign:"start",fontSize:"10px",color:"white",whiteSpace:"pre-line"}}});function p(e){var t=e.title,n=e.data,r=e.info,a=e.noHr,c=e.styles,e=b();return Object(f.jsxs)("div",{className:e.root,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:e.title,children:Object(f.jsx)("span",{children:t})}),n&&Object(f.jsx)("div",{className:e.data,children:Object(f.jsx)(l.a,{content:n})}),r&&Object(f.jsx)("div",{className:e.info,style:c,children:Object(f.jsx)("span",{children:r})})]}),a||Object(f.jsx)("div",{children:Object(f.jsx)("hr",{})})]})}var x=Object(j.a)(function(e){return{root:{fontFamily:"Frutiger",width:"100%",display:"flex",flexDirection:"column",position:"relative",paddingBottom:"20px",marginBottom:"10px","&>div>hr":{position:"absolute",width:"100%",bottom:0,border:"none",borderTop:"white 1px solid"}},title:{fontSize:"0.9em",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",margin:"5px 0"},data:{alignSelf:"flex-start",color:"white",fontSize:"0.8em",overflow:"hidden",maxWidth:"calc(50vw - 40px)",marginBottom:"10px"}}});function O(e){var t=x(),n=e.title,r=e.data1,a=e.data2,e=e.noHr;return Object(f.jsxs)("div",{className:t.root,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:t.title,children:Object(f.jsx)("span",{children:n})}),r&&Object(f.jsx)("div",{className:t.data,children:r}),a&&Object(f.jsx)("div",{className:t.data,children:a})]}),e||Object(f.jsx)("div",{children:Object(f.jsx)("hr",{})})]})}var m=n(15),g=n(10),v=n(11),y=n(17),w=n(0),C=n(644),k=n(6),F=n(28),S=n(66),A=Object(j.a)(function(e){return{root:{fontFamily:"Frutiger","&>div:first-child":{margin:"5px 0",height:"25px",display:"flex",alignItems:"center"}},AmountInput:{border:"#272727 2px solid",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"center",position:"relative","& input":{padding:"0",margin:"0 5px 0 0",fontSize:function(e){e=e.fontSize;return"".concat(e,"px")},fontWeight:"bold",border:"none",width:"100%",color:"#30384B"}},amount:{display:"flex",alignItems:"center",justifyContent:"space-between","&>div":{width:"100%","&>div":{"&:before,&:after,&:hover:not(.Mui-disabled):before":{border:"none"}}}},token:{fontSize:"12px",fontWeight:"bold",color:"#30384B",marginLeft:"2px"},dollar:{color:"#99A8C9",margin:"5px",fontWeight:"bold",fontSize:"12px"}}});function L(e){var t=e.State,a=e.title,n=e.style,e=(Object(S.c)().enqueueSnackbar,Object(w.useState)(35)),e=Object(v.a)(e,2),c=e[0],i=e[1],e=Object(w.useState)(null),e=Object(v.a)(e,2),r=e[0],o=e[1],s=t.state,l=t.setState,d=t.token,u=t.max,b=t.if_max,j=A({fontSize:c}),p=Object(w.useRef)(),x=Object(w.useCallback)(function(e){var t=e.target.value,n=e.nativeEvent.data;-1<["0","1","2","3","4","5","6","7","8","9",".",null].indexOf(n)&&(e=s.I[a],"."===n&&(1===t.length||-1!==e.indexOf("."))||"0"===e&&-1===[".",null].indexOf(n)||(-1==t.indexOf(".")?0:t.length-t.indexOf(".")-1)>d.decimals||l({I:Object(g.a)(Object(g.a)({},s.I),{},Object(m.a)({},a,t)),old:Object(g.a)(Object(g.a)({},s.old),{},Object(m.a)({},a,e))}))},[s.I,u]);return Object(w.useEffect)(function(){var e=[s.I[a],s.old[a]],t=e[0],n=e[1],r=p.current,e=r.offsetWidth,r=r.scrollWidth;t.length>(n||"").length&&e<r-1&&8<=c?i(.91*c):t.length<(n||"").length&&r<=e&&c<35&&i(1.1*c)},[c,s.I[a]]),Object(w.useMemo)(function(){return Object(f.jsxs)("div",{className:j.root,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{style:{fontFamily:"Helvetica",fontSize:"14px"},children:a.toUpperCase()}),Object(f.jsx)("span",{style:{fontFamily:"Material Icons Outlined",fontSize:"16px",marginLeft:"5px",color:"#B2B2B2"},onMouseEnter:function(e){return o(e.currentTarget)},onMouseLeave:function(){return o(null)},children:"info"}),Object(f.jsx)(H,{anchorEl:r,info:k.o[a]})]}),Object(f.jsxs)("div",{className:j.AmountInput,style:n,children:[Object(f.jsx)("div",{className:j.amount,children:Object(f.jsx)(C.a,{value:s.I[a],onChange:x,inputRef:p,placeholder:"0.00",InputProps:{endAdornment:Object(f.jsx)("img",{alt:"",src:b?h.k:h.l,onClick:b?function(){var e;l({I:Object(g.a)(Object(g.a)({},s.I),{},Object(m.a)({},a,"".concat((e=d.decimals,y.ethers.utils.formatUnits(u,e||18)))))})}:function(){},style:{width:"60px"}})}})}),Object(f.jsx)("span",{className:j.token,children:d.symbol}),"CLPT"!=d.symbol&&Object(f.jsxs)("span",{className:j.dollar,children:["~$",(F.a[d.addr]*s.I[a]).toFixed(3)]})]})]})},[t,r])}var _=n(8),E=n(590),B=n(579),D=Object(j.a)(function(e){return{AmountInput:{fontFamily:"Frutiger",border:"#272727 2px solid",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"center",position:"relative","& input":{padding:"0",margin:"0 5px 0 0",fontSize:function(e){return e.fontSize},fontWeight:"bold",border:"none",width:"100%",color:"#30384B"}},amount:{display:"flex",alignItems:"center",justifyContent:"space-between","&>div":{width:"100%","&>div":{"&:before,&:after,&:hover:not(.Mui-disabled):before":{border:"none"}}}},token:{fontWeight:"bold",fontSize:"12px",color:"#30384B",marginLeft:"2px"},dollar:{fontWeight:"bold",fontSize:"12px",color:"#99A8C9",margin:"5px"}}}),I=Object(_.a)({root:{minHeight:"0"},flexContainer:{margin:"5px 0",height:"25px","&>button":{minHeight:0,minWidth:0,padding:0,marginRight:"10px"}},indicator:{display:"none"}})(function(n){var e=Object(w.useState)({}),e=Object(v.a)(e,2),r=e[0],a=e[1];return Object(f.jsx)("div",{style:{position:"relative"},children:Object(f.jsx)(E.a,Object(g.a)(Object(g.a)({},n),{},{children:n.labels.map(function(e,t){return Object(f.jsx)(B.a,{disableRipple:!0,classes:{selected:Object(j.a)({s:{fontWeight:"bold",color:"#275bff"}})().s},label:Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{style:{fontFamily:"Helvetica",fontSize:"14px"},children:e}),Object(f.jsx)("span",{style:{fontFamily:"Material Icons Outlined",fontSize:"16px",textTransform:"none",marginLeft:"5px",color:"#B2B2B2"},onMouseEnter:function(e){return a(Object(m.a)({},t,e.currentTarget))},onMouseLeave:function(){return a({})},children:"info"}),Object(f.jsx)(H,{anchorEl:r[t],info:n.info[t]})]})},t)})}))})}),N=function(e){var a=e.state,r=e.setState,c=e.title,t=e.max,n=e.if_max,i=e.token,o=e.style,s=Object(w.useState)(35),e=Object(v.a)(s,2),l=e[0],d=e[1],s=D({fontSize:l}),u=Object(w.useRef)(),e=(Object(S.c)().enqueueSnackbar,Object(w.useCallback)(function(e){var t=e.target.value,n=e.nativeEvent.data;-1<["0","1","2","3","4","5","6","7","8","9",".",null].indexOf(n)&&(e=a.I[c],"."===n&&(1===t.length||-1!==e.indexOf("."))||"0"===e&&-1===[".",null].indexOf(n)||(-1==t.indexOf(".")?0:t.length-t.indexOf(".")-1)>i.decimals||r({I:Object(g.a)(Object(g.a)({},a.I),{},Object(m.a)({},c,t)),old:Object(g.a)(Object(g.a)({},a.old),{},Object(m.a)({},c,e))}))},[a.I,c]));return Object(w.useEffect)(function(){var e=[a.I[c],a.old[c]],t=e[0],n=e[1],r=u.current,e=r.offsetWidth,r=r.scrollWidth;t.length>(n||"").length&&e<r-1&&8<=l?d(.91*l):t.length<(n||"").length&&r<=e&&l<35&&d(1.1*l)},[l,a.I,c]),Object(f.jsxs)("div",{className:s.AmountInput,style:o,children:[Object(f.jsx)("div",{className:s.amount,children:Object(f.jsx)(C.a,{value:a.I[c],onChange:e,inputRef:u,placeholder:"0.00",InputProps:{endAdornment:Object(f.jsx)("img",{alt:"",src:n?h.k:h.l,onClick:n?function(){var e;r({I:Object(g.a)(Object(g.a)({},a.I),{},Object(m.a)({},c,"".concat((e=i.decimals,y.ethers.utils.formatUnits(t,e||18)))))})}:function(){},style:{width:"60px"}})}})}),Object(f.jsx)("span",{className:s.token,children:i.symbol}),Object(f.jsxs)("span",{className:s.dollar,children:[" ~$",(F.a[i.addr]*a.I[c]).toFixed(3)]})]})};function z(e){var t=e.State,n=e.title,r=e.style,e=Object(w.useState)(0),e=Object(v.a)(e,2),a=e[0],c=e[1],i=t.state,o=t.setState,s=t.token,l=t.max,d=t.if_max;return Object(w.useMemo)(function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(I,{value:a,onChange:function(e,t){return c(t)},labels:n,info:n.map(function(e){return k.o[e]})}),Object(f.jsx)(N,{title:n[a],token:s[a],if_max:d[a],max:l[a],tabs:a,state:i,setState:o,style:r})]})},[t,a])}var R=Object(j.a)(function(e){return{root:{fontFamily:"Frutiger","&>div:first-child":{margin:"5px 0",height:"25px",display:"flex",alignItems:"center"}},AmountShow:{border:"#272727 2px solid",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"center",color:"#30384B",fontWeight:"bold","&>div":{maxWidth:"calc(50vw - 85.5px)","&>span":{fontSize:"2em"}},"&>span":{fontSize:"12px",marginLeft:"2px"}},dollar:{color:"#99A8C9",margin:"5px"}}}),P=function(e,t){return y.ethers.utils.formatUnits(e,t||18)};function T(e){var t=e.state,n=t.state,r=t.token,a=e.title,c=e.style,i=R(),t=Object(w.useState)(null),e=Object(v.a)(t,2),t=e[0],o=e[1];return Object(f.jsxs)("div",{className:i.root,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{style:{fontFamily:"Helvetica",fontSize:"14px"},children:a.toUpperCase()}),Object(f.jsx)("span",{style:{fontFamily:"Material Icons Outlined",fontSize:"16px",marginLeft:"5px",color:"#B2B2B2"},onMouseEnter:function(e){return o(e.currentTarget)},onMouseLeave:function(){return o(null)},children:"info"}),Object(f.jsx)(H,{anchorEl:t,info:k.o[a]})]}),Object(f.jsxs)("div",{className:i.AmountShow,style:c,children:[Object(f.jsx)("div",{children:Object(f.jsx)(l.a,{content:parseFloat(P(n.output[a],r.decimals)).toFixed(3)})}),Object(f.jsx)("span",{children:r.symbol}),Object(f.jsxs)("span",{className:i.dollar,children:["~$",("CLPT"==r.symbol?+P(n.output.clpt):F.a[r.addr]*P(n.output[a],r.decimals)).toFixed(3)]})]})]})}var M=n(646);Object(j.a)(function(e){return{popover:{pointerEvents:"none",opacity:"0.95"},paper:{overflow:"hidden","&>div":{backgroundColor:"gray",color:"white",padding:"10px",wordBreak:"break-word",maxWidth:"50vw"}}}});var W=Object(j.a)(function(e){return{popover:{pointerEvents:"none",opacity:"0.95"},paper:{overflow:"hidden",boxShadow:"0px 5px 5px -3px rgb(38 111 239 / 10%), \n      0px 8px 10px 1px rgb(38 111 239 / 8%), \n      0px 3px 14px 2px rgb(38 111 239 / 60%)","&>div":{backgroundColor:"white",color:"#495EB6",padding:"10px",width:"auto"}}}});function H(e){var t=e.anchorEl,n=e.info,e=W();return Object(f.jsx)(M.a,{className:e.popover,classes:{paper:e.paper},open:Boolean(t),anchorEl:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object(f.jsx)("div",{style:{fontsize:"Helvetica",whiteSpace:"pre-line"},children:n})})}function q(e){var t=e.apy,n=e.info,r=Object(w.useState)(null),e=Object(v.a)(r,2),r=e[0],a=e[1];return Object(f.jsxs)("div",{style:{margin:"10px 0",fontFamily:"Helvetica",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[Object(f.jsxs)("span",{children:["APY = ",t,"%"]}),Object(f.jsx)("span",{style:{fontFamily:"Material Icons Outlined",fontSize:"16px",marginLeft:"5px",color:"#B2B2B2"},onMouseEnter:function(e){return a(e.currentTarget)},onMouseLeave:function(){return a(null)},children:"info"}),Object(f.jsx)(H,{anchorEl:r,info:n})]})}var Y=Object(j.a)(function(e){return{root:{margin:"3px",justifyContent:"center"},content:{display:"flex",alignItems:"center",width:"400px",maxWidth:"70vw",height:"auto",padding:"15px",border:"#979797 1px solid",backgroundColor:"rgba(255,255,255,0.9)",boxShadow:"0px 5px 5px -3px rgb(38 111 239 / 10%), \n      0px 8px 10px 1px rgb(38 111 239 / 8%), \n      0px 3px 14px 2px rgb(38 111 239 / 10%)","& img":{marginRight:"15px"},"&>div":{display:"flex",flexDirection:"column"}},title:{fontSize:"16px",color:function(e){return e.title},display:function(e){return e.display}},info:{fontSize:"14px",color:function(e){return e.info}}}}),U={success:h.i,failed:h.c,connecterr:h.b,newroundl:h.f,newroundr:h.g,any:h.a},V=Object(w.forwardRef)(function(e,t){var n=e.info,r=n.type,a=n.title,e=n.message,c={title:"#2AC592",info:"#535353",display:"block"};switch(r){case"failed":c.title="#F25757";break;case"connecterr":case"any":c.display="none",c.info="#F25757";break;case"newroundl":case"newroundr":c.display="none",c.info="#2AC592"}n=Y(c);return Object(f.jsx)(S.a,{ref:t,className:n.root,children:Object(f.jsxs)("div",{className:n.content,children:[Object(f.jsx)("img",{alt:"",src:U[r]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:n.title,children:a}),Object(f.jsx)("span",{className:n.info,children:e})]})]})})}),G=Object(_.a)({root:{top:"50px"}})(function(e){var t=e.classes,e=e.children;return Object(f.jsx)(S.b,{maxSnack:3,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},classes:{root:t.root},content:function(e,t){return Object(f.jsx)(V,{info:t})},children:e})}),$=Object(_.a)({root:{minHeight:"0",padding:"0 15px",marginRight:"0",boxSizing:"content-box",border:"#c1c1c1 2px solid",borderBottom:"#4c4c4c 2px solid",fontFamily:"Frutiger",backgroundColor:"#c1c1c1","&>span":{color:"#fff",alignItems:"start"},"&:first-child":{borderLeft:"#4c4c4c 2px solid"},"&:last-child":{borderRight:"#4c4c4c 2px solid"}},textColorInherit:{opacity:"1"},selected:{backgroundColor:"white",border:"#4c4c4c 2px solid",borderBottom:"none","&>span":{color:"#30384b"}}})(function(e){return Object(f.jsx)(B.a,Object(g.a)({},e))}),K=Object(_.a)({root:{minHeight:"0"},flexContainer:{height:"35px"},indicator:{display:"none"}})(function(e){return Object(f.jsx)("div",{style:{position:"relative"},children:Object(f.jsx)(E.a,Object(g.a)(Object(g.a)({},e),{},{variant:"fullWidth",children:e.labels.map(function(e,t){return Object(f.jsx)($,{label:e},t)})}))})}),J=n(647),Z=n(626),Q=n(627),X=n(648),ee=Object(_.a)({root:(t={fontFamily:"Frutiger"},Object(m.a)(t,k.a.MOBILE,{display:"none"}),Object(m.a)(t,k.a.PC,{display:"flex",width:"max-content",fontSize:"18px",color:"#303848",marginRight:"10px","&>div":{marginLeft:"10px","&>span:nth-child(odd)":{fontSize:"18px",marginLeft:"2px"},"&>span:nth-child(even)":{fontSize:"12px"}}}),t)})(function(e){var t=e.classes,n=Object(v.a)(e.timer,3),r=n[0],e=n[1],n=n[2];return Object(f.jsxs)("div",{className:t.root,children:[Object(f.jsx)("span",{children:"Expiry :"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{children:r}),Object(f.jsx)("span",{children:" Days "}),Object(f.jsx)("span",{children:e}),Object(f.jsx)("span",{children:" Hours "}),Object(f.jsx)("span",{children:n}),Object(f.jsx)("span",{children:" Mins "})]})]})}),te=Object(_.a)({root:{backgroundColor:"#EDF2FF",color:"#4975FF",boxShadow:"none",margin:"0 !important",borderRadius:"5px","&>div:first-child":{minHeight:0,height:0},"&>div:last-child div":{padding:"3px",fontSize:"16px",fontFamily:"Helvetica"},"&:before":{background:"none"}}})(function(e){return Object(f.jsxs)(J.a,Object(g.a)(Object(g.a)({},e),{},{expanded:e.expanded,children:[Object(f.jsx)(Z.a,{}),Object(f.jsx)(Q.a,{children:e.info})]}))}),ne=Object(_.a)({root:{fontFamily:"Frutiger",minHeight:"0",padding:"0",textTransform:"capitalize",fontWeight:"bold",fontSize:"18px",color:"#30384B","&>span":{alignItems:"start"}},textColorInherit:{opacity:"1"},selected:{"&>span":{color:"#275bff"}}})(function(e){return Object(f.jsx)(B.a,Object(g.a)({},e))}),re=Object(_.a)({root:{minHeight:"0",display:"block"},scroller:{height:"35px"},fixed:{width:"auto"},indicator:{backgroundColor:"#275BFF",height:"5px",width:"20% !important",zIndex:"1"}})(function(e){var t=e.labels,n=e.tabs,r=e.value,a=e.expiry,c=t[n][r],i={};t.forEach(function(e){return e.forEach(function(e){return i[e]=!0})});var o=Object(w.useState)(i),r=Object(v.a)(o,2),s=r[0],l=r[1],o=Object(w.useState)(null),r=Object(v.a)(o,2),o=r[0],d=r[1],r=e.round,u=r.round,b=r.setRound,a=(r=new Date(a)-new Date,[Math.floor(r/864e5),Math.floor(r%864e5/36e5),Math.floor(r%864e5%36e5/6e4)]),r=Object(j.a)(function(e){return{root:{position:"relative"},roundInfo:{display:"flex",justifyContent:"flex-end",alignItems:"center",position:"absolute",right:0},hr:{position:"absolute",top:"24px",width:"100%",zIndex:"0",borderBottom:"#D8D8D8 1px solid",borderTop:"none"}}})();return Object(f.jsxs)("div",{className:r.root,children:[Object(f.jsxs)("div",{className:r.roundInfo,children:[Object(f.jsx)(ee,{timer:a}),Object(f.jsx)(X.a,{color:"primary",size:"small",checked:!!u[0],onChange:function(){return b([u[0]?0:1,u[1]])},disabled:u[1]}),Object(f.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"16px"},children:[Object(f.jsx)("span",{style:{color:u[1]?"#C4C4C4":"#303848",fontFamily:"Frutiger"},children:"NewRound"}),Object(f.jsx)("span",{style:{fontFamily:"Material Icons Outlined",color:"#B2B2B2",marginLeft:"2px"},onMouseEnter:function(e){return d(e.currentTarget)},onMouseLeave:function(){return d(null)},children:"info"}),Object(f.jsx)(H,{anchorEl:o,info:k.o.round})]})]}),Object(f.jsx)(E.a,Object(g.a)(Object(g.a)({},e),{},{variant:"standard",children:t[n].map(function(e,t){return Object(f.jsx)(ne,{disableRipple:!0,label:Object(f.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(f.jsx)("span",{children:e}),Object(f.jsx)("span",{style:{display:e===c?"flex":"none",alignItems:"center",justifyContent:"center",backgroundColor:"#275BFF",color:"white",textTransform:"none",fontFamily:"Material Icons",fontSize:"18px",margin:"0 8px",height:"14px",width:"24px",borderRadius:"8px"},onClick:function(){return l(Object(g.a)(Object(g.a)({},s),{},Object(m.a)({},e,!s[e])))},children:s[e]?"expand_less":"expand_more"})]})},t)})})),Object(f.jsx)("hr",{className:r.hr}),Object(f.jsx)(te,{expanded:s[c],info:k.o[c]})]})}),ae=n(581),ce=n(628),ie=Object(j.a)(function(){return{root:{"&>div:first-child":{backgroundColor:"rgba(30,44,87,0.69)"}},wrap:{border:"none",background:"none",boxShadow:"none",padding:"100px"},content:{}}});function oe(e){var t=e.open,e=ie();return Object(f.jsx)(ae.a,{open:t,className:e.root,classes:{paper:e.wrap},children:Object(f.jsx)(ce.a,{color:"primary",size:80})})}},23:function(e,t){e.exports=ReactDOM},27:function(e,t,n){"use strict";n.d(t,"m",function(){return r}),n.d(t,"n",function(){return a}),n.d(t,"k",function(){return c}),n.d(t,"l",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"j",function(){return s}),n.d(t,"h",function(){return l}),n.d(t,"e",function(){return d}),n.d(t,"i",function(){return u}),n.d(t,"c",function(){return b}),n.d(t,"b",function(){return j}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return x}),n.d(t,"a",function(){return f}),n(140),n(141);var r=n.p+"static/media/buttonWhite.fc4b11a8.svg",a=n.p+"static/media/buttonWhiteHover.b17273db.svg",c=n.p+"static/media/balanceMax.b39d612f.svg",i=n.p+"static/media/balanceMaxDisabled.f471068a.svg",o=n.p+"static/media/liteIcon.2b04ba2f.svg",s=n.p+"static/media/termIcon.a6bf4fd7.svg",l=n.p+"static/media/proIcon.734a82c9.svg",d=n.p+"static/media/mypageIcon.29a313b9.svg",u=n.p+"static/media/statusApproved.08d2c60d.svg",b=n.p+"static/media/statusUnapproved.920a5006.svg",j=n.p+"static/media/statusConnectError.a14be159.svg",p=n.p+"static/media/statusNewroundLeft.50a3e7fa.svg",x=n.p+"static/media/statusNewroundRight.c2e8c251.svg",f=n.p+"static/media/statusAny.fbcbea3c.svg"},28:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return T});function o(e,t,n){var r=(i=Object(B.a)(e,3))[0],a=i[1],c=i[2],e=(o=Object(B.a)(t,2))[0],i=o[1],t=y.ethers.utils.parseEther("1"),o=y.ethers.BigNumber.from(1e9);return c.eq("0")?c:r.add(e||w).add(c).mul(t).div(a.add(i||w).add(c.mul(n).div(o))).sub(t)}var r,A=n(15),L=n(127),_=n(10),u=n(71),t=n(3),E=n.n(t),b=n(7),B=n(11),y=n(17),D=n(6),c=n(66),I={grid:{right:"30px",left:"30px",bottom:"20px",top:"20px"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:[],axisLine:{lineStyle:{type:"solid",width:"3",color:"#3D57A7"}},axisLabel:{color:"#fff",interval:2,formatter:function(e){return[new Date(e).toLocaleDateString()]}},axisTick:{show:!1}},yAxis:{type:"value",min:"dataMin",max:"dataMax",axisLine:{show:!1},splitLine:{show:!0,lineStyle:{type:"dashed",color:"#3D57A7"}},axisLabel:{show:!1}},series:[{data:[],type:"line",showSymbol:!1,lineStyle:{color:"#59FFAD"}}]},a={type:"failed",title:"Fail.",message:"Your transaction failed."},j=function(e,t){switch(e){case"balance":return"insufficient"!==t?a:{type:"failed",title:"Fail.",message:"Maximum range exceeded."};case"approve":return 1!==t?a:{type:"success",title:"Approved!",message:"You have successfully approved your asset."};case"borrow":return 1!==t?a:{type:"success",title:"Deposited and Borrowed.",message:"You have successfully borrowed asset."};case"repay":return 1!==t?a:{type:"success",title:"Repaid.",message:"You have successfully repaid your loan."};case"deposit":return 1!==t?a:{type:"success",title:"Deposited.",message:"You have successfully deposited your asset."};case"withdraw":return 1!==t?a:{type:"success",title:"Withdrawn.",message:"You have successfully withdrawn your liquidity."};case"claim":return 1!==t?a:{type:"success",title:"Claimed.",message:"You have successfully claimed your reward."};case"lend":return 1!==t?a:{type:"success",title:"Lent.",message:"You have successfully lent your assset."};case"redeem":return 1!==t?a:{type:"success",title:"Redeemed.",message:"You have successfully redeemed your loan."};case"mint":return 1!==t?a:{type:"success",title:"mint.",message:"You have successfully mint."};case"faucet":switch(t){case 1:return{type:"success",title:"Faucet.",message:"You have successfully get test token."};case"empty":return{type:"failed",title:"Fail.",message:"The amount of ETH is necessary."};case"insufficient":return{type:"failed",title:"Fail.",message:"You dont't have enough ETH to exchange."};default:return a}case"cancel":return{type:"failed",title:"Fail.",message:"User denied transaction signature."};case"support":return{type:"failed",title:"Fail.",message:"Not supported yet!"};case"noaccount":return{type:"failed",title:"Fail.",message:"No Account!"};case"network":return!0!=t instanceof Object?{type:"failed",title:"Fail.",message:"Connect error, please refresh the page!"}:{type:"failed",title:"Fail.",message:"This network is not supported. chainId: ".concat(t.chainId)};default:return a}},t=n(157),N=n.n(t),w=y.ethers.constants.Zero,p=D.p[D.i.collar].ct,i=D.p[D.i.pricePool].ct,x=function(e){return e.mul(995).div(1e3)},h=function(e,t,n){t=parseFloat(y.ethers.utils.formatUnits(e,t||18));return n?t.toFixed(n):t},C=function(e,n){return n?e.map(function(e,t){return h(e,n[t]||18)}):e.map(function(e){return h(e)})},O=function(e,t,n){var r=e.swap,a=r.sx,c=r.sy,i=r.sk,e=Object(B.a)(t,2),r=e[0],t=e[1],e=n.swap_sqp,n=n.expiry_time;return 31556926e5*h(o([a,c,i],[r,t],e))/(1e3*n-new Date)},z=function(e,t,n){var r=Object(B.a)(e,3),a=r[0],c=r[1],e=r[2],r=t.swap_sqp;return 31556926e5*(0==e?0:(a+e)/(c+e*r/1e9)-1)/(1e3*t.expiry_time-(n||new Date))},f=function(e,t,n){var r=e.swap,a=r.sx,c=r.sy,i=r.sk,e=Object(B.a)(t,2),r=e[0],t=e[1],e=n.swap_sqp,n=n.expiry_time;return 31556926e5*h(o([a,c,i],[r,t],e).sub(o([a,c,i],[null,null],e)))/(1e3*n-new Date)},R=(r=Object(b.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.slot0().then(function(e){return e[0]}).then(function(e){return Math.pow(e,2)/Math.pow(2,192)}).then(function(e){return 1/e});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)}),P=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"latest",a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:18;return(e=e.populateTransaction)[t].apply(e,Object(u.a)(n)).then(function(e){return D.n.send("eth_call",[e,{blockNumber:r}])}).then(function(e){return y.ethers.utils.defaultAbiCoder.decode(D.c[t],e)}).then(function(e){return e.map(function(e){return h(e,a)})}).then(function(e){return 1===e.length?e[0]:e}).catch(function(){return 1===D.c[t].length?0:Array(D.c[t].length).fill(0)})},m=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];return e[t].apply(e,Object(u.a)(n)).catch(function(){return 1===D.c[t].length?w:Array(D.c[t].length).fill(w)})};function s(){function l(e,t){return d(j(e,t))}function s(e){switch(e){case!0:return function(t){return function(e){return e.wait().then(function(e){e=e.status;return l(t,e),1==e})}};case!1:return function(e){return 4001===e.code&&l("cancel"),!1};default:return console.log}}var a,d=Object(c.c)().enqueueSnackbar,i=(a=Object(b.a)(E.a.mark(function e(t,n,r,a){var c,i,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=t.ct).signer){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,(c=i.estimateGas)[n].apply(c,Object(u.a)(r)).then(function(e){return e.mul(D.i.gasAdjustment).div(100)});case 5:return o=e.sent,e.next=8,(c=i.populateTransaction)[n].apply(c,Object(u.a)(r)).then(function(e){return i.signer.sendTransaction(Object(_.a)(Object(_.a)({},e),{},{gasLimit:o}))}).then(s(!0)(a)).catch(s(!1));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)})),function(e,t,n,r){return a.apply(this,arguments)});return{calc_apy:O,calc_slip:f,notify:l,fetch_state:function(c){return Object(b.a)(E.a.mark(function e(){var t,n,r,a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={balance:{},allowance:{},earned:{},swap:{}},n=c.ct.signer?c.ct.signer.getAddress():null,e.next=4,R();case 4:return r=e.sent,e.next=7,Promise.all([n?p.balanceOf(n):w,n?c.bond.ct.balanceOf(n):w,n?c.want.ct.balanceOf(n):w,n?c.call.ct.balanceOf(n):w,n?c.coll.ct.balanceOf(n):w,n?c.ct.balanceOf(n):w,n?c.bond.ct.allowance(n,c.addr):w,n?c.want.ct.allowance(n,c.addr):w,n?c.ct.earned(n):w,c.ct.sx(),c.ct.sy(),c.ct.sk(),c.ct.swap_fee(),c.ct.reward_rate()]);case 7:return a=e.sent,a=Object(B.a)(a,14),t.balance.collar=a[0],t.balance.bond=a[1],t.balance.want=a[2],t.balance.call=a[3],t.balance.coll=a[4],t.balance.clpt=a[5],t.allowance.bond=a[6],t.allowance.want=a[7],t.earned.collar=a[8],t.swap.sx=a[9],t.swap.sy=a[10],t.swap.sk=a[11],t.swap.fee=a[12],t.reward_rate=a[13],t.clpt_price=h(t.swap.sx.add(t.swap.sy))/h(t.swap.sk),t.farm_apr=h(t.reward_rate)/h(t.swap.sk)*(r/t.clpt_price)*31536e3,t.farm_apy=Math.pow(t.farm_apr/365+1,365)-1,t.apy=O(t,[null,null],c),T[D.i.collar]=t.collar_price,e.abrupt("return",t);case 29:case"end":return e.stop()}},e)}))()},mypage_data:function(){return Object(b.a)(E.a.mark(function e(){var O,m,t,n,r,a,g,v;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return O=[],e.next=3,R();case 3:m=e.sent,t=Object(L.a)(D.l),e.prev=5,t.s();case 7:if((r=t.n()).done){e.next=18;break}a=r.value,n=a.r1,r=a.r2,a=E.a.mark(function e(){var n,r,a,c,i,o,s,l,d,u,b,j,p,x,f,h;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=v[g])return h=n.ct.signer?n.ct.signer.getAddress():null,e.next=5,Promise.all([n.bond.ct.balanceOf(n.addr),n.ct.sy(),n.ct.sx(),n.ct.sk(),n.ct.reward_rate(),h?n.ct.earned(h):w,h?n.ct.balanceOf(h):w,h?n.coll.ct.balanceOf(h):w,h?n.call.ct.balanceOf(h):w,n.coll.ct.totalSupply(),n.call.ct.totalSupply()]).then(function(e){return C(e,[n.bond.decimals,n.want.decimals])}).catch(function(){return Array(11).fill(0)});e.next=33;break;case 5:if(p=e.sent,x=Object(B.a)(p,11),r=x[0],a=x[1],c=x[2],i=x[3],o=x[4],s=x[5],l=x[6],d=x[7],u=x[8],b=x[9],j=x[10],0!==l){e.next=22;break}e.t0=[0,0],e.next=25;break;case 22:return e.next=24,n.ct.get_dxdy((t=l,y.ethers.utils.parseUnits(String(t)||"",18))).then(function(e){return C(e,[null,n.want.decimals])}).catch(function(){return[0,0]});case 24:e.t0=e.sent;case 25:f=e.t0,h=Object(B.a)(f,2),p=h[0],x=h[1],f=o/i*(m/((c+a)/i))*31536e3,h=Math.pow(f/365+1,365)-1,O.push({pool:n,coll_total:c,want_total:a,bond_total:r,clpt:l,coll:d,call:u,coll_total_supply:b,call_total_supply:j,earned:s,receivables:(p+d)*T[n.coll.addr]+x*T[n.want.addr],shareOfPoll:i?l/i*100:0,coll_apy:0,call_apy:0,clpt_apr:f,clpt_apy:h});case 33:case"end":return e.stop()}var t},e)}),g=0,v=[n,r];case 11:if(g<v.length)return e.delegateYield(a(),"t0",13);e.next=16;break;case 13:g++,e.next=11;break;case 16:e.next=7;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(5),t.e(e.t1);case 23:return e.prev=23,t.f(),e.finish(23);case 26:return T[D.i.collar]=m,e.abrupt("return",O);case 28:case"end":return e.stop()}},e,null,[[5,20,23,26]])}))()},pro_echarts:function(F,S){return Object(b.a)(E.a.mark(function e(){var t,n,r,a,c,d,u,i,o,s,l,b,j,p,x,f,h,O,m,g,v,y,w,C,k;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.n.getBlockNumber();case 2:t=e.sent,n=new Date,r=[],a=[],e.t0=[11,10,9,8,7,6,5,4,3,2,1,0],e.t1=[144,120,96,72,48,24,0],k={"12h":e.t0,"7d":e.t1,get"24h"(){return this["12h"].map(function(e){return 2*e})},get"1m"(){return this["7d"].map(function(e){return 5*e})}},c=k[F],d=c.map(function(e){return new Date(n-36e5*e)}),u=c.length,i=Object(L.a)(D.l);try{for(i.s();!(o=i.n()).done;)for(s=o.value,l=s.r1,b=s.r2,j=0,p=[l,b];j<p.length;j++)if(x=p[j]){f=Object(L.a)(c);try{for(f.s();!(h=f.n()).done;)O=h.value,m="0x".concat((t-225*O).toString(16)),r.push(P(x.ct,"sx",[],m),P(x.ct,"sy",[],m,x.want.decimals),P(x.ct,"sk",[],m),P(x.ct,"reward_rate",[],m),P(x.bond.ct,"balanceOf",[x.addr],m,x.bond.decimals))}catch(e){f.e(e)}finally{f.f()}a.push(x)}}catch(e){i.e(e)}finally{i.f()}return e.next=15,Promise.all(r);case 15:return g=e.sent,e.next=18,R();case 18:return e.sent,v={totalLockedValue:Array(u).fill(0),totalLiquidity:Array(u).fill(0),totalCollateral:{},historicalInterestRate:{}},a.forEach(function(e,t){var n=g.slice(t*u*5,(t+1)*u*5),t="".concat(e.bond.symbol,"-").concat(e.want.symbol),r=v.historicalInterestRate["".concat(t,"-1")]?"".concat(t,"-2"):"".concat(t,"-1");v.historicalInterestRate[r]=[],v.totalCollateral[e.bond.symbol]||(v.totalCollateral[e.bond.symbol]=Array(u).fill(0));for(var a=0;a<u;a++){var c=n.slice(5*a,5*(a+1)),i=Object(B.a)(c,5),o=i[0],s=i[1],l=i[2],c=(i[3],i[4]),i=o*T[e.coll.addr]+s*T[e.want.addr],c=c*T[e.bond.addr];v.totalLockedValue[a]+=i+c,v.totalLiquidity[a]+=i,v.totalCollateral[e.bond.symbol][a]+=c,v.historicalInterestRate[r].push(z([o,s,l],e,d[a]))}}),(y=N.a.cloneDeep(I)).xAxis.data=d,y.xAxis.axisLabel.interval=u-2,w=function(e){var t=N.a.cloneDeep(y);return t.series[0]={data:v[e],type:"line",showSymbol:!1,lineStyle:{color:"#59FFAD"}},t},C=function(e){var t=N.a.cloneDeep(y);return t.series=Object.entries(v[e]).map(function(e,t){e=Object(B.a)(e,2);return{name:e[0],data:e[1],type:"line",showSymbol:!1}}),t},k=function e(t){switch(t){case"totalLockedValue":case"totalLiquidity":return Object(A.a)({},t,w(t));case"totalCollateral":case"historicalInterestRate":return Object(A.a)({},t,C(t));default:return Object(_.a)(Object(_.a)(Object(_.a)(Object(_.a)({},e("totalLockedValue")),e("totalLiquidity")),e("totalCollateral")),e("historicalInterestRate"))}},e.abrupt("return",k(S));case 29:case"end":return e.stop()}},e)}))()},pro_data:function(){return Object(b.a)(E.a.mark(function e(){var t,n,r,a,c,i,o,s,l,d,u,b,j,p,x,f;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,R();case 3:n=e.sent,r=Object(L.a)(D.l),e.prev=5,r.s();case 7:if((d=r.n()).done){e.next=34;break}u=d.value,b=u.r1,j=u.r2,a=0,c=[b,j];case 10:if(!(a<c.length)){e.next=32;break}if(i=c[a])return p=i.ct.signer?i.ct.signer.getAddress():null,e.next=16,Promise.all([m(i.bond.ct,"balanceOf",[i.addr]),m(i.ct,"sy"),m(i.ct,"sx"),m(i.ct,"sk"),m(i.ct,"reward_rate"),m(i.ct,"balanceOf"),m(i.coll.ct,"balanceOf",[p]),m(i.call.ct,"balanceOf",[p]),m(i.bond.ct,"allowance",[p,i.addr]),m(i.want.ct,"allowance",[p,i.addr])]);e.next=29;break;case 16:x=e.sent,f=Object(B.a)(x,10),o=f[0],s=f[1],l=f[2],d=f[3],u=f[4],b=f[5],j=f[6],p=f[7],x=f[8],f=f[9],t.push({pool:i,bond_total:o,want_total:s,coll_total:l,clpt_total:d,reward_rate:u,clpt:b,coll:j,call:p,bond_allowance:x,want_allowance:f,clpt_price:h(l.add(s))/h(d),apy:O({swap:{sx:l,sy:s,sk:d}},[null,null],i),farm_apy:h(u)*n/(h(l)+h(s,i.want.decimals))*31536e5});case 29:a++,e.next=10;break;case 32:e.next=7;break;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(5),r.e(e.t0);case 39:return e.prev=39,r.f(),e.finish(39);case 42:return e.abrupt("return",t);case 43:case"end":return e.stop()}},e,null,[[5,36,39,42]])}))()},mypage_check:function(o,s){return Object(b.a)(E.a.mark(function e(){var t,n,r,a,c,i;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ct.signer.getAddress();case 2:return t=e.sent,e.next=5,Promise.all([s.coll.ct.balanceOf(t),s.call.ct.balanceOf(t),s.want.ct.balanceOf(t)]).catch(function(){return[w,w,w]});case 5:r=e.sent,a=Object(B.a)(r,3),n=a[0],r=a[1],a=a[2],e.t0=o,e.next="redeemAll"===e.t0?13:"repayAll"===e.t0?25:"withdrawAll"===e.t0?35:"settle"===e.t0?46:"claim"===e.t0?48:55;break;case 13:if(n.eq(w))return d({type:"failed",title:"Fail.",message:"You have no COLL."}),e.abrupt("return",!1);e.next=16;break;case 16:if(r.gt(n))return d({type:"failed",title:"Fail.",message:"COLL balance must exceed CALL balance!"}),e.abrupt("return",!1);e.next=19;break;case 19:return e.t1=n,e.t2=r,e.next=23,s.ct.get_dy(n);case 23:return e.t3=e.sent,e.abrupt("return",{coll:e.t1,call:e.t2,want:e.t3});case 25:e.t4=!0,e.next=e.t4===w.eq(r)?28:e.t4===w.eq(a.add(n))?30:e.t4===r.lte(a)?32:e.t4===r.lte(a.add(n))?33:34;break;case 28:return d({type:"failed",title:"Fail.",message:"You have no CALL."}),e.abrupt("return",!1);case 30:return d({type:"failed",title:"Fail.",message:"You have no ".concat(s.want.symbol," and COLL.")}),e.abrupt("return",!1);case 32:return e.abrupt("return",{call:r,want:r,coll:w,bond:r});case 33:return e.abrupt("return",{call:r,want:a,coll:r.sub(a),bond:r});case 34:return e.abrupt("return",{call:a.add(n),want:a,coll:n,bond:a.add(n)});case 35:return e.next=37,s.ct.balanceOf(t);case 37:if((c=e.sent).eq(w))return d({type:"failed",title:"Fail.",message:"You have no CLPT."}),e.abrupt("return",!1);e.next=41;break;case 41:return e.t5=c,e.next=44,s.ct.get_dxdy(c).catch(function(){return[w,w]});case 44:return e.t6=e.sent,e.abrupt("return",{clpt:e.t5,pair:e.t6});case 46:return l("support",!1),e.abrupt("return",!1);case 48:return e.next=50,s.ct.earned(t);case 50:if((i=e.sent).eq(w))return d({type:"failed",title:"Fail.",message:"No COLLAR to get."}),e.abrupt("return",!1);e.next=54;break;case 54:return e.abrupt("return",{earned:i});case 55:return e.abrupt("return",!1);case 56:case"end":return e.stop()}},e)}))()},approve:function(c,i){return Object(b.a)(E.a.mark(function e(){var t,n,r,a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="approve",r=[i.addr,y.ethers.constants.MaxUint256],e.next=4,(t=c.ct.estimateGas)[n].apply(t,r).then(function(e){return e.mul(D.i.gasAdjustment).div(100)});case 4:return a=e.sent,e.next=7,(t=c.ct.populateTransaction)[n].apply(t,r).then(function(e){return Object(_.a)(Object(_.a)({},e),{},{gasLimit:a})}).then(function(e){return i.ct.signer.sendTransaction(e)}).then(s(!0)("approve")).catch(s(!1));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}))()},borrow:function(n,r,a){return Object(b.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[n,x(r)],e.next=5,i(a,"borrow_want",t,"borrow");case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))()},repay:function(r,a,c){return Object(b.a)(E.a.mark(function e(){var t,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t="",n=[],e.t0=!0,e.next=e.t0===r.eq(w)?4:e.t0===a.eq(w)?7:10;break;case 4:return t="burn_dual",n=[a],e.abrupt("break",13);case 7:return t="burn_call",n=[r],e.abrupt("break",13);case 10:return t="repay_both",n=[r,a],e.abrupt("break",13);case 13:return e.next=15,i(c,t,n,"repay");case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}},e)}))()},deposit:function(t,n,r,a){return Object(b.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(a,"mint",[n,t,x(r)],"deposit");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))()},withdraw:function(n,r){return Object(b.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[n],e.next=5,i(r,"withdraw_both",t,"withdraw");case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))()},claim:function(n){return Object(b.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=5,i(n,"claim_reward",t,"claim");case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))()},burn_and_claim:function(n,r){return Object(b.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[n],e.next=5,i(r,"burn_and_claim",t,"withdraw");case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))()},lend:function(n,r,a){return Object(b.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[x(r),n],e.next=5,i(a,"swap_want_to_min_coll",t,"lend");case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))()},redeem:function(n,r,a){return Object(b.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[r,x(n)],e.next=5,i(a,"swap_coll_to_min_want",t,"redeem");case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))()},mint:function(n,r){return Object(b.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[n],e.next=5,i(r,"mint_dual",t,"mint");case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))()},redeemAll:function(r){var a=this;return Object(b.a)(E.a.mark(function e(){var t,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.mypage_check("redeemAll",r);case 2:if(n=e.sent)return t=n.coll,n=n.want,n=[t,x(n)],e.next=10,i(r,"swap_coll_to_min_want",n,"redeem");e.next=13;break;case 10:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}},e)}))()},repayAll:function(n){var r=this;return Object(b.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.mypage_check("repayAll",n);case 2:if(t=e.sent)return t=[t.call],e.next=9,i(n,"burn_dual",t,"repay");e.next=12;break;case 9:return e.abrupt("return",e.sent);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}},e)}))()},withdrawAll:function(n){var r=this;return Object(b.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.mypage_check("withdrawAll",n);case 2:if(t=e.sent)return t=[t.clpt],e.next=9,i(n,"withdraw_both",t,"withdraw");e.next=12;break;case 9:return e.abrupt("return",e.sent);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}},e)}))()},settle:function(t){var n=this;return Object(b.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.mypage_check("settle",t);case 2:if(e.sent)return e.abrupt("return",!0);e.next=7;break;case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}},e)}))()},faucet:function(n,r,a){return Object(b.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.estimateGas();case 2:return t=e.sent.mul(D.i.gasAdjustment).div(100),e.next=5,a.getBalance().then(function(e){if(e.gt(r))return a.sendTransaction({to:n,value:r,gasLimit:t});throw l("faucet","insufficient"),new Error("insufficient")}).then(s(!0)("faucet")).catch(s(!1));case 5:case"end":return e.stop()}},e)}))()}}}var t=n(281),l=new(n.n(t).a),T={};Object.keys(D.p).forEach(function(e){return T[e]=1});var d={tether:"0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0","usd-coin":"0x67C9a0830d922C80A96408EEdF606c528836880C"},g=Object.keys(d);function v(){return(v=Object(b.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l.simple.price({ids:g}).then(function(e){var t=e.code,n=e.data;if(200!==t)throw new Error;g.forEach(function(e){return T[d[e]]=n[e].usd})}).catch(console.log);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){v.apply(this,arguments)}()},343:function(e,t,n){},356:function(e,t){},358:function(e,t){},371:function(e,t){},435:function(e,t){},436:function(e,t){},460:function(e,t){},462:function(e,t){},51:function(e,t,n){"use strict";n.d(t,"b",function(){return j}),n.d(t,"a",function(){return r});var c=n(15),l=n(17),d=n(94),u=n(121),b=n(55),j=function(e,t,n,r){var a={symbol:e,addr:t,decimals:18,ct:new l.ethers.Contract(t,d.a,u.a)};switch(e){case"COLLAR":case"CLPT":a.icon=b.c;break;case"COLL":a.icon=b.b;break;case"CALL":a.icon=b.a;break;default:a.icon=n||b.c,a.decimals=r||18}return Object(c.a)({},t,a)},r=function(e,i){var o=e.bond,s=e.want,e=[e.r1,e.r2].map(function(e){if(e){var t=e.addr,n=e.coll,r=e.call,a=e.swap_sqp,c=e.expiry_time,e=e.symbol;return i[t]=j("CLPT",t)[t],i[n]=j("COLL",n)[n],i[r]=j("CALL",r)[r],{addr:t,expiry_time:c,bond:i[o],want:i[s],coll:i[n],call:i[r],swap_sqp:a||992187500,symbol:e||"CLPT",icon:b.c,ct:new l.ethers.Contract(t,d.a,u.a)}}return null});return{r1:e[0],r2:e[1]}}},55:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"e",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n.p+"static/media/COLLAR.e0b235f3.svg",a=n.p+"static/media/USDT.a12a2441.svg",c=n.p+"static/media/USDC.d3666452.svg",i=n.p+"static/media/COLL.18017a76.svg",o=n.p+"static/media/CALL.fa5dcf83.svg"},561:function(e,t,r){var a={"./":[95],"./Borrow":[308,7],"./Borrow.js":[308,7],"./Deposit":[309,8],"./Deposit.js":[309,8],"./Exit":[310,9],"./Exit.js":[310,9],"./Info":[142],"./Info.js":[142],"./Lend":[311,10],"./Lend.js":[311,10],"./PoolSelector":[143],"./PoolSelector.js":[143],"./Repay":[312,11],"./Repay.js":[312,11],"./Withdraw":[313,12],"./Withdraw.js":[313,12],"./index":[95],"./index.js":[95]};function n(t){if(!r.o(a,t))return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e});var e=a[t],n=e[0];return Promise.all(e.slice(1).map(r.e)).then(function(){return r(n)})}n.keys=function(){return Object.keys(a)},n.id=561,e.exports=n},562:function(e,t,r){var a={"./":[118,9],"./Claim":[314,9,13],"./Claim.js":[314,9,13],"./LoanStats":[144,9],"./LoanStats.js":[144,9],"./RedeemAll":[315,9,14],"./RedeemAll.js":[315,9,14],"./RepayAll":[316,9,15],"./RepayAll.js":[316,9,15],"./Settle":[317,7,16],"./Settle.js":[317,7,16],"./WithdrawAll":[318,9,17],"./WithdrawAll.js":[318,9,17],"./index":[118,9],"./index.js":[118,9]};function n(t){if(!r.o(a,t))return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e});var e=a[t],n=e[0];return Promise.all(e.slice(2).map(r.e)).then(function(){return r.t(n,e[1])})}n.keys=function(){return Object.keys(a)},n.id=562,e.exports=n},564:function(e,t,r){var a={"./":[119],"./HistoricalInterestRate":[319,21],"./HistoricalInterestRate.js":[319,21],"./TotalCollateral":[320,4],"./TotalCollateral.js":[320,4],"./TotalDebt":[321,22],"./TotalDebt.js":[321,22],"./TotalLiquidity":[322,5],"./TotalLiquidity.js":[322,5],"./TotalLockedValue":[323,6],"./TotalLockedValue.js":[323,6],"./Volume":[324,23],"./Volume.js":[324,23],"./index":[119],"./index.js":[119],"./temple":[325,24],"./temple.js":[325,24]};function n(t){if(!r.o(a,t))return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e});var e=a[t],n=e[0];return Promise.all(e.slice(1).map(r.e)).then(function(){return r(n)})}n.keys=function(){return Object.keys(a)},n.id=564,e.exports=n},565:function(e,t,r){var a={"./":[120],"./AmountInput":[305,18],"./AmountInput.js":[305,18],"./AmountShow":[306,19],"./AmountShow.js":[306,19],"./Burn":[326,0],"./Burn.js":[326,0],"./ContractLink":[307,20],"./ContractLink.js":[307,20],"./Liquidity":[327,1],"./Liquidity.js":[327,1],"./Mint":[328,2],"./Mint.js":[328,2],"./MyTabs":[145],"./MyTabs.js":[145],"./Swap":[329,3],"./Swap.js":[329,3],"./index":[120],"./index.js":[120]};function n(t){if(!r.o(a,t))return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e});var e=a[t],n=e[0];return Promise.all(e.slice(1).map(r.e)).then(function(){return r(n)})}n.keys=function(){return Object.keys(a)},n.id=565,e.exports=n},571:function(e,t,n){"use strict";n.r(t);var h=n(0),r=n(23),a=n.n(r),u=(n(343),n(10)),O=n(11),j=n(18),m=n(6),f=n(28),c=n(3),g=n.n(c),v=n(7),y=n(17),t=n(85),w=n(643),d=n(635),b=n(636),p=n(580),x=n(637),C=n(583),r=n(283),c=n.n(r),r=n(294),k=n(582),F=n(629),S=n(1);function A(e){var t=e.click_address,n=e.click_connect,r=Object(h.useContext)(m.e).state.signer,e=Object(h.useState)(null),e=Object(O.a)(e,2),a=e[0],c=e[1];return Object(v.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r)return e.next=3,r.getAddress();e.next=7;break;case 3:(t=e.sent)!==a&&c(t),e.next=8;break;case 7:null!==a&&c(null);case 8:case"end":return e.stop()}},e)}))(),a?Object(S.jsx)(k.a,{variant:"outlined",color:"inherit",onClick:t,style:{borderRadius:"0",fontFamily:"Avenir"},children:Object(S.jsx)(w.a,{textOverflow:"ellipsis",fontFamily:"Avenir",fontWeight:"fontWeightBold",overflow:"hidden",maxWidth:"25vw",children:"".concat(a.slice(0,10),"...")})}):r?Object(S.jsx)(w.a,{width:"25vw",children:Object(S.jsx)(F.a,{color:"secondary"})}):Object(S.jsx)(k.a,{variant:"outlined",color:"inherit",onClick:n,style:{borderRadius:"0",fontFamily:"Avenir"},children:"Connect Wallet"})}var L=n(581),_=n(630),E=n(631),B=n(632),D=n(633),I=n(584),N=n(158),z=n(585),R=n(586),P=n(191),T=n(587),M=n(634);function W(e){var t,n,r=e.open,a=e.onClose,c=e.disconnect,i=Object(h.useState)(null),e=Object(O.a)(i,2),o=e[0],s=e[1],i=Object(h.useState)(null),e=Object(O.a)(i,2),l=e[0],d=e[1],u=Object(h.useContext)(m.e).state.signer,i=(n=Object(v.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u)return e.next=3,u.getAddress();e.next=5;break;case 3:(t=e.sent)!==o&&s(t);case 5:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)}),e=(t=Object(v.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u)return e.next=3,u.getBalance();e.next=5;break;case 3:t=e.sent,null!==l&&t.eq(l)||d(t);case 5:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return i(),e(),Object(S.jsxs)(L.a,{fullWidth:!0,open:r,onClose:a,style:{zIndex:"9999"},children:[Object(S.jsx)(_.a,{children:"Account"}),Object(S.jsx)(E.a,{children:Object(S.jsxs)(B.a,{children:[Object(S.jsxs)(D.a,{children:[o?Object(S.jsx)(w.a,{fontFamily:"Avenir",textOverflow:"ellipsis",overflow:"hidden",m:1,fontSize:"h6.fontSize",align:"center",children:o}):Object(S.jsx)(w.a,{width:"100%",children:Object(S.jsx)(F.a,{color:"secondary"})}),Object(S.jsx)(I.a,{component:N.a,children:Object(S.jsx)(z.a,{children:Object(S.jsx)(R.a,{children:Object(S.jsxs)(P.a,{children:[Object(S.jsx)(T.a,{component:"th",scope:"row",children:"ETH Balance"}),Object(S.jsx)(T.a,{align:"right",children:l?Object(S.jsx)(C.a,{color:"textPrimary",align:"center",component:"code",children:y.ethers.utils.formatEther(l)}):Object(S.jsx)(w.a,{width:"100%",children:Object(S.jsx)(F.a,{color:"secondary"})})})]},"address")})})})]}),Object(S.jsxs)(M.a,{children:[Object(S.jsx)(k.a,{color:"primary",onClick:function(){return navigator.clipboard.writeText(o)},children:Object(S.jsx)(C.a,{noWrap:!0,children:"copy address"})}),Object(S.jsx)(k.a,{color:"primary",href:"https://etherscan.io/address/".concat(o),target:"_blank",children:Object(S.jsx)(C.a,{noWrap:!0,children:"view on etherscan"})}),Object(S.jsx)(k.a,{color:"primary",onClick:c,target:"_blank",children:Object(S.jsx)(C.a,{noWrap:!0,children:"disconnect"})})]})]})})]})}var H=Object(t.a)(function(){return{root:{zIndex:"9999"},appbar:{backgroundColor:"#4975FF"},toolbar:{minHeight:"56px"},"@global":{".web3modal-modal-lightbox":{zIndex:"9999"}}}}),q=new c.a({network:m.i.network,cacheProvider:!0,providerOptions:{walletconnect:{package:r.a,options:{infuraId:m.i.infuraid}}}});function i(){function a(e){var n;o({signer:e}),n=e||m.n,[m.p,m.j].forEach(function(t){return Object.keys(t).forEach(function(e){return t[e].ct=new y.ethers.Contract(e,m.b,n)})})}var e,t=H(),n=Object(h.useContext)(m.e),r=n.state,c=r.menu_open,i=r.controller,o=n.setState,r=Object(h.useState)(!1),n=Object(O.a)(r,2),r=n[0],s=n[1],l=(e=Object(v.a)(g.a.mark(function e(){var t,n,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.connect();case 2:return t=e.sent,r=new y.ethers.providers.Web3Provider(t),n=r.getSigner(),e.next=7,r.getNetwork();case 7:if((r=e.sent).chainId!==m.i.chainid)return i.notify("network",{chainId:r.chainId}),a(null),e.abrupt("return");e.next=12;break;case 12:if(a(n),t.on){e.next=15;break}return e.abrupt("return");case 15:t.on("disconnect",function(){q.clearCachedProvider(),a(null),s(!1)}),t.on("accountsChanged",function(){var t=Object(v.a)(g.a.mark(function e(t){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t.length)return q.clearCachedProvider(),a(null),s(!1),e.abrupt("return");e.next=5;break;case 5:return e.next=7,l();case 7:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),t.on("chainChanged",function(){var t=Object(v.a)(g.a.mark(function e(t){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(parseInt(t)===m.i.chainid){e.next=5;break}i.notify("network",{chainId:t}),a(null),e.next=7;break;case 5:return e.next=7,l();case 7:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}());case 18:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});return Object(h.useEffect)(function(){return q.cachedProvider&&l()},[]),Object(S.jsxs)("div",{children:[Object(S.jsx)(w.a,{className:t.root,overflow:"hidden",children:Object(S.jsx)(d.a,{position:"static",className:t.appbar,children:Object(S.jsxs)(b.a,{className:t.toolbar,children:[Object(S.jsx)(w.a,{maxWidth:"10vw",display:c?"none":"block",children:Object(S.jsx)(p.a,{color:"inherit",onClick:function(){return o({menu_open:!0})},children:Object(S.jsx)(x.a,{children:"menu_icon"})})}),Object(S.jsx)(w.a,{flexGrow:1,textOverflow:"ellipsis",children:Object(S.jsx)(C.a,{variant:"h6",noWrap:!0,style:{fontFamily:"Gill Sans"},children:"Collar"})}),Object(S.jsx)(A,{click_connect:l,click_address:function(){return s(!0)}})]})})}),Object(S.jsx)(W,{disconnect:function(){q.clearCachedProvider(),a(null),s(!1)},open:r,onClose:function(){return s(!1)}})]})}var o=n(63),s=n(588),l=n(642),Y=n(578),U=n(27),V=n(95),c=n(15),G=n(44),$=Object(t.a)({root:{color:"white",fontFamily:"Frutiger","&>hr":{border:"#3B54A0 1px solid",width:"100%",margin:"20px 0"}},header:{display:"flex",fontSize:"25px",alignItems:"center",marginBottom:"20px"},data:(r={display:"flex"},Object(c.a)(r,m.a.MOBILE,{justifyContent:"space-between"}),Object(c.a)(r,m.a.PC,{flexDirection:"column"}),r),totalValue:{display:"flex",flexDirection:"column",marginBottom:"20px","&>div:first-child":{fontSize:"20px",display:"flex",alignItems:"center",marginBottom:"5px"},"&>div:last-child":(r={},Object(c.a)(r,m.a.MOBILE,{fontSize:"25px"}),Object(c.a)(r,m.a.PC,{fontSize:"40px"}),r)},globalValue:(r={display:"flex"},Object(c.a)(r,m.a.MOBILE,{width:"40%",flexDirection:"column"}),Object(c.a)(r,m.a.PC,{justifyContent:"space-between"}),r),globalValueInfo:(r={},Object(c.a)(r,m.a.MOBILE,{marginBottom:"10px"}),Object(c.a)(r,m.a.PC,{width:"48%"}),Object(c.a)(r,"&>div:first-child span",{fontSize:"20px",color:"#7B96EB",marginBottom:"5px"}),Object(c.a)(r,"&>div:last-child",{display:"flex",alignItems:"center",backgroundColor:"#111C3C",padding:"5px 10px"}),r)});function K(e){var t=e.totalValueLocked,n=e.totalBorrowed,r=e.totalCollateral,a=$(),c=Object(h.useState)(null),e=Object(O.a)(c,2),c=e[0],i=e[1];return Object(S.jsxs)("div",{className:a.root,children:[Object(S.jsxs)("div",{className:a.header,children:[Object(S.jsx)("span",{className:"material-icons-outlined",children:"language"}),Object(S.jsx)("span",{children:"Global"})]}),Object(S.jsxs)("div",{className:a.data,children:[Object(S.jsxs)("div",{className:a.totalValue,children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{style:{color:"#7B96EB"},children:"Total Value Locked"}),Object(S.jsx)("span",{style:{fontFamily:"Material Icons Outlined",fontSize:"18px",marginLeft:"5px",color:"#B2B2B2"},onMouseEnter:function(e){e=e.currentTarget;return i(e)},onMouseLeave:function(){return i(null)},children:"info"}),Object(S.jsx)(j.e,{anchorEl:c,info:m.o.TotalValueLocked})]}),Object(S.jsxs)("div",{children:["$ ",parseFloat(t||0).toFixed(3)]})]}),Object(S.jsxs)("div",{className:a.globalValue,children:[Object(S.jsxs)("div",{className:a.globalValueInfo,children:[Object(S.jsx)("div",{children:Object(S.jsx)(G.a,{content:"Total Borrowed"})}),Object(S.jsx)("div",{children:Object(S.jsx)(G.a,{content:"$ ".concat(parseFloat(n||0).toFixed(3))})})]}),Object(S.jsxs)("div",{className:a.globalValueInfo,children:[Object(S.jsx)("div",{children:Object(S.jsx)(G.a,{content:"Total Collateral"})}),Object(S.jsx)("div",{children:Object(S.jsx)(G.a,{content:"$ ".concat(parseFloat(r||0).toFixed(3))})})]})]})]}),Object(S.jsx)("hr",{})]})}var r=n(8),J=Object(t.a)({root:{"&>div:first-child":{fontSize:"25px",fontFamily:"Frutiger",color:"#fff",marginBottom:"10px"},"&>div:last-child":Object(c.a)({display:"flex",justifyContent:"space-between","&>div":{display:"flex",width:"calc(50% - 10px)",justifyContent:"space-between","&>div":{width:"calc(50% - 10px)"}}},m.a.MOBILE,{flexDirection:"column","&>div":{width:"100%"}})}}),Z=Object(r.a)({root:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center","&>div":{position:"relative",backgroundColor:"white",boxSizing:"border-box",border:"#4C4C4C 3px solid"}},main:{zIndex:"4",width:"100%",padding:"15px",display:"flex",flexDirection:"column",justifyContent:"center"},second:{zIndex:"2",transform:"translateY(-11px)",height:"15px",width:"calc(100% - 20px)"},third:{zIndex:"1",transform:"translateY(-22px)",height:"15px",width:"calc(100% - 40px)"}})(function(e){var t=e.classes,n=e.title,r=e.remarks,a=e.amount,c=e.token,e=e.color;return Object(S.jsxs)("div",{className:t.root,children:[Object(S.jsxs)("div",{className:t.main,children:[Object(S.jsx)("div",{style:{color:"#30384B",fontSize:"16px",fontFamily:"Helvetica"},children:Object(S.jsx)(G.a,{content:n})}),Object(S.jsx)("div",{style:{color:"#A3B7E4",fontSize:"10px",fontFamily:"Helvetica",marginBottom:"10px"},children:Object(S.jsx)(G.a,{content:r})}),Object(S.jsx)("div",{style:{color:e||"#30384B",fontSize:"18px",fontWeight:"bold"},children:Object(S.jsx)(G.a,{content:a})}),Object(S.jsx)("span",{style:{color:"#30384B",fontSize:"15px",fontWeight:"bold"},children:c})]}),Object(S.jsx)("div",{className:t.second}),Object(S.jsx)("div",{className:t.third})]})});function Q(e){var t=J(),n=e.outstandingDebt,r=e.depostBalance,a=e.receivables,c=e.rewards;return Object(h.useMemo)(function(){return Object(S.jsxs)("div",{className:t.root,children:[Object(S.jsx)("div",{children:"Your Balance"}),Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{children:[Object(S.jsx)(Z,{title:"Outstanding Debt",remarks:"*Value of Borrowed Asset",amount:(n||0).toFixed(3),token:"USD"}),Object(S.jsx)(Z,{title:"Depost Balance",remarks:"*Value of Collateral",amount:(r||0).toFixed(3),token:"USD"})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)(Z,{title:"Receivables",remarks:"*Value of Lent Asset",amount:(a||0).toFixed(3),token:"USD"}),Object(S.jsx)(Z,{title:"Rewards",remarks:"*Value of Claimable COLLAR",amount:(c||0).toFixed(3),token:"COLLAR",color:"#4975FF"})]})]})]})},[e])}function X(e){var t=e.title,n=e.info,r=Object(h.useState)(null),r=(e=Object(O.a)(r,2))[0],a=e[1];return Object(S.jsxs)(ne,{align:"center",children:[Object(S.jsx)("span",{children:t}),Object(S.jsx)("span",{style:{fontFamily:"Material Icons Outlined",fontSize:"16px",marginLeft:"5px",color:"#B2B2B2"},onMouseEnter:function(e){return a(e.currentTarget)},onMouseLeave:function(){return a(null)},children:"info"}),Object(S.jsx)(j.e,{anchorEl:r,info:n})]})}var ee=n(638),te=Object(t.a)({root:{"&>div>table":{"& tr":{borderBottom:"#D8D8D8 1px solid"},"& th,& td":{color:"white",padding:0,border:"none",fontSize:"18px",fontFamily:"Frutiger",whiteSpace:"nowrap"},"& button":{width:"133px"}}},token:{margin:"15px 0",width:"fit-content","& img":{width:"40px",marginBottom:"5px","&:nth-child(2)":{position:"relative",left:"-15px"}}},tableHead:{"& th":{paddingBottom:"10px !important"}},cellWidthEmpty:{width:0},button:{textAlign:"right",margin:"15px 0",width:0},price:{fontSize:"10px",color:"#99A8C9"}}),ne=Object(r.a)({root:{lineHeight:"unset"}})(function(e){return Object(S.jsx)(T.a,Object(u.a)({},e))}),re=2,ae=2,ce=2,ie=3,oe=3,se=3;function le(e){var t=e.pool,n=e.val,r=e.handleClick,e=te();return Object(S.jsx)("div",{className:e.root,children:Object(S.jsx)(I.a,{children:Object(S.jsxs)(z.a,{children:[Object(S.jsx)(ee.a,{className:e.tableHead,children:Object(S.jsxs)(P.a,{children:[Object(S.jsx)(ne,{children:"Token"}),Object(S.jsx)(ne,{align:"center",children:"Balance"}),Object(S.jsx)(X,{title:"APY",info:"1x daily compound"}),Object(S.jsx)(ne,{align:"center",children:"APR"}),Object(S.jsxs)(ne,{align:"center",children:["Share of",Object(S.jsx)("br",{}),"Pool"]}),Object(S.jsxs)(ne,{align:"center",children:["Claimable",Object(S.jsx)("br",{}),"COLLAR"]}),Object(S.jsx)(ne,{})]})}),Object(S.jsxs)(R.a,{children:[Object(S.jsxs)(P.a,{children:[Object(S.jsx)(ne,{children:Object(S.jsxs)("div",{className:e.token,children:[Object(S.jsx)("img",{src:t.coll.icon,alt:""}),Object(S.jsx)("img",{src:t.want.icon,alt:""}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{children:["COLL/",t.want.symbol]})]})}),Object(S.jsxs)(ne,{align:"center",children:[Object(S.jsx)("div",{children:parseFloat(n.clpt).toFixed(ie)}),Object(S.jsxs)("div",{className:e.price,children:["~$",parseFloat(n.receivables).toFixed(se)]})]}),Object(S.jsxs)(ne,{align:"center",children:[(100*n.clpt_apy).toFixed(re),"%"]}),Object(S.jsxs)(ne,{align:"center",children:[(100*n.clpt_apr).toFixed(ae),"%"]}),Object(S.jsxs)(ne,{align:"center",children:[parseFloat(n.shareOfPoll).toFixed(ce),"%"]}),Object(S.jsxs)(ne,{align:"center",children:[Object(S.jsx)("div",{children:parseFloat(n.earned).toFixed(oe)}),Object(S.jsxs)("div",{className:e.price,children:["~$",parseFloat(n.earned*f.a[m.i.collar]).toFixed(se)]})]}),Object(S.jsxs)(ne,{className:e.button,children:[Object(S.jsx)(j.k,{name:"Withdraw All",onClick:function(){return r("withdrawAll",t)}}),Object(S.jsx)(j.k,{name:"Claim",onClick:function(){return r("claim",t)}})]})]}),Object(S.jsxs)(P.a,{children:[Object(S.jsx)(ne,{className:e.cellWidthEmpty,children:Object(S.jsxs)("div",{className:e.token,children:[Object(S.jsx)("img",{src:t.coll.icon,alt:""}),Object(S.jsx)("br",{}),Object(S.jsx)("span",{children:"COLL"})]})}),Object(S.jsxs)(ne,{align:"center",children:[Object(S.jsx)("div",{children:parseFloat(n.coll).toFixed(ie)}),Object(S.jsxs)("div",{className:e.price,children:["~$",parseFloat(n.coll*f.a[t.coll.addr]).toFixed(se)]})]}),Object(S.jsxs)(ne,{align:"center",children:[parseFloat(n.coll_apy).toFixed(re),"%"]}),Object(S.jsx)(ne,{}),Object(S.jsx)(ne,{}),Object(S.jsx)(ne,{}),Object(S.jsxs)(ne,{className:e.button,children:[Object(S.jsx)(j.k,{name:"Redeem All",onClick:function(){return r("redeemAll",t)},disabled:1e3*t.expiry_time<new Date}),Object(S.jsx)(j.k,{name:"Settle",onClick:function(){return r("settle",t)},disabled:1e3*t.expiry_time>new Date})]})]}),Object(S.jsxs)(P.a,{children:[Object(S.jsx)(ne,{children:Object(S.jsxs)("div",{className:e.token,children:[Object(S.jsx)("img",{src:t.call.icon,alt:""}),Object(S.jsx)("br",{}),Object(S.jsx)("span",{children:"CALL"})]})}),Object(S.jsx)(ne,{align:"center",children:Object(S.jsx)("div",{children:parseFloat(n.call).toFixed(ie)})}),Object(S.jsx)(ne,{}),Object(S.jsx)(ne,{}),Object(S.jsx)(ne,{}),Object(S.jsx)(ne,{}),Object(S.jsx)(ne,{className:e.button,children:Object(S.jsx)(j.k,{name:"Repay All",onClick:function(){return r("repayAll",t)}})})]})]})]})})})}var de=Object(t.a)({root:{"&>div:first-child":{"& tr":{borderBottom:"#D8D8D8 1px solid"},"& th,& td":{color:"white",padding:0,border:"none",fontSize:"18px",fontFamily:"Frutiger",whiteSpace:"nowrap"},"& button":{width:"133px"}}},tableHead:{"& th":{paddingBottom:"10px !important"}},clpt:{fontFamily:"Frutiger",fontSize:"18px",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"#D8D8D8 1px solid",paddingBottom:"5px","& button":{width:"133px"},"&>div":{width:"calc(100% - 133px - 15px)","& div":{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",backgroundColor:"#2D4284",borderRadius:"25px",margin:"8px 0"}}},button:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-end",padding:"15px 0 !important"},token:{fontSize:"12px",margin:"15px 0",width:"fit-content","& img":{width:"30px",marginBottom:"5px","&:nth-child(2)":{position:"relative",left:"-15px"}}},price:{fontSize:"10px",color:"#99A8C9"}}),ue=Object(r.a)({root:{lineHeight:"unset"}})(function(e){return Object(S.jsx)(T.a,Object(u.a)({},e))}),be=2,je=2,pe=2,xe=3,fe=3,he=3;function Oe(e){var t=e.pool,n=e.val,r=e.handleClick,e=de();return Object(S.jsxs)("div",{className:e.root,children:[Object(S.jsx)(I.a,{children:Object(S.jsxs)(z.a,{children:[Object(S.jsx)(ee.a,{className:e.tableHead,children:Object(S.jsxs)(P.a,{children:[Object(S.jsx)(ue,{children:"Token"}),Object(S.jsx)(ue,{align:"center",children:"Balance"}),Object(S.jsx)(ue,{align:"center",children:"APY"}),Object(S.jsx)(ue,{})]})}),Object(S.jsxs)(R.a,{children:[Object(S.jsxs)(P.a,{children:[Object(S.jsx)(ue,{className:e.cellWidthEmpty,children:Object(S.jsxs)("div",{className:e.token,children:[Object(S.jsx)("img",{src:t.coll.icon,alt:""}),Object(S.jsx)("br",{}),Object(S.jsx)("span",{children:"COLL"})]})}),Object(S.jsxs)(ue,{align:"center",children:[Object(S.jsx)("div",{children:parseFloat(n.coll).toFixed(xe)}),Object(S.jsxs)("div",{className:e.price,children:["~$",parseFloat(n.coll*f.a[t.coll.addr]).toFixed(he)]})]}),Object(S.jsxs)(ue,{align:"center",children:[parseFloat(n.coll_apy).toFixed(be),"%"]}),Object(S.jsxs)(ue,{className:e.button,children:[Object(S.jsx)(j.k,{name:"Redeem All",onClick:function(){return r("redeemAll",t)},disabled:1e3*t.expiry_time<new Date}),Object(S.jsx)(j.k,{name:"Settle",onClick:function(){return r("settle",t)},disabled:1e3*t.expiry_time>new Date})]})]}),Object(S.jsxs)(P.a,{children:[Object(S.jsx)(ue,{children:Object(S.jsxs)("div",{className:e.token,children:[Object(S.jsx)("img",{src:t.call.icon,alt:""}),Object(S.jsx)("br",{}),Object(S.jsx)("span",{children:"CALL"})]})}),Object(S.jsx)(ue,{align:"center",children:Object(S.jsx)("div",{children:parseFloat(n.call).toFixed(xe)})}),Object(S.jsx)(ue,{}),Object(S.jsx)(ue,{className:e.button,children:Object(S.jsx)(j.k,{name:"Repay All",onClick:function(){return r("repayAll",t)}})})]}),Object(S.jsxs)(P.a,{style:{borderBottom:"none"},children:[Object(S.jsx)(ue,{children:Object(S.jsxs)("div",{className:e.token,children:[Object(S.jsx)("img",{src:t.coll.icon,alt:""}),Object(S.jsx)("img",{src:t.want.icon,alt:""}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{children:["COLL/",t.want.symbol]})]})}),Object(S.jsxs)(ue,{align:"center",children:[Object(S.jsx)("div",{children:parseFloat(n.clpt).toFixed(xe)}),Object(S.jsxs)("div",{className:e.price,children:["~$",parseFloat(n.receivables).toFixed(he)]})]}),Object(S.jsxs)(ue,{align:"center",children:[(100*n.clpt_apy).toFixed(be),"%"]}),Object(S.jsx)(ue,{className:e.button,children:Object(S.jsx)(j.k,{name:"Withdraw",onClick:function(){return r("withdrawAll",t)}})})]})]})]})}),Object(S.jsxs)("div",{className:e.clpt,children:[Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{style:{marginTop:0},children:[Object(S.jsx)("span",{children:"APR"}),Object(S.jsxs)("span",{children:[(100*n.clpt_apr).toFixed(je),"%"]})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{children:"Share of Pool"}),Object(S.jsxs)("span",{children:[parseFloat(n.shareOfPoll).toFixed(pe),"%"]})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{children:"Claimable COLLAR"}),Object(S.jsxs)("div",{style:{display:"flex",flexDirection:"column",padding:0},children:[Object(S.jsx)("span",{children:parseFloat(n.earned).toFixed(fe)}),Object(S.jsxs)("span",{className:e.price,children:["~$",(n.earned*f.a[m.i.collar]).toFixed(he)]})]})]})]}),Object(S.jsx)(j.k,{name:"Claim",onClick:function(){return r("claim",t)}})]})]})}function me(e){return e.ifPC?Object(S.jsx)(le,Object(u.a)({},e)):Object(S.jsx)(Oe,Object(u.a)({},e))}var ge=n(118),ve=Object(t.a)({root:{fontFamily:"Frutiger",color:"white","&>div":{marginBottom:"40px"}},header:(r={display:"flex",marginBottom:"15px","&>div:first-child":{display:"flex",alignItems:"center",fontSize:"20px",margin:"10px 0","&>img":{width:"30px","&:nth-child(2)":{position:"relative",left:"-10px"}},"&>span":{}},"&>div:last-child":{backgroundColor:"#2D4284",borderRadius:"20px",padding:"5px 20px",display:"flex",alignItems:"center",justifyContent:"center"}},Object(c.a)(r,m.a.MOBILE,{flexDirection:"column"}),Object(c.a)(r,m.a.PC,{justifyContent:"space-between",alignItems:"center"}),r)});function ye(e){var n,t=e.pools,r=Object(h.useContext)(m.e),e=r.state,a=e.signer,c=e.controller,i=r.ifPC,e=Object(h.useContext)(m.g),r=e.mypageState,o=r.confirm,s=r.type,l=r.pool,d=r.checked,u=e.setMypageState,b=ve(),j=(n=Object(v.a)(g.a.mark(function e(t,n){var r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u({loading:!0}),a){e.next=5;break}c.notify("noaccount"),e.next=9;break;case 5:return e.next=7,c.mypage_check(t,n);case 7:(r=e.sent)&&u({confirm:!0,type:t,pool:n,checked:r});case 9:u({loading:!1});case 10:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)});return Object(h.useMemo)(function(){return Object(S.jsxs)("div",{className:b.root,children:[t.map(function(e,t){var n=e.pool;return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:b.header,children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("img",{src:n.bond.icon}),Object(S.jsx)("img",{src:n.want.icon}),Object(S.jsxs)("span",{children:[n.bond.symbol,"/",n.want.symbol]})]}),Object(S.jsx)("div",{children:Object(S.jsxs)("span",{children:["Expiry: ",new Date(1e3*n.expiry_time).toLocaleString()]})})]}),Object(S.jsx)(me,{pool:n,val:e,handleClick:j,ifPC:i})]},t)}),Object(S.jsx)(ge.default,{open:o,type:s,pool:l,pools:t,checked:d,onClose:function(){return u({confirm:!1})},handleClick:Object(v.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u({confirm:!1}),e.next=3,c[s](l);case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}u({update:{}});case 6:case"end":return e.stop()}},e)}))})]})},[t,o,s,l,i])}var we=Object(t.a)({root:{position:"relative",paddingTop:"30px",height:"inherit"},mypage:(r={display:"flex",flexDirection:"column",margin:"auto"},Object(c.a)(r,m.a.MOBILE,{width:"calc(100% - 40px)",padding:"0 20px"}),Object(c.a)(r,m.a.PC,{width:"900px"}),r)}),Ce={pools:m.h,total:{totalValueLocked:0,totalBorrowed:0,totalCollateral:0,outstandingDebt:0,depostBalance:0,receivables:0,rewards:0}};function ke(){var e=we(),t=Object(h.useContext)(m.e).state,n=t.signer,r=t.controller,t=Object(h.useReducer)(function(e,t){return Object(u.a)(Object(u.a)({},e),t)},{loading:!1,confirm:!1,type:"",pool:{want:{},bond:{},coll:{},call:{}},checked:{},update:{}}),t=Object(O.a)(t,2),a=t[0],c=t[1],t=Object(h.useState)(Ce),t=Object(O.a)(t,2),i=t[0],o=t[1],s=i.pools,l=i.total,d=a.loading,t=a.update;return Object(h.useEffect)(function(){return Object(v.a)(g.a.mark(function e(){var t,s;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c({loading:!0}),e.next=3,r.mypage_data();case 3:t=e.sent,s=Object(u.a)({},Ce.total),t.forEach(function(e){var t=e.pool,n=e.coll_total,r=e.want_total,a=e.bond_total,c=e.call,i=e.receivables,o=e.earned,e=function(e){return f.a[t[e].addr]};s.totalValueLocked+=n*e("coll")+r*e("want")+a*e("bond"),s.totalBorrowed+=n*e("coll"),s.totalCollateral+=a*e("bond"),s.outstandingDebt+=c*e("want"),s.depostBalance+=c*e("bond"),s.receivables+=i,s.rewards+=o*f.a[m.i.collar]}),o(function(e){return n||Ce===e||Ce!==i&&s.outstandingDebt+s.receivables==0?{pools:t,total:s}:e}),c({loading:!1});case 8:case"end":return e.stop()}},e)}))()},[n,t]),Object(h.useMemo)(function(){return Object(S.jsx)(m.g.Provider,{value:{mypageState:a,setMypageState:c,data:i},children:Object(S.jsxs)("div",{className:e.root,children:[Object(S.jsxs)("div",{className:e.mypage,children:[Object(S.jsx)(K,Object(u.a)({},l)),Object(S.jsx)(Q,Object(u.a)({},l)),Object(S.jsx)(ye,{pools:s})]}),Object(S.jsx)(j.i,{open:d})]})})},[i,a])}var Fe=n(644),Se=n(639),Ae=n(640),Le=n(622),_e=n(625),Ee=n(300),Be=Object(t.a)({root:{height:"calc(100vh - 76px)",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",padding:"10px",fontFamily:"Frutiger"},title:(r={margin:"-100px 0 10px"},Object(c.a)(r,m.a.PC,{fontSize:"50px"}),Object(c.a)(r,m.a.MOBILE,{fontSize:"40px"}),r),describe:Object(c.a)({display:"flex",fontSize:"18px",margin:"5px","&>span":{margin:"2px"}},m.a.MOBILE,{flexDirection:"column",alignItems:"center"}),input:Object(c.a)({backgroundColor:"white",margin:"30px 0",width:"600px"},m.a.MOBILE,{width:"80vw"})}),De=Object.keys(m.p).filter(function(e){return-1===["COLLAR","CLPT","CALL","COLL","SWAP"].indexOf(m.p[e].symbol)}).map(function(e){return m.p[e]});function Ie(){var e,t=Be(),n=Object(h.useContext)(m.e).state,r=n.signer,a=n.controller,c=Object(h.useState)(""),i=Object(O.a)(c,2),o=i[0],s=i[1],l=Object(h.useState)(!1),n=Object(O.a)(l,2),c=n[0],d=n[1],i=Object(h.useState)(De[0]),l=Object(O.a)(i,2),u=l[0],b=l[1],n=Object(h.useState)(!1),i=Object(O.a)(n,2),l=i[0],n=(i[1],Object(h.useRef)(null)),i=(e=Object(v.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=12;break}if(!(t=y.ethers.utils.parseEther(String(o||0))).eq("0")){e.next=6;break}a.notify("faucet","empty"),e.next=10;break;case 6:return e.next=8,a.faucet(u.addr,t,r);case 8:if(!e.sent){e.next=10;break}s("");case 10:e.next=13;break;case 12:a.notify("noaccount");case 13:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});return Object(S.jsxs)("div",{className:t.root,children:[Object(S.jsx)("div",{className:t.title,children:"Collar Faucet"}),Object(S.jsxs)("div",{className:t.describe,children:[Object(S.jsx)("span",{children:"Claim your test token"}),Object(S.jsx)("span",{children:"for Collar open alpha product"})]}),Object(S.jsx)(Fe.a,{className:t.input,value:o,label:""===o?"The amount of ETH needed.":"You will get ".concat((133337*o||0)+13.37," ").concat(u.symbol),type:"number",variant:"filled",onChange:function(e){e=e.target.value;return s(e)}}),Object(S.jsxs)(Se.a,{variant:"contained",color:"primary",ref:n,children:[Object(S.jsxs)(k.a,{onClick:i,style:{padding:"0 50px"},children:["SEND ME ",u.symbol]}),Object(S.jsx)(k.a,{onClick:function(){return d(function(e){return!e})},children:Object(S.jsx)(x.a,{children:"arrow_drop_down"})})]}),Object(S.jsx)(Ae.a,{open:c,anchorEl:n.current,style:{margin:"10px 0",zIndex:"1"},transition:!0,disablePortal:!0,children:Object(S.jsx)(N.a,{children:Object(S.jsx)(Le.a,{onClickAway:function(){return d(!1)},children:Object(S.jsx)(_e.a,{children:De.map(function(e){return Object(S.jsxs)(Ee.a,{selected:e===u,onClick:function(){b(e),d(!1)},children:[Object(S.jsx)("img",{alt:"",src:e.icon,style:{width:"20px",marginLeft:"10px"}}),Object(S.jsx)("span",{style:{fontFamily:"Frutiger",margin:"0 20px"},children:e.symbol})]},e.addr)})})})})}),Object(S.jsx)(j.i,{open:l})]})}var Ne=n(641),ze=n(156),Re=["function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function transfer(address to, uint amount) returns (boolean)","event Transfer(address indexed from, address indexed to, uint amount)"],Pe=Object(t.a)(function(e){return{root:{"&>div>div:first-child>div>div":{"&:first-child":{display:"none"},"&:last-child":{height:"calc(100% - 75px)",borderBottomLeftRadius:0,borderBottomRightRadius:0,"& span":{whiteSpace:"initial"}}}}}});function Te(){var t,n,r,a,c,i,o,s,e=Object(h.useContext)(m.e),l=e.state.signer,d=(e.setState,Pe()),u=Object(h.useRef)(),b={};b["get-help"]=(s=Object(v.a)(g.a.mark(function e(t){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t)return e.abrupt("return",Object(S.jsxs)(w.a,{children:[Object(S.jsx)("p",{children:"print help messages."}),Object(S.jsx)("p",{children:"usage:"}),Object(S.jsxs)("p",{children:[Object(S.jsx)("b",{children:"get-help"})," --- show collar console help"," "]}),Object(S.jsxs)("p",{children:[Object(S.jsx)("b",{children:"get-help %CMD% "})," --- show help infomation of CMD"]})]}));e.next=2;break;case 2:if(""===t)return e.abrupt("return",Object(S.jsxs)(w.a,{children:[Object(S.jsx)("p",{children:"collar console provides a terminal for users to use collar protocol."}),Object(S.jsxs)("p",{children:["type ",Object(S.jsx)("b",{children:"list-commands"})," to see all available commands"]}),Object(S.jsxs)("p",{children:["type ",Object(S.jsx)("b",{children:"get-help %CMD%"})," to see the help infomation of CMD"]})]}));e.next=4;break;case 4:return e.abrupt("return",b[t](null));case 5:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),b["alert-message"]=(o=Object(v.a)(g.a.mark(function e(t){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t)return e.abrupt("return",Object(S.jsxs)(w.a,{children:[Object(S.jsx)("p",{children:"show an alert message."}),Object(S.jsx)("p",{children:"usage:"}),Object(S.jsxs)("p",{children:[Object(S.jsx)("b",{children:"alert-message %MSG% "})," --- alert MSG"]})]}));e.next=2;break;case 2:alert(t);case 3:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),b["list-commands"]=(i=Object(v.a)(g.a.mark(function e(t){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t)return e.abrupt("return",Object(S.jsxs)(w.a,{children:[Object(S.jsx)("p",{children:"list all commands."}),Object(S.jsx)("p",{children:"usage:"}),Object(S.jsxs)("p",{children:[Object(S.jsx)("b",{children:"list-commands"})," --- list all commands"]})]}));e.next=2;break;case 2:return e.abrupt("return",Object(S.jsx)(w.a,{children:Object.keys(b).map(function(e){return Object(S.jsx)("li",{children:e},e)})}));case 3:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),b["hello-collar"]=(c=Object(v.a)(g.a.mark(function e(t){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t)return e.abrupt("return",Object(S.jsxs)(w.a,{children:[Object(S.jsx)("p",{children:"show welcome message."}),Object(S.jsx)("p",{children:"usage:"}),Object(S.jsxs)("p",{children:[Object(S.jsx)("b",{children:"hellow-collar"})," --- show welcome message"]})]}));e.next=2;break;case 2:return e.abrupt("return",Object(S.jsx)(w.a,{children:Object(S.jsx)("p",{children:"e a beleza"})}));case 3:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)}),b["get-address"]=(a=Object(v.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t)return e.abrupt("return",Object(S.jsxs)(w.a,{children:[Object(S.jsx)("p",{children:"show current account address connected."}),Object(S.jsx)("p",{children:"usage:"}),Object(S.jsxs)("p",{children:[Object(S.jsx)("b",{children:"get-address"})," --- show current account address connected"]})]}));e.next=2;break;case 2:if(null===l)return e.abrupt("return",Object(S.jsx)(w.a,{children:Object(S.jsx)("p",{children:"connect wallet first please."})}));e.next=4;break;case 4:return e.next=6,l.getAddress();case 6:return n=e.sent,e.abrupt("return",Object(S.jsx)(w.a,{children:Object(S.jsx)("p",{children:n})}));case 8:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),b["get-balance"]=(r=Object(v.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t)return e.abrupt("return",Object(S.jsxs)(w.a,{children:[Object(S.jsx)("p",{children:"show current account balance connected."}),Object(S.jsx)("p",{children:"usage:"}),Object(S.jsxs)("p",{children:[Object(S.jsx)("b",{children:"get-balance"})," --- show current account ETH balance"]})]}));e.next=2;break;case 2:if(null===l)return e.abrupt("return",Object(S.jsx)(w.a,{children:Object(S.jsx)("p",{children:"connect wallet first please."})}));e.next=4;break;case 4:return e.next=6,l.getBalance();case 6:return n=e.sent,e.abrupt("return",Object(S.jsx)(w.a,{children:Object(S.jsx)("p",{children:"".concat(y.ethers.utils.formatEther(n)," ether")})}));case 8:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),b["transfer-erc20"]=(n=Object(v.a)(g.a.mark(function e(t){var n,r,a,c;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t)return e.abrupt("return",Object(S.jsxs)(w.a,{children:[Object(S.jsx)("p",{children:"transfer erc20 token."}),Object(S.jsx)("p",{children:"usage:"}),Object(S.jsxs)("p",{children:[Object(S.jsx)("b",{children:"transfer-erc20 %TOKEN% %RECEIVER% %AMOUNT% %DECIMALS%"})," --- transfer erc20 token (default: DECIMALS = 18)"]})]}));e.next=2;break;case 2:if(null===l)return e.abrupt("return",Object(S.jsx)(w.a,{children:Object(S.jsx)("p",{children:"connect wallet first please."})}));e.next=4;break;case 4:return r=t.split(" "),c=Object(O.a)(r,4),a=c[0],n=c[1],r=c[2],c=c[3]||18,a=new y.ethers.Contract(a,Re),e.next=9,a.connect(l).transfer(n,y.ethers.utils.parseUnits(r,c));case 9:return c=e.sent,e.abrupt("return",Object(S.jsx)(w.a,{children:Object(S.jsx)("p",{children:c.hash})}));case 11:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),b["get-erc20-balance"]=(t=Object(v.a)(g.a.mark(function e(t){var n,r,a,c,i;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t)return e.abrupt("return",Object(S.jsxs)(w.a,{children:[Object(S.jsx)("p",{children:"get erc20 balance of an account."}),Object(S.jsx)("p",{children:"usage:"}),Object(S.jsxs)("p",{children:[Object(S.jsx)("b",{children:"get-erc20-balance %TOKEN% %ADDRESS% "})," --- get erc20 balance (default: ADDRESS = current address)"]})]}));e.next=2;break;case 2:if(null===l)return e.abrupt("return",Object(S.jsx)(w.a,{children:Object(S.jsx)("p",{children:"connect wallet first please."})}));e.next=4;break;case 4:if(r=t.split(" "),i=Object(O.a)(r,2),n=i[0],r=i[1],e.t0=r,e.t0){e.next=10;break}return e.next=9,l.getAddress();case 9:e.t0=e.sent;case 10:return r=e.t0,a=new y.ethers.Contract(n,Re),e.next=14,a.connect(l).balanceOf(r);case 14:return c=e.sent,e.next=17,a.connect(l).decimals();case 17:return i=e.sent,e.abrupt("return",Object(S.jsx)(w.a,{children:Object(S.jsx)("p",{children:y.ethers.utils.formatUnits(c,i)})}));case 19:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});var j,p,x=(j=Object(v.a)(g.a.mark(function e(){var t,n,r,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new MouseEvent("mousedown",{view:window,bubbles:!0,cancelable:!0}),Object.defineProperty(t,"target",{value:u.current.firstChild,enumerable:!0}),document.dispatchEvent(t),e.next=5,navigator.clipboard.readText();case 5:for(r in n=e.sent)a=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:n[r],char:n[r],shiftKey:!0}),document.dispatchEvent(a);case 7:case"end":return e.stop()}},e)})),function(){return j.apply(this,arguments)}),e=Object(S.jsxs)(C.a,{component:"code",children:[Object(S.jsx)(w.a,{fontFamily:"Monospace",align:"center",fontSize:"h6.fontSize",m:1,children:"Collar Console"}),Object(S.jsx)(w.a,{fontFamily:"Monospace",align:"center",fontSize:"h6.fontSize",m:1,children:"USE AT YOUR OWN RISK"}),Object(S.jsx)(w.a,{fontFamily:"Monospace",align:"center",fontSize:"h6.fontSize",m:1,children:Object(S.jsx)("span",{sytle:{whiteSpace:"nowrap"},children:"type `get-help` to get started :)"})})]}),f={};for(p in b)!function(n){var t;f[n]=(t=Object(v.a)(g.a.mark(function e(t){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b[n](t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Object(S.jsxs)(w.a,{children:[Object(S.jsx)("p",{children:"unexpected error"}),Object(S.jsx)("p",{children:"".concat(e.t0)})]}));case 9:case"end":return e.stop()}},e,null,[[0,6]])})),function(e){return t.apply(this,arguments)})}(p);return Object(S.jsx)("div",{className:d.root,children:Object(S.jsx)(ze.b,{children:Object(S.jsxs)(w.a,{ref:u,height:"100%",width:"100%",position:"fixed",pb:8,children:[Object(S.jsx)(ze.a,{theme:"dracula",commands:f,showControlButtons:!1,welcomeMessage:e}),Object(S.jsx)(w.a,{position:"absolute",right:"5%",bottom:128,children:Object(S.jsx)(Ne.a,{color:"secondary",variant:"extended",onClick:x,children:"Paste"})})]})})})}var Me=n(119),We=n(628),He=n(120),qe=n(193);function Ye(e){var t=e.data,e=Object(h.useRef)();return e.current&&e.current.getEchartsInstance().setOption(t),Object(S.jsx)("div",{style:{height:"60px",width:"120px"},children:Object(S.jsx)(qe.a,{ref:e,option:t,style:{height:"100%",width:"100%"}})})}function Ue(e,t){return y.ethers.utils.formatUnits(e,t||18)}var Ve=Object(t.a)({root:{},table:{color:"#fff",display:"flex",fontSize:"15px",fontFamily:"Frutiger"},info:{padding:"20px 0",display:"flex","&>div":{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"}},icon:{width:"35px","&:nth-child(1)":{position:"relative",left:"-10px"},"&:nth-child(2)":{position:"absolute",left:"30px"}},button:{fontFamily:"Material Icons",backgroundColor:"#4975FF",borderRadius:"5px",fontSize:"20px",padding:"2px",cursor:"pointer"}}),Ge={grid:{left:0,right:0,top:0,bottom:0},xAxis:{type:"category",show:!1},yAxis:{type:"value",min:"dataMin",max:"dataMax",show:!1},series:[{data:[],type:"line",showSymbol:!1,smooth:!0,lineStyle:{color:"#59FFAD"}}]};function $e(e){var t=e.index,n=e.data,r=e.onOff,a=r.onOff,c=(r.setOnOff,e.tableHeadWidth),e=e.diagram,i=Ve(),o=n.pool,s=n.bond_total,l=n.coll_total,d=n.want_total,u=n.clpt_total,b=n.reward_rate,j=n.apy,p=n.farm_apy,x=n.clpt_price;return Ge.series[0].data=e,Object(h.useMemo)(function(){return Object(S.jsxs)("div",{className:i.root,children:[Object(S.jsxs)("div",{className:i.table,children:[Object(S.jsxs)("div",{style:{width:c[0],display:"flex",position:"relative",flexDirection:"column",justifyContent:"center",alignItems:"center",borderTop:"2px solid #ddd",padding:"20px 0"},children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("img",{alt:"",src:o.bond.icon,className:i.icon}),Object(S.jsx)("img",{alt:"",src:o.want.icon,className:i.icon})]}),Object(S.jsx)("span",{children:o.bond.symbol}),Object(S.jsx)("span",{children:o.want.symbol})]}),Object(S.jsxs)("div",{className:i.info,style:{borderTop:"2px solid",borderImage:"linear-gradient(to right,rgba(63,76,144,0.1),#fff) 100",backgroundImage:a===t?"none":"linear-gradient(to right,rgba(0,0,0,0.2),rgba(255,255,255,0))"},children:[Object(S.jsx)("div",{style:{width:c[1],color:"#49FFC7"},children:new Date(1e3*o.expiry_time).toLocaleString()}),Object(S.jsxs)("div",{style:{width:c[2],display:"flex",flexDirection:"column"},children:[Object(S.jsx)("span",{children:o.coll.symbol}),Object(S.jsxs)("span",{style:{marginBottom:"10px",color:"#A3B7E4",fontSize:"12px"},children:["$",f.a[o.coll.addr].toFixed(3)]}),Object(S.jsx)("span",{children:o.symbol}),Object(S.jsxs)("span",{style:{color:"#A3B7E4",fontSize:"12px"},children:["$",x.toFixed(3)]})]}),Object(S.jsxs)("div",{style:{width:c[3],display:"flex",flexDirection:"column"},children:[Object(S.jsx)("span",{children:(+Ue(s)).toFixed(3)}),Object(S.jsx)("span",{children:o.bond.symbol}),Object(S.jsxs)("span",{style:{color:"#A3B7E4",fontSize:"12px"},children:["$",(Ue(s)*f.a[o.bond.addr]).toFixed(3)]})]}),Object(S.jsxs)("div",{style:{width:c[4],display:"flex",flexDirection:"column"},children:[Object(S.jsxs)("span",{children:["$",(Ue(u)*x).toFixed(3)]}),Object(S.jsx)("span",{style:{color:"#A3B7E4",fontSize:"12px"},children:"".concat((Ue(d)*f.a[o.want.addr]).toFixed(3)," ").concat(o.want.symbol)}),Object(S.jsx)("span",{style:{color:"#A3B7E4",fontSize:"12px"},children:"".concat((Ue(l)*f.a[o.coll.addr]).toFixed(3)," ").concat(o.coll.symbol)})]}),Object(S.jsxs)("div",{style:{width:c[5]},children:[j.toFixed(2),"%"]}),Object(S.jsx)("div",{style:{width:c[6]},children:Object(S.jsx)(Ye,{data:Ge})}),Object(S.jsxs)("div",{style:{width:c[7]},children:[p.toFixed(2),"%"]}),Object(S.jsx)("div",{style:{width:c[8]},children:Ue(b)}),Object(S.jsx)("div",{style:{width:c[9],alignItems:"flex-end"},children:Object(S.jsx)("span",{className:i.button,children:a===t?"remove":"add"})})]})]}),a===t&&Object(S.jsx)(He.default,{data:n})]})},[a,e])}var Ke=Object(t.a)({root:{},title:{color:"#fff",fontFamily:"Gillsans",fontSize:"30px",marginBottom:"30px"},header:{color:"#fff",fontFamily:"Gillsans",fontSize:"20px",margin:"10px 0",display:"flex","&>div":{textAlign:"center"}}}),Je=["Pool","Expiry","Price","Collateral","Liquidity","Fixed APY","Historical Borrow APY","Farm APY","COLLAR Reward",""],Ze=["80px","100px","80px","90px","150px","90px","140px","110px","90px","30px"];function Qe(){var e=Ke(),t=Object(h.useContext)(m.e).state,n=(t.signer,t.controller),r=Object(h.useContext)(m.m).proState.historicalInterestRate,a=Object(h.useState)(-1),c=Object(O.a)(a,2),i=c[0],o=c[1],t=Object(h.useState)([]),a=Object(O.a)(t,2),c=a[0],s=a[1],t=Object(h.useState)(!0),a=Object(O.a)(t,2),t=a[0],l=a[1];return Object(h.useEffect)(function(){r.series&&l(!1)},[r]),Object(h.useEffect)(function(){n.pro_data().then(function(e){return s(e)})},[]),Object(S.jsxs)("div",{className:e.root,children:[Object(S.jsx)("div",{className:e.title,children:"All Markets"}),Object(S.jsx)("div",{className:e.header,children:Je.map(function(e,t){return Object(S.jsx)("div",{style:{width:Ze[t],display:"flex",alignItems:"center",justifyContent:"center"},children:Object(S.jsx)("span",{children:e})},t)})}),t?Object(S.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(S.jsx)(We.a,{color:"primary",size:80})}):c.map(function(e,t){return Object(S.jsx)($e,{index:t,data:e,diagram:r.series[t].data,onOff:{setOnOff:o,onOff:i},tableHeadWidth:Ze},t)})]})}var Xe=Object(t.a)({root:(n={display:"flex",flexDirection:"column",margin:"auto",padding:"30px 20px"},Object(c.a)(n,m.a.PC,{width:"".concat(m.a.WIDTH,"px")}),Object(c.a)(n,m.a.MOBILE,{}),n)});function et(){var e=Xe(),t=Object(h.useContext)(m.e).state,n=(t.signer,t.controller,Object(h.useReducer)(function(e,t){return"function"==typeof t?t(e):Object(u.a)(Object(u.a)({},e),t)},{totalLockedValue:{},totalLiquidity:{},totalCollateral:{},historicalInterestRate:{}})),t=Object(O.a)(n,2),n=t[0],t=t[1];return Object(S.jsx)(m.m.Provider,{value:{proState:n,setProState:t},children:Object(S.jsxs)("div",{className:e.root,children:[Object(S.jsx)(Me.default,{}),Object(S.jsx)(Qe,{})]})})}var tt=Object(t.a)(function(e){return{drawer:{"&>div":{display:"flex",flexDirection:"row",background:"none",border:"none",zIndex:"9999"}},listItem:{flexDirection:"column"},icon:{margin:"8px 0"},fontSpan:{fontFamily:"Frutiger",margin:"0 0",color:"white",fontSize:"18px"},blurbg:{"&, &:before":{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",zIndex:"9998"},"&:after":{filter:"blur(15px) brightness(110%)"}}}}),nt=function(e){var t=e.onClick,n=e.item,r=e.icon,a=e.cur,e=tt();return Object(S.jsxs)(s.a,{button:!0,onClick:t,to:"/".concat(n.toLowerCase()),component:o.Link,className:e.listItem,style:{backgroundColor:a==n.toLowerCase()?"#1E2C57":"#4C76F9",marginBottom:"20px"},children:[Object(S.jsx)("img",{src:r,className:e.icon,alt:""}),Object(S.jsx)("span",{className:e.fontSpan,children:n})]},n)},rt=function(e){var t=e.url,n=e.item,r=e.icon,e=tt();return Object(S.jsxs)(s.a,{button:!0,onClick:function(){return window.location.href=t},className:e.listItem,style:{backgroundColor:"#4C76F9",marginBottom:"20px"},children:[Object(S.jsx)("img",{src:r,className:e.icon,alt:""}),Object(S.jsx)("span",{className:e.fontSpan,children:n})]})};function at(){function e(e){i(e),c({menu_open:!1})}var t=tt(),n=Object(h.useContext)(m.e),r=n.state,a=r.menu_open,c=(r.signer,n.setState),r=Object(h.useState)(window.location.hash.slice(2)||"lite"),n=Object(O.a)(r,2),r=n[0],i=n[1];return Object(S.jsxs)(o.HashRouter,{children:[Object(S.jsx)(l.a,{variant:"persistent",anchor:"left",open:a,className:t.drawer,children:Object(S.jsxs)("div",{style:{width:"30vw",backgroundColor:"#4975FF"},children:[Object(S.jsx)("div",{style:{display:"flex",minHeight:"56px",justifyContent:"center"},onClick:function(){return c({menu_open:!1})}}),Object(S.jsxs)(Y.a,{style:{padding:0},children:[Object(S.jsx)(nt,{onClick:function(){return e("lite")},item:"Lite",icon:U.d,cur:r}),Object(S.jsx)(nt,{onClick:function(){return e("mypage")},item:"MyPage",icon:U.e,cur:r}),Object(S.jsx)(nt,{onClick:function(){return e("faucet")},item:"Faucet",icon:U.h,cur:r}),Object(S.jsx)(nt,{onClick:function(){return e("term")},item:"Term",icon:U.j,cur:r}),Object(S.jsx)(nt,{onClick:function(){return e("pro")},item:"Pro",icon:U.h,cur:r}),Object(S.jsx)(rt,{url:"https://collar.org",item:"Home",icon:U.h})]})]})}),Object(S.jsx)("div",{className:t.blurbg,style:{display:a?"block":"none"},onClick:function(){return c({menu_open:!1})}}),Object(S.jsxs)(o.Switch,{children:[Object(S.jsx)(o.Route,{path:"/lite",children:Object(S.jsx)(V.default,{})}),Object(S.jsx)(o.Route,{path:"/pro",children:Object(S.jsx)(et,{})}),Object(S.jsx)(o.Route,{path:"/term",children:Object(S.jsx)(Te,{})}),Object(S.jsx)(o.Route,{path:"/mypage",children:Object(S.jsx)(ke,{})}),Object(S.jsx)(o.Route,{path:"/faucet",children:Object(S.jsx)(Ie,{})}),Object(S.jsx)(o.Route,{path:"/",children:Object(S.jsx)(V.default,{})})]})]})}function ct(e){var t=e.children,n=Object(h.useReducer)(function(e,t){return Object(u.a)(Object(u.a)({},e),t)},{controller:Object(f.b)(),signer:null,menu_open:!1}),r=Object(O.a)(n,2),a=r[0],e=r[1],n=Object(h.useState)(it.ifPC),n=(r=Object(O.a)(n,2))[0],c=r[1];return window.addEventListener("resize",function(e){e=e.target.innerWidth;e>m.a.WIDTH&&!it.ifPC?(it.ifPC=!0,c(!0)):e<m.a.WIDTH&&it.ifPC&&(it.ifPC=!1,c(!1))}),Object(S.jsx)(m.e.Provider,{value:{state:a,setState:e,ifPC:n},children:t})}var it={ifPC:window.innerWidth>m.a.WIDTH};a.a.render(Object(S.jsx)(function(){return Object(S.jsx)(j.l,{children:Object(S.jsxs)(ct,{children:[Object(S.jsx)(i,{}),Object(S.jsx)(at,{})]})})},{}),document.getElementById("root"))},6:function(e,t,n){"use strict";n.d(t,"o",function(){return l}),n.d(t,"n",function(){return d.a}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return b.a}),n.d(t,"c",function(){return b.b}),n.d(t,"e",function(){return j}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return x}),n.d(t,"m",function(){return f}),n.d(t,"i",function(){return h}),n.d(t,"l",function(){return m}),n.d(t,"p",function(){return O}),n.d(t,"j",function(){return g}),n.d(t,"d",function(){return w}),n.d(t,"q",function(){return y}),n.d(t,"k",function(){return v}),n.d(t,"h",function(){return k});var r=n(10),a=n(55),t=n(51),c={network:"ropsten",chainid:3,infuraid:"9180c5a422ac44f9b21ad7927b6b662c",factory:"0x1F98431c8aD98523631AE4a59f267346ea31F984",pricePool:"0x5BBBE4Da8b5AF36482F75747Ee38ddFDf3F6e4D9",collar:"0xe405bD3C4876D1Ea0af92BaCF5831c9FCbDD78aE",stablecoin:"0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0",browser:"https://etherscan.io",gasAdjustment:120},i=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},Object(t.b)("COLLAR",c.collar)),Object(t.b)("SWAP",c.pricePool)),Object(t.b)("USDC","0x67C9a0830d922C80A96408EEdF606c528836880C",a.d)),Object(t.b)("yzkUSC","0xF3d7FdB3395CeAba7856A273178f009389C6582d",a.e,16)),o=[Object(t.a)({bond:"0xF3d7FdB3395CeAba7856A273178f009389C6582d",want:"0x67C9a0830d922C80A96408EEdF606c528836880C",r1:{addr:"0xf7187fD2FE5E1d01f4C0e9dC91ccF96a2a93A931",coll:"0xF9176bFDe0fDF7D8B9B57e668Fbd8E2cee3072E5",call:"0x255E37fD5747F7fFF87B6BBb72F3A803F3556aB5",expiry_time:1633017600}},i)],s=n(130),l={bond:"BOND token is the collateral asset deposited by borrower.",want:"WANT token is the debt asset provided by lender.",coll:"COLL token is the lending certificate.",clpt:"CLPT is the Collar LP Token for the current pair.",Borrow:"Borrow for a fixed rate with no collateral liquidation risk. \n          Collateral is safely stored and can be withdrawn at any time before the current round ends. \n          A fixed 0.01% fee is charged for each borrow order.",Repay:"Repay your loan at any time before the current round ends to withdraw your collateral. \n          WANT tokens and COLL tokens are both acceptable for repayment. \n          Borrowers reduce the cost of their loan by using the lower priced token for repayment.",Deposit:"There are three ways to provide liquidity in Collar: provide only WANT, only COLL, or both WANT and COLL. \n          The APY earned by a provider is fixed as long as they don't redeem their CLPT before the current round ends.",Withdraw:"Liquidity providers can withdraw their liquidity at any time before the current round ends. \n          Redeem CLPT to collect the corresponding underlying assets, which are possibly not in the same proportion as the original deposit.",Lend:"Earn a fixed interest rate over a fixed term. \n          A nominal 0.01% fee is charged for each lending order.",Exit:"Lenders can exit at any time before the current round ends. \n          The interest earned may differ from the originally quoted APY.",TotalValueLocked:"TotalValueLocked",round:"coming soon"},d=n(121),u={WIDTH:960,PC:"@media screen and (min-width:".concat(960,"px)"),MOBILE:"@media screen and (max-width:".concat(960,"px)"),COLOR:["Red","Orange","Yellow","Green","Cyan","Purple"]},b=n(94),n=n(0),j=Object(n.createContext)({}),p=Object(n.createContext)({}),x=Object(n.createContext)({}),f=Object(n.createContext)({}),h={},O={},m=[],g={},v={},y={},w=[],C=new Set,k=[],F={coll_total:0,want_total:0,bond_total:0,clpt:0,coll:0,call:0,coll_total_supply:0,call_total_supply:0,earned:0,receivables:0,shareOfPoll:0,coll_apy:0,call_apy:0,clpt_apy:0,clpt_apr:0};switch(window.location.host){case"app.collar.org":case"127.0.0.1":O=i,m=o,h=c;break;default:O=s.c,m=s.b,h=s.a}m.forEach(function(e){return[e.r1,e.r2].forEach(function(e,t){e&&(v["".concat(e.bond.addr,"-").concat(e.want.addr,"-").concat(t)]=g[e.addr]=e,C.add(e.bond),k.push(Object(r.a)({pool:e},F)))})}),w=Array.from(C),Object.keys(v).forEach(function(e){var t=e.split("-"),e=O[t[1]];y[t[0]]?y[t[0]].add(e):y[t[0]]=new Set([e])}),Object.keys(y).forEach(function(e){y[e]=Array.from(y[e])})},63:function(e,t){e.exports=ReactRouterDOM},94:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var r=["function sx() external view returns (uint256)","function sy() external view returns (uint256)","function sk() external view returns (uint256)","function swap_sqp() external view returns (uint256)","function calc_k(uint256,uint256) external view returns (uint256)","function get_dx(uint256) external view returns (uint256)","function get_dy(uint256) external view returns (uint256)","function get_dk(uint256, uint256) external view returns (uint256)","function earned(address) external view returns (uint256)","function get_dxdy(uint256) external view returns (uint256, uint256)","function borrow_want(uint256, uint256) external","function burn_call(uint256) external","function burn_dual(uint256) external","function repay_both(uint256, uint256) external","function mint(uint256, uint256, uint256) external","function withdraw_both(uint256) external","function swap_coll_to_min_want(uint256, uint256) external","function swap_want_to_min_coll(uint256, uint256) external","function claim_reward() external","function swap_fee() public pure returns (uint256)","functionburn_and_claim(uint256) public","function mint_dual(uint256) public","function balanceOf(address) external view returns (uint256)","function totalSupply() public view returns (uint256)","function reward_rate() public view returns (uint256)","function getPool(address,address,uint24) external view returns (address)","function slot0() external view returns (uint160,int24,uint16,uint16,uint16,uint8,bool)","function transfer(address, uint256) external","function approve(address, uint256) external","function allowance(address, address) external view returns (uint256)"],a={sx:["uint256"],sy:["uint256"],sk:["uint256"],swap_sqp:["uint256"],calc_k:["uint256"],get_dx:["uint256"],get_dy:["uint256"],get_dk:["uint256"],earned:["uint256"],swap_fee:["uint256"],balanceOf:["uint256"],totalSupply:["uint256"],reward_rate:["uint256"],allowance:["uint256"],getPool:["address"],get_dxdy:["uint256","uint256"],slot0:["uint160","int24","uint16","uint16","uint16","uint8","bool"]}},95:function(e,t,O){"use strict";O.r(t),O.d(t,"default",function(){return c});var n=O(3),m=O.n(n),g=O(7),v=O(10),y=O(11),r=O(15),a=O(17),w=O(0),t=O(85),C=O(6),k=O(18),F=O(142),S=O(143),A=O(1),L=Object(t.a)({root:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center","&>div":(n={position:"relative",backgroundColor:"white","&:first-child":{zIndex:"4",margin:"20px 20px 0 20px"},"&:nth-child(2)":{zIndex:"2",transform:"translateY(-13px)",boxSizing:"border-box",border:"#4C4C4C 2px solid",height:"20px",width:"calc(100% - 60px)"},"&:nth-child(3)":{zIndex:"1",transform:"translateY(-26px)",boxSizing:"border-box",border:"#4C4C4C 2px solid",height:"20px",width:"calc(100% - 80px)"}},Object(r.a)(n,C.a.MOBILE,{width:"calc(100% - 40px)"}),Object(r.a)(n,C.a.PC,{width:"900px","&:nth-child(2)":{width:"880px"},"&:nth-child(3)":{width:"860px"}}),n)},content:{zIndex:"3",position:"relative",backgroundColor:"white",border:"#4C4C4C 2px solid",borderTop:"none",padding:"15px"}}),_=Object(t.a)({root:{},amount:{display:"flex",justifyContent:"space-between","&>div":{width:"50%"}},icon:{fontFamily:"Material Icons",marginTop:"35px",fontSize:"24px",display:"flex",alignItems:"center"},buttonOne:{display:"flex",flexDirection:"column","&>div":{display:"flex",justifyContent:"space-between","&>button":{width:"calc(50% - 15px)"}}},buttonTwo:{display:"flex",justifyContent:"space-between","&>div":Object(r.a)({width:"calc(50% - 15px)",display:"flex",flexDirection:"column","&>button":{"&:first-child":{marginBottom:"15px"}}},C.a.PC,{"&:first-child":{flexDirection:"row",justifyContent:"space-between","&>button":{width:"calc(50% - 10px)",marginBottom:"0 !important"}},"&:last-child":{"&>button":{width:"100%",marginBottom:"0 !important"}}})}}),a=a.ethers.constants.Zero,E={balance:{bond:a,want:a,call:a,coll:a,clpt:a,collar:a},allowance:{bond:a,want:a},earned:{collar:a},swap:{sx:a,sy:a,sk:a},apy:0};function c(){var e=L(),t=_(),n=Object(w.useContext)(C.e).state,r=n.signer,a=n.controller,n=Object(w.useState)(!1),n=Object(y.a)(n,2),c=n[0],i=n[1],n=Object(w.useReducer)(function(e,t){return"function"==typeof t?t(e):Object(v.a)(Object(v.a)({},e),t)},{tabs:0,tabsChild:0,round:[0,!C.l[0].r2],pool:C.l[0].r1,coll:C.l[0].r1.coll,bond:C.l[0].r1.bond,want:C.l[0].r1.want,data:E}),n=Object(y.a)(n,2),o=n[0],s=n[1],l=o.tabs,d=o.tabsChild,u=o.pool,b=o.data,j=o.round,p=["LOAN","FARM","SWAP"],x=[["Borrow","Repay"],["Deposit","Withdraw"],["Lend","Exit"]],f=Object(w.useCallback)(Object(w.lazy)(function(){return O(561)("./".concat(x[l][d]))}),[l,d]),h=Object(w.useCallback)(function(r){return Object(g.a)(m.a.mark(function e(){var t,n=arguments;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(t=a[r]).call.apply(t,[null].concat(Array.prototype.slice.call(n),[u])).then(function(e){if(e)return a.fetch_state(u);throw new Error}).then(function(e){return s({data:e})}).catch(function(){return!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))},[u.addr]);return Object(w.useEffect)(function(){var e="".concat(u.bond.addr,"-").concat(u.want.addr);s({pool:C.k["".concat(e,"-").concat(j[0])]})},[j[0]]),Object(w.useEffect)(function(){var e="".concat(u.bond.addr,"-").concat(u.want.addr),e=!C.k["".concat(e,"-1")],n=[e?0:j[0],e];Object(g.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,a.fetch_state(u);case 3:t=e.sent,s(function(e){return r||b!==E||e.data===E?Object(v.a)(Object(v.a)({},e),{},{data:t,round:n}):e}),i(!1);case 6:case"end":return e.stop()}},e)}))()},[r,u.addr]),Object(w.useMemo)(function(){return Object(A.jsx)(C.f.Provider,{value:{liteState:o,setLiteState:s,handleClick:h,classesChild:t},children:Object(A.jsxs)("div",{className:e.root,children:[Object(A.jsxs)("div",{children:[Object(A.jsx)(k.m,{value:l,onChange:function(e,t){return s({tabs:t,tabsChild:0})},labels:p}),Object(A.jsxs)("div",{className:e.content,children:[Object(A.jsx)(k.n,{tabs:l,value:d,labels:x,onChange:function(e,t){return s({tabsChild:t})},round:{round:j,setRound:function(e){return s({round:e})}},expiry:1e3*u.expiry_time}),Object(A.jsx)(S.default,{}),Object(A.jsx)(w.Suspense,{fallback:Object(A.jsx)("div",{style:{height:1==l?"389px":"240px"}}),children:Object(A.jsx)(f,{})})]})]}),Object(A.jsx)("div",{}),Object(A.jsx)("div",{}),Object(A.jsx)(F.default,{}),Object(A.jsx)(k.i,{open:c})]})})},[o,c])}}},[[571,26,27]]]);