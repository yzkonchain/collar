(this.webpackJsonprebuild=this.webpackJsonprebuild||[]).push([[1],{436:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return w}));var a=n(2),c=n.n(a),l=n(13),s=n(20),i=n(24),o=n(31),r=n(0),u=n(16),p=n(32),j=n(1),d=o.a.constants.Zero,b={input:{want:d,coll:d},output:{clpt:d},tip:{share:0,poolBalance:0,slip:0},I:{want:"",coll:""},old:{want:"",coll:""}},x=function(t,e){return o.a.utils.formatUnits(t,e||18)},f=function(t,e){return o.a.utils.parseUnits(t||"0",e||18)};function w(){var t=Object(r.useContext)(u.d).state,e=t.signer,n=t.controller,a=Object(r.useContext)(u.e),o=a.liteState,w=(o.bond,o.want),O=o.coll,h=o.pool,m=o.data,v=a.classesChild,k=a.handleClick,g=Object(r.useReducer)((function(t,e){return Object(s.a)(Object(s.a)({},t),e)}),b),C=Object(i.a)(g,2),I=C[0],y=C[1];return Object(r.useEffect)((function(){return I==b||y(b)}),[h]),Object(r.useEffect)((function(){Object(l.a)(c.a.mark((function t(){var e,a,l,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=f(I.I.want,h.want.decimals),a=f(I.I.coll),e.eq(I.input.want)&&a.eq(I.input.coll)){t.next=7;break}return t.next=5,h.ct.get_dk(a,e).catch((function(){return n.notify("balance","insufficient"),!1}));case 5:(l=t.sent)&&(s={share:(x(l)/x(m.swap.sk)*100).toPrecision(3),poolBalance:(x(m.swap.sx)/x(m.swap.sy,h.want.decimals)).toPrecision(3),slip:n.calc_slip(m,[a,e],h).toPrecision(3)},y({input:{want:e,coll:a},output:{clpt:l},tip:s}));case 7:case"end":return t.stop()}}),t)})))()}),[I]),Object(r.useMemo)((function(){return Object(j.jsxs)("div",{className:v.root,children:[Object(j.jsxs)("div",{className:v.amount,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(p.a,{title:"want",State:{state:I,setState:y,token:w,max:m.balance.want,if_max:m.allowance.want.gt("100000000000000000000000000000000")},style:{height:"90px"}}),Object(j.jsx)(p.a,{title:"coll",State:{state:I,setState:y,token:O,max:m.balance.coll,if_max:m.balance.coll.gt("0")},style:{height:"90px"}})]}),Object(j.jsx)("span",{className:v.icon,children:"navigate_next"}),Object(j.jsx)("div",{children:Object(j.jsx)(p.c,{title:"clpt",state:{state:I,token:h},style:{height:"239px"}})})]}),Object(j.jsx)(p.d,{apy:"todo",info:Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:["Share of Pool: ",I.tip.share," %"]}),Object(j.jsxs)("div",{children:["Pool Balance: ","1 ".concat(w.symbol," = ").concat(I.tip.poolBalance," COLL")]}),Object(j.jsxs)("div",{children:["Slippage tolerance: ",I.tip.slip," %"]})]})}),Object(j.jsxs)("div",{className:v.buttonTwo,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(p.j,{name:"Approve",onClick:function(){return k("approve")(w)},disabled:!e||m.allowance.want.gt("100000000000000000000000000000000")}),Object(j.jsx)(p.j,{name:"Deposit",onClick:Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k("deposit")(I.input.want,I.input.coll,I.output.clpt);case 2:if(t.t0=t.sent,!t.t0){t.next=5;break}t.t0=y({I:{want:"",coll:""}});case 5:return t.abrupt("return",t.t0);case 6:case"end":return t.stop()}}),t)}))),disabled:d.eq(I.output.clpt)||f(I.I.want,h.want.decimals).gt(m.balance.want)||f(I.I.coll).gt(m.balance.coll)||!f(I.I.want,h.want.decimals).eq(I.input.want)||!f(I.I.coll).eq(I.input.coll)})]}),Object(j.jsx)("div",{children:Object(j.jsx)(p.j,{name:"Claim",onClick:function(){return k("claim")()},disabled:d.eq(m.earned.collar)})})]})]})}),[I,m])}}}]);