(this.webpackJsonprebuild=this.webpackJsonprebuild||[]).push([[0],{446:function(e,t,n){},459:function(e,t){},481:function(e,t){},483:function(e,t){},557:function(e,t){},559:function(e,t){},591:function(e,t){},596:function(e,t){},598:function(e,t){},605:function(e,t){},618:function(e,t){},640:function(e,t){},657:function(e,t){},723:function(e,t){},845:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n(33),i=n.n(c),s=(n(446),n(19)),o=n(18),l=["function sx() external view returns (uint256)","function sy() external view returns (uint256)","function sk() external view returns (uint256)","function swap_sqp() external view returns (uint256)","function calc_k(uint256,uint256) external view returns (uint256)","function get_dx(uint256) external view returns (uint256)","function get_dy(uint256) external view returns (uint256)","function get_dk(uint256, uint256) external view returns (uint256)","function earned(address) external view returns (uint256)","function get_dxdy(uint256) external view returns (uint256, uint256)","function borrow_want(uint256, uint256) external","function burn_call(uint256) external","function burn_dual(uint256) external","function repay_both(uint256, uint256) external","function mint(uint256, uint256, uint256) external","function withdraw_both(uint256) external","function swap_coll_to_min_want(uint256, uint256) external","function swap_want_to_min_coll(uint256, uint256) external","function claim_reward() external","function swap_fee() public pure returns (uint256)","function\xa0burn_and_claim(uint256) public","function mint_dual(uint256) public","function balanceOf(address) external view returns (uint256)"],d=n(36),u=n.p+"static/media/COLLAR.e0b235f3.svg",p=n.p+"static/media/USDT.a12a2441.svg",b=n.p+"static/media/USDC.f108d2c7.svg",j=n.p+"static/media/COLL.18017a76.svg",x=n.p+"static/media/CALL.fa5dcf83.svg",f={},h=[],m={},O={},v={},w=[],g=new Set,y="ropsten",C=3,k="9180c5a422ac44f9b21ad7927b6b662c",F="0xe405bD3C4876D1Ea0af92BaCF5831c9FCbDD78aE",A=function(e,t,n,a){switch(e){case"COLLAR":case"CLPT":return{symbol:e,addr:t,icon:u,decimals:18};case"COLL":return{symbol:e,addr:t,icon:j,decimals:18};case"CALL":return{symbol:e,addr:t,icon:x,decimals:18};default:return{symbol:e,addr:t,icon:n||u,decimals:a||18}}},S=function(e){var t=e.bond,n=e.want,a=[e.r1,e.r2].map((function(e){if(e){var a=e.addr,r=e.coll,c=e.call,i=e.swap_sqp,s=e.expiry_time,o=e.symbol;return{addr:a,expiry_time:s,bond:f[t],want:f[n],coll:f[r],call:f[c],swap_sqp:i||992187500,symbol:o||"CLPT"}}return null}));return{r1:a[0],r2:a[1]}};a={},Object(d.a)(a,F,A("COLLAR",F)),Object(d.a)(a,"0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0",A("USDT","0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0",p)),Object(d.a)(a,"0x67C9a0830d922C80A96408EEdF606c528836880C",A("USDC","0x67C9a0830d922C80A96408EEdF606c528836880C",b)),Object(d.a)(a,"0x506FeA08646b7ED5084c7a9a302FF5a95B9E980c",A("CLPT","0x506FeA08646b7ED5084c7a9a302FF5a95B9E980c")),Object(d.a)(a,"0x9D8FEb661AFc92b83c45fC21836C114164beB285",A("CALL","0x9D8FEb661AFc92b83c45fC21836C114164beB285")),Object(d.a)(a,"0x25a722fbd8c4080937CAD2A4DFa2eeeA29539231",A("COLL","0x25a722fbd8c4080937CAD2A4DFa2eeeA29539231")),Object(d.a)(a,"0x3894e050adae3ef3D10d7e1c79AE8F7A07866a90",A("CLPT","0x3894e050adae3ef3D10d7e1c79AE8F7A07866a90")),Object(d.a)(a,"0x404Ced902eE6d630db51969433ea7DD2EE3524B8",A("CALL","0x404Ced902eE6d630db51969433ea7DD2EE3524B8")),Object(d.a)(a,"0x61E04744eD53E1Ae61A9325A5Eba31AEA24eca4D",A("COLL","0x61E04744eD53E1Ae61A9325A5Eba31AEA24eca4D")),f=a,(h=[S({bond:"0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0",want:"0x67C9a0830d922C80A96408EEdF606c528836880C",r1:{addr:"0x506FeA08646b7ED5084c7a9a302FF5a95B9E980c",coll:"0x25a722fbd8c4080937CAD2A4DFa2eeeA29539231",call:"0x9D8FEb661AFc92b83c45fC21836C114164beB285",expiry_time:1633017600},r2:{addr:"0x506FeA08646b7ED5084c7a9a302FF5a95B9E980c",coll:"0x25a722fbd8c4080937CAD2A4DFa2eeeA29539231",call:"0x9D8FEb661AFc92b83c45fC21836C114164beB285",expiry_time:1634017600}}),S({bond:"0x67C9a0830d922C80A96408EEdF606c528836880C",want:"0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0",r1:{addr:"0x3894e050adae3ef3D10d7e1c79AE8F7A07866a90",call:"0x404Ced902eE6d630db51969433ea7DD2EE3524B8",coll:"0x61E04744eD53E1Ae61A9325A5Eba31AEA24eca4D",expiry_time:1633017600}})]).forEach((function(e){return[e.r1,e.r2].forEach((function(e,t){e&&(O["".concat(e.bond.addr,"-").concat(e.want.addr,"-").concat(t)]=m[e.addr]=e,g.add(e.bond))}))})),w=Array.from(g),Object.keys(O).forEach((function(e){var t=e.split("-"),n=f[t[1]];v[t[0]]?v[t[0]].add(n):v[t[0]]=new Set([n])})),Object.keys(v).forEach((function(e){v[e]=Array.from(v[e])}));var E=h,L=Object(r.createContext)({}),N=Object(r.createContext)({}),D={bond:"BOND token is the collateral asset deposited by borrower.",want:"WANT token is the debt asset provided by lender.",coll:"COLL token is the lending certificate.",clpt:"CLPT is the Collar LP Token for the current pair.",Borrow:"Borrow for a fixed rate with no collateral liquidation risk. \n          Collateral is safely stored and can be withdrawn at any time before the current round ends. \n          A fixed 0.01% fee is charged for each borrow order.",Repay:"Repay your loan at any time before the current round ends to withdraw your collateral. \n          WANT tokens and COLL tokens are both acceptable for repayment. \n          Borrowers reduce the cost of their loan by using the lower priced token for repayment.",Deposit:"There are three ways to provide liquidity in Collar: provide only WANT, only COLL, or both WANT and COLL. \n          The APY earned by a provider is fixed as long as they don't redeem their CLPT before the current round ends.",Withdraw:"Liquidity providers can withdraw their liquidity at any time before the current round ends. \n          Redeem CLPT to collect the corresponding underlying assets, which are possibly not in the same proportion as the original deposit.",Lend:"Earn a fixed interest rate over a fixed term. \n          A nominal 0.01% fee is charged for each lending order.",Exit:"Lenders can exit at any time before the current round ends. \n          The interest earned may differ from the originally quoted APY.",TotalValueLocked:"TotalValueLocked",round:"coming soon"},_=n(406),B=n.n(_),I=n(24),z=new B.a.providers.HttpProvider("https://ropsten.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161",{timeout:1e4}),T=new I.a.providers.Web3Provider(z),R=n(877),P=n.p+"static/media/buttonAble.81d585e8.svg",W=n.p+"static/media/buttonDisabled.73e4eb6d.svg",M=n(1),H=Object(R.a)((function(e){return{button:{padding:"0",background:"none",border:"none",position:"relative","&:hover":{opacity:.8},"&:active":{transform:"translateY(3px)"},"&:focus":{},"&>img":{width:"100%",height:"50px"},"&>div":{color:"#fff",left:"0",width:"100%",height:"100%",fontWeight:"bold",position:"absolute",display:"flex","& span":{fontFamily:"Gillsans",fontSize:"1.1em",margin:"auto"},transform:"translateY(-6px)"}}}}));function G(e){var t=e.name,n=e.onClick,a=e.style,r=e.disabled,c=H();return Object(M.jsxs)("button",{className:c.button,onClick:n,style:a,disabled:r,children:[Object(M.jsx)("div",{children:Object(M.jsx)("span",{children:t})}),Object(M.jsx)("img",{alt:t,src:r?W:P})]})}var Y=n.p+"static/media/iconInfo.dc65a086.svg",q=n.p+"static/media/buttonWhite.fc4b11a8.svg",U=n.p+"static/media/buttonWhiteHover.b17273db.svg",V=n.p+"static/media/arrowForwardIosIcon.3a03ef61.svg",$=n.p+"static/media/tabsArrow.5479a247.svg",Z=n.p+"static/media/liteIcon.2b04ba2f.svg",K=n.p+"static/media/termIcon.a6bf4fd7.svg",X=n.p+"static/media/proIcon.734a82c9.svg",J=n.p+"static/media/mypageIcon.29a313b9.svg",Q=n.p+"static/media/closeMenu.1dada3f4.svg",ee=(n.p,n.p+"static/media/global.a578a28b.svg"),te=n.p+"static/media/statusApproved.08d2c60d.svg",ne=n.p+"static/media/statusUnapproved.920a5006.svg",ae=n.p+"static/media/statusConnectError.a14be159.svg",re=n.p+"static/media/statusNewroundLeft.50a3e7fa.svg",ce=n.p+"static/media/statusNewroundRight.c2e8c251.svg",ie=n.p+"static/media/statusAny.fbcbea3c.svg",se=Object(R.a)((function(e){return{button:{padding:"0",background:"none",border:"none",position:"relative",backgroundImage:"url(".concat(q,")"),backgroundRepeat:"no-repeat",backgroundSize:"133px",minHeight:"37px",color:"white",margin:"5px 0",fontSize:"14px",fontFamily:"Gillsans","&:hover":{backgroundImage:"url(".concat(U,")")},"&:active":{transform:"translateY(3px)"},"&:focus":{}},span:{position:"absolute",transform:"translate(-50%, -70%)"}}}));function oe(e){var t=e.name,n=e.onClick,a=e.disabled,r=se();return Object(M.jsx)("button",{className:r.button,onClick:n,disabled:a,children:Object(M.jsx)("span",{className:r.span,children:t})})}var le=n(60),de=Object(R.a)((function(e){return{root:{width:"100%",textAlign:"center",display:"flex",flexDirection:"column",position:"relative",paddingBottom:"20px",marginBottom:"10px","&>div>hr":{position:"absolute",width:"100%",bottom:0,border:"none",borderTop:"white 1px solid"}},title:{fontFamily:"Gillsans",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",margin:"5px 0","& span:last-child":{backgroundColor:"#4976FF",padding:"0px 5px",height:"20px",lineHeight:"20px"}},amount:{width:"100%",fontFamily:"Gillsans",fontSize:"1.5em",marginTop:"5px",color:"white",textAlign:"left"}}}));function ue(e){var t=de(),n=e.token,a=e.status,r=e.amount;return Object(M.jsxs)("div",{className:t.root,children:[Object(M.jsxs)("div",{className:t.title,children:[Object(M.jsx)("span",{style:{fontSize:"0.9em"},children:n}),Object(M.jsx)("span",{style:{fontSize:"0.6em"},children:a})]}),Object(M.jsx)("div",{className:t.amount,children:Object(M.jsx)(le.a,{content:parseFloat(r).toFixed(3)})}),Object(M.jsx)("div",{children:Object(M.jsx)("hr",{})})]})}var pe=Object(R.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",position:"relative",paddingBottom:"20px",marginBottom:"10px","&>div>hr":{position:"absolute",width:"100%",bottom:0,border:"none",borderTop:"white 1px solid"}},title:{fontFamily:"Gillsans",fontSize:"0.9em",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",margin:"5px 0"},data:{fontFamily:"Gillsans",alignSelf:"flex-start",color:"white",fontSize:"1.4em",overflow:"hidden",maxWidth:"100%",marginBottom:"10px"},info:{fontFamily:"Gillsans",textAlign:"start",fontSize:"10px",color:"white",whiteSpace:"pre-line"}}}));function be(e){var t=e.title,n=e.data,a=e.info,r=e.noHr,c=e.styles,i=pe();return Object(M.jsxs)("div",{className:i.root,children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{className:i.title,children:Object(M.jsx)("span",{children:t})}),n&&Object(M.jsx)("div",{className:i.data,children:Object(M.jsx)(le.a,{content:n})}),a&&Object(M.jsx)("div",{className:i.info,style:c,children:Object(M.jsx)("span",{children:a})})]}),r||Object(M.jsx)("div",{children:Object(M.jsx)("hr",{})})]})}var je=Object(R.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",position:"relative",paddingBottom:"20px",marginBottom:"10px","&>div>hr":{position:"absolute",width:"100%",bottom:0,border:"none",borderTop:"white 1px solid"}},title:{fontFamily:"Gillsans",fontSize:"0.9em",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",margin:"5px 0"},data:{fontFamily:"Gillsans",alignSelf:"flex-start",color:"white",fontSize:"0.8em",overflow:"hidden",maxWidth:"calc(50vw - 40px)",marginBottom:"10px"}}}));function xe(e){var t=je(),n=e.title,a=e.data1,r=e.data2,c=e.noHr;return Object(M.jsxs)("div",{className:t.root,children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{className:t.title,children:Object(M.jsx)("span",{children:n})}),a&&Object(M.jsx)("div",{className:t.data,children:a}),r&&Object(M.jsx)("div",{className:t.data,children:r})]}),c||Object(M.jsx)("div",{children:Object(M.jsx)("hr",{})})]})}var fe=n(913),he=n(257),me=n(2),Oe=n.n(me),ve=n(13),we=n(70),ge=I.a.constants.Zero,ye=["function transfer(address, uint256) external","function approve(address, uint256) external","function balanceOf(address) external view returns (uint256)","function allowance(address, address) external view returns (uint256)"],Ce=["function earned(address) external view returns (uint256)","function sx() external view returns (uint256)","function sy() external view returns (uint256)","function sk() external view returns (uint256)","function swap_fee() public pure returns (uint256)"],ke=function(e,t,n){return new I.a.Contract(e,n||l,t)},Fe=function(e,t){var n=parseFloat(I.a.utils.formatEther(e));return t?n.toFixed(t):n},Ae=function(e){return e.map((function(e){return Fe(e)}))},Se=function(e){return e.mul(995).div(1e3)},Ee=function(e,t,n){var a=Object(o.a)(e,3),r=a[0],c=a[1],i=a[2],s=Object(o.a)(t,2),l=s[0],d=s[1],u=I.a.utils.parseEther("1"),p=I.a.BigNumber.from(1e9);return r.add(l||ge).add(i).mul(u).div(c.add(d||ge).add(i.mul(n).div(p))).sub(u)},Le=function(e,t,n){var a=e.swap,r=a.sx,c=a.sy,i=a.sk,s=Object(o.a)(t,2),l=s[0],d=s[1],u=n.swap_sqp,p=n.expiry_time;return 31556926e5*Fe(Ee([r,c,i],[l,d],u))/(1e3*p-new Date)},Ne=function(e,t,n){var a=e.swap,r=a.sx,c=a.sy,i=a.sk,s=Object(o.a)(t,2),l=s[0],d=s[1],u=n.swap_sqp,p=n.expiry_time;return 31556926e5*Fe(Ee([r,c,i],[l,d],u).sub(Ee([r,c,i],[null,null],u)))/(1e3*p-new Date)},De=function(){var e=Object(ve.a)(Oe.a.mark((function e(t,n){var a,r,c,i,s,l,d,u,p,b,j;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={balance:{},allowance:{},earned:{},swap:{}},e.next=3,n.getAddress();case 3:return r=e.sent,c=ke(F,n,ye),i=ke(t.bond.addr,n,ye),s=ke(t.want.addr,n,ye),l=ke(t.call.addr,n,ye),d=ke(t.coll.addr,n,ye),u=ke(t.addr,n,ye),p=ke(t.addr,n,Ce),e.next=13,Promise.all([i.balanceOf(r),s.balanceOf(r),l.balanceOf(r),d.balanceOf(r),u.balanceOf(r),c.balanceOf(r),i.allowance(r,t.addr),s.allowance(r,t.addr),p.earned(r),p.sx(),p.sy(),p.sk(),p.swap_fee()]);case 13:return b=e.sent,j=Object(o.a)(b,13),a.balance.bond=j[0],a.balance.want=j[1],a.balance.call=j[2],a.balance.coll=j[3],a.balance.clpt=j[4],a.balance.collar=j[5],a.allowance.bond=j[6],a.allowance.want=j[7],a.earned.collar=j[8],a.swap.sx=j[9],a.swap.sy=j[10],a.swap.sk=j[11],a.swap.fee=j[12],a.apy=Le(a,[null,null],t),e.abrupt("return",a);case 30:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_e=function(){var e=Object(ve.a)(Oe.a.mark((function e(t){var n,a,r,c,i,s,l,d,u,p,b,j,x,f,h,m,O,v,w,g,y,C,k,F,A;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAddress();case 2:n=e.sent,a=[],r=Object(he.a)(E),e.prev=5,r.s();case 7:if((c=r.n()).done){e.next=38;break}i=c.value,s=i.r1,l=i.r2,d=0,u=[s,l];case 10:if(!(d<u.length)){e.next=36;break}if(!(p=u[d])){e.next=33;break}return b={pool:ke(p.addr,t),bond:ke(p.bond.addr,t,ye),want:ke(p.want.addr,t,ye),call:ke(p.call.addr,t,ye),coll:ke(p.coll.addr,t,ye)},e.next=16,Promise.all([b.pool.sx(),b.pool.sy(),b.pool.sk(),b.bond.balanceOf(p.addr),b.pool.earned(n),b.pool.balanceOf(n),b.call.balanceOf(n),b.coll.balanceOf(n)]).then(Ae);case 16:return j=e.sent,x=Object(o.a)(j,8),f=x[0],h=x[1],m=x[2],O=x[3],v=x[4],w=x[5],g=x[6],y=x[7],e.next=28,b.pool.get_dxdy((S=w,I.a.utils.parseEther(String(S)))).then(Ae);case 28:C=e.sent,k=Object(o.a)(C,2),F=k[0],A=k[1],a.push({pool:p,coll_total:f,want_total:h,bond_total:O,clpt:w,call:g,coll:y,earned:v,receivables:(F+y)*Te[p.coll.addr]+A*Te[p.want.addr],shareOfPoll:w/m*100,coll_apy:"0.00",call_apy:"0.00",clpt_apy:"0.00",clpt_apr:"0.00"});case 33:d++,e.next=10;break;case 36:e.next=7;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(5),r.e(e.t0);case 43:return e.prev=43,r.f(),e.finish(43);case 46:return e.abrupt("return",a);case 47:case"end":return e.stop()}var S}),e,null,[[5,40,43,46]])})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(ve.a)(Oe.a.mark((function e(){var t,n,a,r,c,i,s,l,d,u,p,b,j,x,f;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=Object(he.a)(E),e.prev=2,n.s();case 4:if((a=n.n()).done){e.next=24;break}r=a.value,c=r.r1,i=r.r2,s=0,l=[c,i];case 7:if(!(s<l.length)){e.next=22;break}if(!(d=l[s])){e.next=19;break}return u={pool:ke(d.addr,T),bond:ke(d.bond.addr,T,ye)},e.next=13,Promise.all([u.pool.sx(),u.pool.sy(),u.bond.balanceOf(d.addr)]).then(Ae);case 13:p=e.sent,b=Object(o.a)(p,3),j=b[0],x=b[1],f=b[2],t.push({pool:d,coll_total:j,want_total:x,bond_total:f});case 19:s++,e.next=7;break;case 22:e.next=4;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(2),n.e(e.t0);case 29:return e.prev=29,n.f(),e.finish(29);case 32:return e.abrupt("return",t);case 33:case"end":return e.stop()}}),e,null,[[2,26,29,32]])})));return function(){return e.apply(this,arguments)}}(),Ie=function(e,t){var n={type:"failed",title:"Fail.",message:"Your transaction failed."};switch(e){case"approve":switch(t){case 1:return{type:"success",title:"Approved!",message:"You have successfully approved your asset."};default:return n}case"borrow":switch(t){case 1:return{type:"success",title:"Deposited and Borrowed.",message:"You have successfully borrowed asset."};default:return n}case"repay":switch(t){case 1:return{type:"success",title:"Repaid.",message:"You have successfully repaid your loan."};default:return n}case"deposit":switch(t){case 1:return{type:"success",title:"Deposited.",message:"You have successfully deposited your asset."};default:return n}case"withdraw":switch(t){case 1:return{type:"success",title:"Withdrawn.",message:"You have successfully withdraw your liquidity."};default:return n}case"claim":switch(t){case 1:return{type:"success",title:"Claimed.",message:"You have successfully claimed your reward."};default:return n}case"lend":switch(t){case 1:return{type:"success",title:"Lent.",message:"You have successfully lent your assset."};default:return n}case"redeem":switch(t){case 1:return{type:"success",title:"Redeemed.",message:"You have successfully redeem your loan."};default:return n}case"mint":switch(t){case 1:return{type:"success",title:"mint.",message:"You have successfully mint."};default:return n}case"cancel":return{type:"failed",title:"Fail.",message:"User denied transaction signature."};case"noaccount":return{type:"failed",title:"Fail.",message:"No Account!"};default:return n}};function ze(){var e=Object(we.c)().enqueueSnackbar,t=function(t){switch(t){case!0:return function(t){return function(n){return n.wait().then((function(n){var a=n.status;return e(Ie(t,a)),1==a}))}};case!1:return function(t){switch(t.code){case 4001:return e(Ie("cancel")),!1;default:return console.log(t),!1}};default:return console.log}};return function(n,a){return n?{calc_apy:Le,calc_slip:Ne,ct:function(e,t){return ke(e,n,t)},fetch_state:function(){var e=Object(ve.a)(Oe.a.mark((function e(t){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",De(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mypage_data:function(){var e=Object(ve.a)(Oe.a.mark((function e(){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_e(n));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),approve:function(){var e=Object(ve.a)(Oe.a.mark((function e(a,r){var c;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.addr,e.next=3,ke(a,n,["function approve(address, uint256) external"]).approve(c,I.a.constants.MaxUint256).then(t(!0)("approve")).catch(t(!1));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),borrow:function(){var e=Object(ve.a)(Oe.a.mark((function e(a,r,c){var i;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.addr,e.next=3,ke(i,n).borrow_want(a,Se(r)).then(t(!0)("borrow")).catch(t(!1));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),repay:function(){var e=Object(ve.a)(Oe.a.mark((function e(a,r,c){var i,s,o;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=c.addr,s=ke(i,n),e.t0=!0,e.next=e.t0===a.eq(ge)?5:e.t0===r.eq(ge)?7:9;break;case 5:return o=s.burn_dual(r),e.abrupt("break",11);case 7:return o=s.burn_call(a),e.abrupt("break",11);case 9:return o=s.repay_both(a,r),e.abrupt("break",11);case 11:return e.next=13,o.then(t(!0)("repay")).catch(t(!1));case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),deposit:function(){var e=Object(ve.a)(Oe.a.mark((function e(a,r,c,i){var s;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=i.addr,e.next=3,ke(s,n).mint(r,a,Se(c)).then(t(!0)("deposit")).catch(t(!1));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),withdraw:function(){var e=Object(ve.a)(Oe.a.mark((function e(a,r){var c;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.addr,e.next=3,ke(c,n).withdraw_both(a).then(t(!0)("withdraw")).catch(t(!1));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),claim:function(){var e=Object(ve.a)(Oe.a.mark((function e(a){var r;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.addr,e.next=3,ke(r,n).claim_reward().then(t(!0)("claim")).catch(t(!1));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),burn_and_claim:function(){var e=Object(ve.a)(Oe.a.mark((function e(a,r){var c;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.addr,e.next=3,ke(c,n).burn_and_claim(a).then(t(!0)("withdraw")).catch(t(!1));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),lend:function(){var e=Object(ve.a)(Oe.a.mark((function e(a,r,c){var i;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.addr,e.next=3,ke(i,n).swap_want_to_min_coll(Se(r),a).then(t(!0)("lend")).catch(t(!1));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),redeem:function(){var e=Object(ve.a)(Oe.a.mark((function e(a,r,c){var i;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.addr,e.next=3,ke(i,n).swap_coll_to_min_want(r,Se(a)).then(t(!0)("redeem")).catch(t(!1));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),mint:function(){var e=Object(ve.a)(Oe.a.mark((function e(a,r){var c;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.addr,e.next=3,ke(c,n).mint_dual(a).then(t(!0)("mint")).catch(t(!1));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),redeemAll:function(){var a=Object(ve.a)(Oe.a.mark((function a(r){var c,i,s,o,l;return Oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.getAddress();case 2:return c=a.sent,i=ke(r.addr,n),a.next=6,ke(r.call.addr,n).balanceOf(c);case 6:return s=a.sent,a.next=9,ke(r.coll.addr,n).balanceOf(c);case 9:if(o=a.sent,!(parseFloat(s)>parseFloat(o))){a.next=13;break}return e({type:"failed",title:"Fail.",message:"COLL must larger than CALL!"}),a.abrupt("return");case 13:return a.next=15,i.get_dy(s);case 15:return l=a.sent,a.next=18,i.swap_coll_to_min_want(s,Se(l)).then(t(!0)("redeem")).catch(t(!1));case 18:return a.abrupt("return",a.sent);case 19:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),repayAll:function(){var a=Object(ve.a)(Oe.a.mark((function a(r){var c,i,s,o;return Oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.getAddress();case 2:return c=a.sent,a.next=5,ke(r.call.addr,n).balanceOf(c);case 5:return i=a.sent,a.next=8,ke(r.coll.addr,n).balanceOf(c);case 8:return s=a.sent,a.next=11,ke(r.want.addr,n).balanceOf(c);case 11:if(o=a.sent,!(parseFloat(i)>parseFloat(o))){a.next=15;break}return e({type:"failed",title:"Fail.",message:"".concat(r.want.symbol," must larger than CALL!")}),a.abrupt("return");case 15:if(!(parseFloat(i)>parseFloat(s))){a.next=18;break}return e({type:"failed",title:"Fail.",message:"COLL must larger than CALL!"}),a.abrupt("return");case 18:return a.next=20,ke(r.addr,n).burn_dual(i).then(t(!0)("repay")).catch(t(!1));case 20:return a.abrupt("return",a.sent);case 21:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),withdrawAll:function(){var e=Object(ve.a)(Oe.a.mark((function e(a){var r,c,i,s;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.addr,e.next=3,n.getAddress();case 3:return c=e.sent,i=ke(r,n),e.next=7,i.balanceOf(c);case 7:return s=e.sent,e.next=10,i.withdraw_both(s).then(t(!0)("withdraw")).catch(t(!1));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),settle:function(){var t=Object(ve.a)(Oe.a.mark((function t(n){return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"failed",title:"Fail.",message:"Not support yet!"}),t.abrupt("return",!1);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),error:function(){e({type:"failed",title:"Fail.",message:"No Account!"})}}:a?{mypage_data_noaccount:Be}:void e(Ie("noaccount"))}}var Te={COLLAR:1,"0xe405bD3C4876D1Ea0af92BaCF5831c9FCbDD78aE":1,USDT:1,"0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0":1,USDC:1,"0x67C9a0830d922C80A96408EEdF606c528836880C":1,COLL:1,"0x25a722fbd8c4080937CAD2A4DFa2eeeA29539231":1,"0x61E04744eD53E1Ae61A9325A5Eba31AEA24eca4D":1,CALL:1,"0x9D8FEb661AFc92b83c45fC21836C114164beB285":1,"0x404Ced902eE6d630db51969433ea7DD2EE3524B8":1,CLPT:1,"0x506FeA08646b7ED5084c7a9a302FF5a95B9E980c":1,"0x3894e050adae3ef3D10d7e1c79AE8F7A07866a90":1},Re=Object(R.a)((function(e){return{root:{"&>div:first-child":{margin:"10px 0",height:"25px",display:"flex",alignItems:"center","&>span":{fontFamily:"Helvetica",fontSize:"0.8em",verticalAlign:"middle"},"&>img":{marginLeft:"5px",width:"14px",verticalAlign:"middle"}}},AmountInput:{border:"#272727 2px solid",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"center",position:"relative","& input":{fontFamily:"Gillsans",padding:"0",margin:"0 5px 0 0",fontSize:function(e){return"".concat(e.fontSize,"px")},fontWeight:"bold",border:"none",width:"100%",color:"#30384B"},"& button":{fontFamily:"Gillsans",fontSize:"0.8em",color:"white",background:"#30384B",border:"none",padding:"2px 5px",position:"relative","&[disabled]":{background:"#d4d4d4"},"&>span":{fontFamily:"Helvetica",position:"absolute",transform:"translate(-32px,-16px)",color:"#30384B",fontSize:"10px"}}},amount:{display:"flex",alignItems:"center",justifyContent:"space-between","&>div":{width:"100%","&>div":{"&:before,&:after,&:hover:not(.Mui-disabled):before":{border:"none"}}}},token:{fontFamily:"Gillsans",fontSize:"12px",fontWeight:"bold",color:"#30384B",marginLeft:"2px"},dollar:{color:"#99A8C9",margin:"5px",fontWeight:"bold",fontFamily:"Gillsans",fontSize:"12px"}}}));function Pe(e){var t=e.State,n=e.title,a=e.style,c=Object(r.useState)(35),i=Object(o.a)(c,2),l=i[0],u=i[1],p=Object(r.useState)(null),b=Object(o.a)(p,2),j=b[0],x=b[1],f=Re({fontSize:l}),h=Object(r.useRef)(),m=Object(we.c)().enqueueSnackbar,O=t.state,v=t.setState,w=t.token,g=t.max,y=t.maxCondition,C=Object(r.useCallback)((function(e){var t=e.target.value,a=O.I[n],r=e.nativeEvent.data;g<parseFloat(t)?m({type:"failed",title:"Fail.",message:"Maximum range exceeded."}):(1===t.length||-1!==a.indexOf("."))&&"."===r||"0"===a&&-1===[".",null].indexOf(r)||["0","1","2","3","4","5","6","7","8","9",".",null].indexOf(r)>-1&&v({I:Object(s.a)(Object(s.a)({},O.I),{},Object(d.a)({},n,t)),old:Object(s.a)(Object(s.a)({},O.old),{},Object(d.a)({},n,a))})}),[O.I,g]);return Object(r.useEffect)((function(){var e=h.current,t=[O.I[n],O.old[n]],a=t[0],r=t[1];if(a.length>(r||"").length){if(e.offsetWidth==e.scrollWidth||l<8)return;u(.8*l)}else if(a.length<(r||"").length){if(e.offsetWidth<e.scrollWidth||l>35)return;u(1.25*l)}}),[l,O.I[n]]),Object(r.useMemo)((function(){return Object(M.jsxs)("div",{className:f.root,children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{children:n.toUpperCase()}),Object(M.jsx)("img",{onMouseEnter:function(e){return x(e.currentTarget)},onMouseLeave:function(){return x(null)},alt:n,src:Y}),Object(M.jsx)(Xe,{anchorEl:j,info:D[n]})]}),Object(M.jsxs)("div",{className:f.AmountInput,style:a,children:[Object(M.jsx)("div",{className:f.amount,children:Object(M.jsx)(fe.a,{value:O.I[n],onChange:C,inputRef:h,placeholder:"0.00",InputProps:{endAdornment:Object(M.jsxs)("button",{onClick:function(){v({I:Object(s.a)(Object(s.a)({},O.I),{},Object(d.a)({},n,"".concat(g)))})},disabled:!y()||g<1e-6,children:["MAX",Object(M.jsx)("span",{children:"Balance"})]})}})}),Object(M.jsx)("span",{className:f.token,children:w.symbol}),Object(M.jsxs)("span",{className:f.dollar,children:["~$",(Te[w.addr]*O.I[n]).toFixed(3)]})]})]})}),[t,j])}var We=n(14),Me=n(911),He=n(885),Ge=Object(R.a)((function(e){return{AmountInput:{border:"#272727 2px solid",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"center",position:"relative","& input":{fontFamily:"Gillsans",padding:"0",margin:"0 5px 0 0",fontSize:function(e){return e.fontSize},fontWeight:"bold",border:"none",width:"100%",color:"#30384B"},"& button":{fontFamily:"Gillsans",fontSize:"0.8em",color:"white",background:"#30384B",border:"none",padding:"2px 5px",position:"relative","&[disabled]":{background:"#d4d4d4"},"&>span":{fontFamily:"Helvetica",position:"absolute",transform:"translate(-32px,-16px)",color:"#30384B",fontSize:"10px"}}},amount:{display:"flex",alignItems:"center",justifyContent:"space-between","&>div":{width:"100%","&>div":{"&:before,&:after,&:hover:not(.Mui-disabled):before":{border:"none"}}}},token:{fontFamily:"Gillsans",fontSize:"12px",fontWeight:"bold",color:"#30384B",marginLeft:"2px"},dollar:{color:"#99A8C9",margin:"5px",fontWeight:"bold",fontFamily:"Gillsans",fontSize:"12px"}}})),Ye=Object(We.a)({root:{minHeight:"0"},flexContainer:{margin:"10px 0",height:"25px","&>button":{minHeight:"0",minWidth:"0",padding:"0",marginRight:"15px",border:"none !important",fontFamily:"Helvetica",fontSize:"0.8em",textTransform:"uppercase","&>span":{alignItems:"start"}}},indicator:{display:"none"}})((function(e){var t=Object(r.useState)({}),n=Object(o.a)(t,2),a=n[0],c=n[1];return Object(M.jsx)("div",{style:{position:"relative"},children:Object(M.jsx)(Me.a,Object(s.a)(Object(s.a)({},e),{},{children:e.labels.map((function(t,n){return Object(M.jsx)(He.a,{disableRipple:!0,classes:{selected:Object(R.a)({s:{fontWeight:"bold",color:"#275bff"}})().s},label:Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{style:{verticalAlign:"middle"},children:t}),Object(M.jsx)("img",{onMouseEnter:function(e){return c(Object(d.a)({},n,e.currentTarget))},onMouseLeave:function(){return c({})},alt:"",src:Y,style:{width:"14px",marginLeft:"5px",verticalAlign:"middle"}}),Object(M.jsx)(Xe,{anchorEl:a[n],info:e.info[n]})]})},n)}))}))})})),qe=function(e){var t=e.state,n=e.setState,a=e.title,c=e.max,i=e.maxCondition,l=e.token,u=e.style,p=Object(r.useState)(35),b=Object(o.a)(p,2),j=b[0],x=b[1],f=Ge({fontSize:j}),h=Object(r.useRef)(),m=Object(we.c)().enqueueSnackbar,O=Object(r.useCallback)((function(e){var r=e.target.value,i=t.I[a],o=e.nativeEvent.data;c<parseFloat(r)?m({type:"failed",title:"Fail.",message:"Maximum range exceeded."}):(1===r.length||-1!==i.indexOf("."))&&"."===o||"0"===i&&-1===[".",null].indexOf(o)||["0","1","2","3","4","5","6","7","8","9",".",null].indexOf(o)>-1&&n({I:Object(s.a)(Object(s.a)({},t.I),{},Object(d.a)({},a,r)),old:Object(s.a)(Object(s.a)({},t.old),{},Object(d.a)({},a,i))})}),[t.I,a]);return Object(r.useEffect)((function(){var e=h.current,n=[t.I[a],t.old[a]],r=n[0],c=n[1];if(r.length>(c||"").length){if(e.offsetWidth==e.scrollWidth||j<8)return;x(.8*j)}else if(r.length<(c||"").length){if(e.offsetWidth<e.scrollWidth||j>35)return;x(1.25*j)}}),[j,t.I,a]),Object(M.jsxs)("div",{className:f.AmountInput,style:u,children:[Object(M.jsx)("div",{className:f.amount,children:Object(M.jsx)(fe.a,{value:t.I[a],onChange:O,inputRef:h,placeholder:"0.00",InputProps:{endAdornment:Object(M.jsxs)("button",{onClick:function(){return n({I:Object(s.a)(Object(s.a)({},t.I),{},Object(d.a)({},a,"".concat(c)))})},disabled:!i(),children:["MAX",Object(M.jsx)("span",{children:"balance"})]})}})}),Object(M.jsx)("span",{className:f.token,children:l.symbol}),Object(M.jsxs)("span",{className:f.dollar,children:[" ~$",(Te[l.addr]*t.I[a]).toFixed(3)]})]})};function Ue(e){var t=e.State,n=e.title,a=e.style,c=Object(r.useState)(0),i=Object(o.a)(c,2),s=i[0],l=i[1],d=t.state,u=t.setState,p=t.token,b=t.max,j=t.maxCondition;return Object(r.useMemo)((function(){return Object(M.jsxs)("div",{children:[Object(M.jsx)(Ye,{value:s,onChange:function(e,t){return l(t)},labels:n,info:n.map((function(e){return D[e]}))}),Object(M.jsx)(qe,{title:n[s],token:p[s],maxCondition:j[s],max:b[s],tabs:s,state:d,setState:u,style:a})]})}),[t,s])}var Ve=Object(R.a)((function(e){return{root:{"&>div:first-child":{margin:"10px 0",height:"25px",display:"flex",alignItems:"center","&>span":{fontFamily:"Helvetica",fontSize:"0.8em",verticalAlign:"middle"},"&>img":{marginLeft:"5px",width:"14px",verticalAlign:"middle"}}},AmountShow:{border:"#272727 2px solid",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"center",color:"#30384B",fontFamily:"Gillsans",fontWeight:"bold","&>div":{maxWidth:"calc(50vw - 85.5px)","&>span":{fontSize:"2em"}},"&>span":{fontSize:"12px",marginLeft:"2px"}},dollar:{color:"#99A8C9",margin:"5px"}}}));function $e(e){var t=e.state,n=t.state,a=t.token,c=e.title,i=e.style,s=Ve(),l=Object(r.useState)(null),d=Object(o.a)(l,2),u=d[0],p=d[1];return Object(M.jsxs)("div",{className:s.root,children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{children:c.toUpperCase()}),Object(M.jsx)("img",{onMouseEnter:function(e){return p(e.currentTarget)},onMouseLeave:function(){return p(null)},alt:"",src:Y}),Object(M.jsx)(Xe,{anchorEl:u,info:D[c]})]}),Object(M.jsxs)("div",{className:s.AmountShow,style:i,children:[Object(M.jsx)("div",{children:Object(M.jsx)(le.a,{content:parseFloat(I.a.utils.formatEther(n.output[c])).toFixed(3)})}),Object(M.jsx)("span",{children:a.symbol}),Object(M.jsxs)("span",{className:s.dollar,children:["~$",(Te[a.addr]*I.a.utils.formatEther(n.output[c])).toFixed(3)]})]})]})}var Ze=n(915);Object(R.a)((function(e){return{popover:{pointerEvents:"none",opacity:"0.95"},paper:{overflow:"hidden","&>div":{backgroundColor:"gray",color:"white",padding:"10px",wordBreak:"break-word",maxWidth:"50vw"}}}}));var Ke=Object(R.a)((function(e){return{popover:{pointerEvents:"none",opacity:"0.95"},paper:{overflow:"hidden",boxShadow:"0px 5px 5px -3px rgb(38 111 239 / 10%), 0px 8px 10px 1px rgb(38 111 239 / 8%), 0px 3px 14px 2px rgb(38 111 239 / 60%)","&>div":{backgroundColor:"white",color:"#495EB6",padding:"10px",width:"auto"}}}}));function Xe(e){var t=e.anchorEl,n=e.info,a=Ke();return Object(M.jsx)(Ze.a,{className:a.popover,classes:{paper:a.paper},open:Boolean(t),anchorEl:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object(M.jsx)("div",{style:{fontsize:"Helvetica",whiteSpace:"pre-line"},children:n})})}var Je=Object(R.a)((function(e){return{root:{margin:"-10px 0 10px 0",textAlign:"right",fontFamily:"Helvetica",fontSize:"0.8em","& img":{width:"1em",margin:"0 5px"}}}}));function Qe(e){var t=e.APY,n=e.info,a=Je(),c=Object(r.useState)(null),i=Object(o.a)(c,2),s=i[0],l=i[1],d=n.map((function(e){var t=Object.keys(e)[0];return"".concat(t," = ").concat(e[t])})).join("\n");return Object(M.jsxs)("div",{className:a.root,children:[Object(M.jsxs)("span",{children:["APY = ",t,"%"]}),Object(M.jsx)("img",{onMouseEnter:function(e){return l(e.currentTarget)},onMouseLeave:function(){return l(null)},alt:"",src:Y}),Object(M.jsx)(Xe,{anchorEl:s,info:d})]})}var et=Object(R.a)((function(e){return{root:{margin:"3px",justifyContent:"center"},content:{display:"flex",alignItems:"center",width:"400px",maxWidth:"70vw",height:"auto",padding:"15px",border:"#979797 1px solid",backgroundColor:"rgba(255,255,255,0.9)",boxShadow:"0px 5px 5px -3px rgb(38 111 239 / 10%), 0px 8px 10px 1px rgb(38 111 239 / 8%), 0px 3px 14px 2px rgb(38 111 239 / 10%)","& img":{marginRight:"15px"},"&>div":{display:"flex",flexDirection:"column"}},title:{fontSize:"16px",color:function(e){return e.title},display:function(e){return e.display}},info:{fontSize:"14px",color:function(e){return e.info}}}})),tt={success:te,failed:ne,connecterr:ae,newroundl:re,newroundr:ce,any:ie},nt=Object(r.forwardRef)((function(e,t){var n=e.info,a=n.type,r=n.title,c=n.message,i={title:"#2AC592",info:"#535353",display:"block"};switch(a){case"failed":i.title="#F25757";break;case"connecterr":case"any":i.display="none",i.info="#F25757";break;case"newroundl":case"newroundr":i.display="none",i.info="#2AC592"}var s=et(i);return Object(M.jsx)(we.a,{ref:t,className:s.root,children:Object(M.jsxs)("div",{className:s.content,children:[Object(M.jsx)("img",{alt:"",src:tt[a]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{className:s.title,children:r}),Object(M.jsx)("span",{className:s.info,children:c})]})]})})})),at=Object(We.a)({root:{top:"50px"}})((function(e){var t=e.classes,n=e.children;return Object(M.jsx)(we.b,{maxSnack:3,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},classes:{root:t.root},content:function(e,t){return Object(M.jsx)(nt,{info:t})},children:n})})),rt=Object(We.a)({root:{minHeight:"0",padding:"0 15px",marginRight:"0",boxSizing:"content-box",border:"#c1c1c1 2px solid",borderBottom:"#4c4c4c 2px solid","&>span":{fontFamily:"Gillsans",color:"#fff",alignItems:"start"},"&:first-child":{borderLeft:"#4c4c4c 2px solid"},"&:last-child":{borderRight:"#4c4c4c 2px solid"}},textColorInherit:{opacity:"1"},selected:{backgroundColor:"white",border:"#4c4c4c 2px solid","&>span":{color:"#30384b"}}})((function(e){return Object(M.jsx)(He.a,Object(s.a)({},e))})),ct=Object(We.a)({root:{minHeight:"0"},flexContainer:{height:"35px",backgroundColor:"#c1c1c1"},indicator:{backgroundColor:"#fff",width:"calc(33.33% - 4px) !important",marginLeft:"2px"}})((function(e){return Object(M.jsx)("div",{style:{position:"relative"},children:Object(M.jsx)(Me.a,Object(s.a)(Object(s.a)({},e),{},{variant:"fullWidth",children:e.labels.map((function(e,t){return Object(M.jsx)(rt,{label:e},t)}))}))})})),it=n(916),st=n(886),ot=n(887),lt=n(917),dt=function(e){var t=Object(o.a)(e.timer,3),n=t[0],a=t[1],r=t[2];return Object(M.jsx)("div",{style:{position:"absolute",right:0,top:"-16px",width:"max-content",fontSize:"10px",color:"grey"},children:"".concat(n,"days ").concat(a,"hours ").concat(r,"mints")})},ut=Object(We.a)({root:{backgroundColor:"#EDF2FF",color:"#4975FF",boxShadow:"none",margin:"0 !important",borderRadius:"5px","&>div:first-child":{minHeight:0,height:0},"&>div:last-child div":{padding:"3px",fontSize:"16px",fontFamily:"Helvetica"},"&:before":{background:"none"}}})((function(e){return Object(M.jsxs)(it.a,Object(s.a)(Object(s.a)({},e),{},{expanded:e.expanded,children:[Object(M.jsx)(st.a,{}),Object(M.jsx)(ot.a,{children:e.info})]}))})),pt=Object(We.a)({root:{fontFamily:"Gillsans",minHeight:"0",padding:"0",textTransform:"capitalize",fontWeight:"bold",fontSize:"1.1em",color:"#30384B","&>span":{alignItems:"start"}},textColorInherit:{opacity:"1"},selected:{"&>span":{color:"#275bff"}}})((function(e){return Object(M.jsx)(He.a,Object(s.a)({},e))})),bt=Object(We.a)({root:{minHeight:"0",display:"block"},scroller:{height:"35px"},fixed:{width:"auto"},indicator:{backgroundColor:"#275BFF",height:"5px",width:"20% !important",zIndex:"1"}})((function(e){var t=e.labels,n=e.tabs,a=e.value,c=e.expiry,i=t[n][a],l={};t.forEach((function(e){return e.forEach((function(e){return l[e]=!0}))}));var u=Object(r.useState)(l),p=Object(o.a)(u,2),b=p[0],j=p[1],x=Object(r.useState)(null),f=Object(o.a)(x,2),h=f[0],m=f[1],O=e.round,v=O.round,w=O.setRound,g=function(e){var t=new Date(e)-new Date;return[Math.floor(t/864e5),Math.floor(t%864e5/36e5),Math.floor(t%864e5%36e5/6e4)]}(c),y=Object(R.a)((function(e){return{root:{position:"relative"},button:{position:"absolute",display:"flex",top:"2px",right:0},switch:{transform:"translateY(-8px)"},switchInfo:{color:"#C4C4C4",transform:"translateY(-8px)",display:"flex",alignItems:"center","& img":{width:"14px",marginLeft:"4px"}},expanded:{background:"none",border:"none",padding:0},hr:{position:"absolute",top:"24px",width:"100%",zIndex:"0",borderBottom:"#D8D8D8 1px solid",borderTop:"none"}}}))();return Object(M.jsxs)("div",{className:y.root,children:[Object(M.jsxs)("div",{className:y.button,children:[Object(M.jsx)(lt.a,{className:y.switch,checked:!!v[0],onChange:function(){return w([v[0]?0:1,v[1]])},disabled:v[1]}),Object(M.jsxs)("div",{className:y.switchInfo,children:[Object(M.jsx)("span",{children:"NewRound"}),Object(M.jsx)("img",{onMouseEnter:function(e){return m(e.currentTarget)},onMouseLeave:function(){return m(null)},alt:"",src:Y}),Object(M.jsx)(Xe,{anchorEl:h,info:D.round})]}),Object(M.jsx)(dt,{timer:g})]}),Object(M.jsx)(Me.a,Object(s.a)(Object(s.a)({},e),{},{variant:"standard",children:t[n].map((function(e,t){return Object(M.jsx)(pt,{disableRipple:!0,label:Object(M.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(M.jsx)("span",{children:e}),Object(M.jsx)("img",{onClick:function(){return j(Object(s.a)(Object(s.a)({},b),{},Object(d.a)({},e,!b[e])))},className:y.expanded,style:{margin:"0 6px",width:"30px",display:e===i?"inline":"none",transform:b[e]?"initial":"rotateX(180deg)"},src:$})]})},t)}))})),Object(M.jsx)("hr",{className:y.hr}),Object(M.jsx)(ut,{expanded:b[i],info:D[i]})]})})),jt=n(888),xt=Object(R.a)((function(){return{root:{zIndex:"9997 !important",position:"absolute !important",top:"0 !important",width:"100% !important",height:"100% !important",textAlign:"center !important",backgroundColor:"rgba(0,0,0,0.2) !important","&>div":{marginTop:"40vh !important"}}}}));function ft(){var e=xt();return Object(M.jsx)("div",{className:e.root,children:Object(M.jsx)(jt.a,{color:"primary",size:80})})}var ht=n(410),mt=n.n(ht),Ot=n(420),vt=n(910),wt=n(902),gt=n(903),yt=n(850),Ct=n(170),kt=n(419),Ft=n.n(kt),At=n(889),St=n(890);function Et(e){var t=e.click_address,n=e.click_connect,a=Object(r.useContext)(L).state.signer,c=Object(r.useState)(null),i=Object(o.a)(c,2),s=i[0],l=i[1];return Object(ve.a)(Oe.a.mark((function e(){var t;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}return e.next=3,a.getAddress();case 3:(t=e.sent)!==s&&l(t),e.next=8;break;case 7:null!==s&&l(null);case 8:case"end":return e.stop()}}),e)})))(),s?Object(M.jsx)(At.a,{variant:"outlined",color:"inherit",onClick:t,style:{borderRadius:"0",fontFamily:"Avenir"},children:Object(M.jsx)(vt.a,{textOverflow:"ellipsis",fontFamily:"Monospace",fontWeight:"fontWeightBold",overflow:"hidden",maxWidth:"25vw",children:s})}):a?Object(M.jsx)(vt.a,{width:"25vw",children:Object(M.jsx)(St.a,{color:"secondary"})}):Object(M.jsx)(At.a,{variant:"outlined",color:"inherit",onClick:n,style:{borderRadius:"0",fontFamily:"Avenir"},children:"Connect Wallet"})}var Lt=n(891),Nt=n(892),Dt=n(893),_t=n(894),Bt=n(895),It=n(896),zt=n(200),Tt=n(897),Rt=n(898),Pt=n(899),Wt=n(900),Mt=n(901);function Ht(e){var t=e.open,n=e.onClose,a=e.disconnect,c=Object(r.useState)(null),i=Object(o.a)(c,2),s=i[0],l=i[1],d=Object(r.useState)(null),u=Object(o.a)(d,2),p=u[0],b=u[1],j=Object(r.useContext)(L).state.signer,x=function(){var e=Object(ve.a)(Oe.a.mark((function e(){var t;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=5;break}return e.next=3,j.getAddress();case 3:(t=e.sent)!==s&&l(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(ve.a)(Oe.a.mark((function e(){var t;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=5;break}return e.next=3,j.getBalance();case 3:t=e.sent,null!==p&&t.eq(p)||b(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return x(),f(),Object(M.jsxs)(Lt.a,{fullWidth:!0,open:t,onClose:n,style:{zIndex:"9999"},children:[Object(M.jsx)(Nt.a,{children:"Account"}),Object(M.jsx)(Dt.a,{children:Object(M.jsxs)(_t.a,{children:[Object(M.jsxs)(Bt.a,{children:[s?Object(M.jsx)(vt.a,{fontFamily:"Monospace",textOverflow:"ellipsis",overflow:"hidden",m:1,fontSize:"h6.fontSize",align:"center",children:s}):Object(M.jsx)(vt.a,{width:"100%",children:Object(M.jsx)(St.a,{color:"secondary"})}),Object(M.jsx)(It.a,{component:zt.a,children:Object(M.jsx)(Tt.a,{children:Object(M.jsx)(Rt.a,{children:Object(M.jsxs)(Pt.a,{children:[Object(M.jsx)(Wt.a,{component:"th",scope:"row",children:"ETH Balance"}),Object(M.jsx)(Wt.a,{align:"right",children:p?Object(M.jsx)(Ct.a,{color:"textPrimary",align:"center",component:"code",children:I.a.utils.formatEther(p)}):Object(M.jsx)(vt.a,{width:"100%",children:Object(M.jsx)(St.a,{color:"secondary"})})})]},"address")})})})]}),Object(M.jsxs)(Mt.a,{children:[Object(M.jsx)(At.a,{color:"primary",onClick:function(){return navigator.clipboard.writeText(s)},children:Object(M.jsx)(Ct.a,{noWrap:!0,children:"copy address"})}),Object(M.jsx)(At.a,{color:"primary",href:"https://etherscan.io/address/".concat(s),target:"_blank",children:Object(M.jsx)(Ct.a,{noWrap:!0,children:"view on etherscan"})}),Object(M.jsx)(At.a,{color:"primary",onClick:a,target:"_blank",children:Object(M.jsx)(Ct.a,{noWrap:!0,children:"disconnect"})})]})]})})]})}var Gt=Object(R.a)((function(){return{root:{zIndex:"9999"},appbar:{backgroundColor:"#4975FF"},toolbar:{minHeight:"56px"},"@global":{".web3modal-modal-lightbox":{zIndex:"9999"}}}})),Yt=new mt.a({network:y,cacheProvider:!0,providerOptions:{walletconnect:{package:Ot.a,options:{infuraId:k}}}});function qt(){var e=Gt(),t=Object(r.useContext)(L),n=t.state.menu_open,a=t.setState,c=Object(r.useState)(!1),i=Object(o.a)(c,2),s=i[0],l=i[1],d=Object(we.c)().enqueueSnackbar,u=function(){var e=Object(ve.a)(Oe.a.mark((function e(){var t,n,r,c;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yt.connect();case 2:return t=e.sent,n=new I.a.providers.Web3Provider(t),r=n.getSigner(),e.next=7,n.getNetwork();case 7:if((c=e.sent).chainId===C){e.next=12;break}return d({type:"failed",title:"Fail.",message:"not support this network, chainId: ".concat(c.chainId)}),a({signer:null}),e.abrupt("return");case 12:if(a({signer:r}),t.on){e.next=15;break}return e.abrupt("return");case 15:t.on("disconnect",(function(){Yt.clearCachedProvider(),a({signer:null}),l(!1)})),t.on("accountsChanged",function(){var e=Object(ve.a)(Oe.a.mark((function e(t){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=5;break}return Yt.clearCachedProvider(),a({signer:null}),l(!1),e.abrupt("return");case 5:return e.next=7,u();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.on("chainChanged",function(){var e=Object(ve.a)(Oe.a.mark((function e(t){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===C){e.next=5;break}d({type:"failed",title:"Fail.",message:"not support this network, chainId: ".concat(c.chainId)}),a({signer:null}),e.next=7;break;case 5:return e.next=7,u();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){Yt.cachedProvider&&u()}),[]),Object(M.jsxs)("div",{children:[Object(M.jsx)(vt.a,{className:e.root,overflow:"hidden",children:Object(M.jsx)(wt.a,{position:"static",className:e.appbar,children:Object(M.jsxs)(gt.a,{className:e.toolbar,children:[Object(M.jsx)(vt.a,{maxWidth:"10vw",display:n?"none":"block",children:Object(M.jsx)(yt.a,{color:"inherit",onClick:function(){return a({menu_open:!0})},edge:"start",children:Object(M.jsx)(Ft.a,{})})}),Object(M.jsx)(vt.a,{flexGrow:1,textOverflow:"ellipsis",children:Object(M.jsx)(Ct.a,{variant:"h6",noWrap:!0,style:{fontFamily:"Gill Sans"},children:"Collar"})}),Object(M.jsx)(Et,{click_connect:u,click_address:function(){return l(!0)}})]})})}),Object(M.jsx)(Ht,{disconnect:function(){Yt.clearCachedProvider(),a({signer:null}),l(!1)},open:s,onClose:function(){return l(!1)}})]})}var Ut=n(260),Vt=n(45),$t=n(851),Zt=n(907),Kt=n(908),Xt=n(909),Jt=n(884),Qt=I.a.constants.Zero,en={input:{bond:Qt},output:{want:Qt},tip:{fee:"0.0000",min:"0.000",slip:"0.00"},I:{bond:""},old:{bond:""}},tn=function(e){return I.a.utils.formatEther(e)};function nn(){var e=Object(r.useContext)(L).state.signer,t=Object(r.useContext)(N),n=t.liteState,a=n.pool,c=n.bond,i=n.want,l=n.data,d=n.controller,u=t.classesChild,p=(t.setLiteState,t.handleClick);en.tip.apy=l.apy.toPrecision(3);var b=Object(r.useReducer)((function(e,t){return Object(s.a)(Object(s.a)({},e),t)}),en),j=Object(o.a)(b,2),x=j[0],f=j[1];return Object(r.useEffect)((function(){return x==en||f(en)}),[a]),Object(r.useEffect)((function(){e&&!Qt.eq(l.swap.sk)&&Object(ve.a)(Oe.a.mark((function e(){var t,n,r;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=I.a.utils.parseUnits(x.I.bond||"0",18)).eq(x.input.bond)){e.next=7;break}return e.next=4,d.ct(a.addr).get_dy(t);case 4:n=e.sent,r={fee:(tn(n)*(1-tn(l.swap.fee))).toFixed(4),min:(.995*tn(n)).toFixed(3),slip:d.calc_slip(l,[t,null],a).toPrecision(3),apy:l.apy.toPrecision(3)},f({input:{bond:t},output:{want:n},tip:r});case 7:case"end":return e.stop()}}),e)})))()}),[x]),Object(r.useMemo)((function(){return Object(M.jsxs)("div",{className:u.root,children:[Object(M.jsxs)("div",{className:u.amount,children:[Object(M.jsx)("div",{children:Object(M.jsx)(Pe,{title:"bond",State:{state:x,setState:f,token:c,max:parseFloat(tn(l.balance.bond)),maxCondition:function(){return l.allowance.bond.gt("100000000000000000000000000000000")}},style:{height:"90px"}})}),Object(M.jsx)("img",{alt:"",src:V,className:u.icon}),Object(M.jsx)("div",{children:Object(M.jsx)($e,{title:"want",state:{state:x,token:i},style:{height:"90px"}})})]}),Object(M.jsx)(Qe,{APY:x.tip.apy,info:[{"Slippage tolerance":"".concat(x.tip.slip," %")},{"Minimum recieved":"".concat(x.tip.min)},{Route:"".concat(c.symbol," -> COLL -> ").concat(i.symbol)},{"Nominal swap fee":"".concat(x.tip.fee," ").concat(i.symbol)}]}),Object(M.jsx)("div",{className:u.buttonOne,children:Object(M.jsxs)("div",{children:[Object(M.jsx)(G,{name:"Approve",onClick:function(){return p("approve")(c.addr)}}),Object(M.jsx)(G,{name:"Deposit & Borrow",onClick:function(){return p("borrow")(x.input.bond,x.output.want)}})]})})]})}),[x,l])}var an=I.a.constants.Zero,rn={input:{want:an,coll:an},output:{bond:an},tip:{fee:"0.0000",min:"0.000",slip:"0.00"},I:{want:"",coll:""},old:{want:"",coll:""}},cn=function(e){return I.a.utils.formatEther(e)};function sn(){var e=Object(r.useContext)(L).state.signer,t=Object(r.useContext)(N),n=t.liteState,a=n.bond,c=n.want,i=n.coll,l=n.pool,d=n.data,u=n.controller,p=t.classesChild,b=(t.setLiteState,t.handleClick);rn.tip.apy=d.apy.toPrecision(3);var j=Object(r.useReducer)((function(e,t){return Object(s.a)(Object(s.a)({},e),t)}),rn),x=Object(o.a)(j,2),f=x[0],h=x[1];return Object(r.useEffect)((function(){return f==rn||h(rn)}),[l]),Object(r.useEffect)((function(){e&&!an.eq(d.swap.sk)&&Object(ve.a)(Oe.a.mark((function e(){var t,n,a,r;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=I.a.utils.parseUnits(f.I.want||"0",18),n=I.a.utils.parseUnits(f.I.coll||"0",18),t.eq(f.input.want)&&n.eq(f.input.coll)||(a=t.add(n),r={fee:(cn(t)*(1-cn(d.swap.fee))).toFixed(4),min:(.995*cn(a)).toFixed(3),slip:u.calc_slip(d,[a,null],l).toPrecision(3),apy:d.apy.toPrecision(3)},h({input:{want:t,coll:n},output:{bond:a},tip:r}));case 3:case"end":return e.stop()}}),e)})))()}),[f]),Object(r.useMemo)((function(){return Object(M.jsxs)("div",{className:p.root,children:[Object(M.jsxs)("div",{className:p.amount,children:[Object(M.jsx)("div",{children:Object(M.jsx)(Ue,{title:["want","coll"],State:{state:f,setState:h,token:[c,i],max:[Math.min(parseFloat(cn(d.balance.call)),parseFloat(cn(d.balance.want))),Math.min(parseFloat(cn(d.balance.call)),parseFloat(cn(d.balance.coll)))],maxCondition:[function(){return d.allowance.want.gt("100000000000000000000000000000000")},function(){return d.balance.coll.gt("0")}]},style:{height:"90px"}})}),Object(M.jsx)("img",{alt:"",src:V,className:p.icon}),Object(M.jsx)("div",{children:Object(M.jsx)($e,{title:"bond",state:{state:f,token:a},style:{height:"90px"}})})]}),Object(M.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(M.jsxs)("div",{style:{margin:"-8px 0 8px 0",fontFamily:"Helvetica",fontSize:"0.8em"},children:["Maximum debt = ",cn(d.balance.call)]}),Object(M.jsx)(Qe,{APY:f.tip.apy,info:[{"Slippage tolerance":"".concat(f.tip.slip," %")},{"Minimum recieved":"".concat(f.tip.min," ").concat(a.symbol)},{Route:"COLL-> ".concat(a.symbol," / ").concat(c.symbol,"->").concat(a.symbol)},{"Nominal swap fee":"".concat(f.tip.fee," ").concat(c.symbol," ")}]})]}),Object(M.jsx)("div",{className:p.buttonOne,children:Object(M.jsxs)("div",{children:[Object(M.jsx)(G,{name:"Approve",onClick:function(){return b("approve")(c.addr)}}),Object(M.jsx)(G,{name:"Repay",onClick:function(){return b("repay")(f.input.want,f.input.coll)}})]})})]})}),[f,d])}var on=I.a.constants.Zero,ln={input:{want:on,coll:on},output:{clpt:on},tip:{share:"0.000",poolBalance:"0.00",slip:"0.00"},I:{want:"",coll:""},old:{want:"",coll:""}},dn=function(e){return I.a.utils.formatEther(e)};function un(){var e=Object(r.useContext)(L).state.signer,t=Object(r.useContext)(N),n=t.liteState,a=(n.bond,n.want),c=n.coll,i=n.pool,l=n.data,d=n.controller,u=t.classesChild,p=(t.setLiteState,t.handleClick),b=Object(r.useReducer)((function(e,t){return Object(s.a)(Object(s.a)({},e),t)}),ln),j=Object(o.a)(b,2),x=j[0],f=j[1];return Object(r.useEffect)((function(){return x==ln||f(ln)}),[i]),Object(r.useEffect)((function(){e&&!on.eq(l.swap.sk)&&Object(ve.a)(Oe.a.mark((function e(){var t,n,a,r;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=I.a.utils.parseUnits(x.I.want||"0",18),n=I.a.utils.parseUnits(x.I.coll||"0",18),t.eq(x.input.want)&&n.eq(x.input.coll)){e.next=8;break}return e.next=5,d.ct(i.addr).get_dk(n,t);case 5:a=e.sent,r={poolBalance:(dn(l.swap.sx)/dn(l.swap.sy)).toPrecision(3),share:(dn(l.balance.clpt)/dn(l.swap.sk)*100).toPrecision(3),slip:d.calc_slip(l,[n,t],i).toPrecision(3)},f({input:{want:t,coll:n},output:{clpt:a},tip:r});case 8:case"end":return e.stop()}}),e)})))()}),[x]),Object(r.useMemo)((function(){return Object(M.jsxs)("div",{className:u.root,children:[Object(M.jsxs)("div",{className:u.amount,children:[Object(M.jsxs)("div",{children:[Object(M.jsx)(Pe,{title:"want",State:{state:x,setState:f,token:a,max:parseFloat(dn(l.balance.want)),maxCondition:function(){return l.allowance.want.gt("100000000000000000000000000000000")}},style:{height:"90px"}}),Object(M.jsx)(Pe,{title:"coll",State:{state:x,setState:f,token:c,max:parseFloat(dn(l.balance.coll)),maxCondition:function(){return l.balance.coll.gt("0")}},style:{height:"90px"}})]}),Object(M.jsx)("img",{alt:"",src:V,className:u.icon}),Object(M.jsx)("div",{children:Object(M.jsx)($e,{title:"clpt",state:{state:x,token:i},style:{height:"249px"}})})]}),Object(M.jsx)(Qe,{APY:"todo",info:[{"Share of Pool":"".concat(x.tip.share," %")},{"Pool Balance":"1 ".concat(a.symbol," = ").concat(x.tip.poolBalance," COLL")},{"Slippage tolerance":"".concat(x.tip.slip," %")}]}),Object(M.jsxs)("div",{className:u.buttonTwo,children:[Object(M.jsxs)("div",{children:[Object(M.jsx)(G,{name:"Approve",onClick:function(){return p("approve")(a.addr)}}),Object(M.jsx)(G,{name:"Deposit",onClick:function(){return p("deposit")(x.input.want,x.input.coll,x.output.clpt)}})]}),Object(M.jsx)("div",{children:Object(M.jsx)(G,{name:"Claim",onClick:function(){return p("claim")()}})})]})]})}),[x,l])}var pn=I.a.constants.Zero,bn={input:{clpt:pn},output:{want:pn,coll:pn},tip:{share:"0.000",poolBalance:"0.00",fee:"0.0000",rate:{coll:0,want:0}},I:{clpt:""},old:{clpt:""}},jn=function(e){return I.a.utils.formatEther(e)};function xn(){var e=Object(r.useContext)(L).state.signer,t=Object(r.useContext)(N),n=t.liteState,a=(n.bond,n.want),c=n.coll,i=n.pool,l=n.data,d=n.controller,u=t.classesChild,p=(t.setLiteState,t.handleClick),b=Object(r.useReducer)((function(e,t){return Object(s.a)(Object(s.a)({},e),t)}),bn),j=Object(o.a)(b,2),x=j[0],f=j[1];return Object(r.useEffect)((function(){return x==bn||f(bn)}),[i]),Object(r.useEffect)((function(){e&&!pn.eq(l.swap.sk)&&Object(ve.a)(Oe.a.mark((function e(){var t,n,a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=I.a.utils.parseUnits(x.I.clpt||"0",18)).eq(x.input.clpt)){e.next=7;break}return e.next=4,d.ct(i.addr).get_dxdy(t);case 4:n=e.sent,a={poolBalance:(jn(l.swap.sx)/jn(l.swap.sy)).toPrecision(3),share:(jn(l.balance.clpt)/jn(l.swap.sk)*100).toPrecision(3),rate:{coll:t.eq(pn)?0:parseFloat(jn(n[0])/x.I.clpt).toPrecision(3),want:t.eq(pn)?0:parseFloat(jn(n[1])/x.I.clpt).toPrecision(3)},fee:(jn(n[0])*(1-jn(l.swap.fee))).toFixed(4)},f({input:{clpt:t},output:{coll:n[0],want:n[1]},tip:a});case 7:case"end":return e.stop()}}),e)})))()}),[x]),Object(r.useMemo)((function(){return Object(M.jsxs)("div",{className:u.root,children:[Object(M.jsxs)("div",{className:u.amount,children:[Object(M.jsx)("div",{children:Object(M.jsx)(Pe,{title:"clpt",State:{state:x,setState:f,token:i,max:parseFloat(jn(l.balance.clpt)),maxCondition:function(){return l.balance.clpt.gt("0")}},style:{height:"249px"}})}),Object(M.jsx)("img",{alt:"",src:V,className:u.icon}),Object(M.jsxs)("div",{children:[Object(M.jsx)($e,{title:"want",state:{state:x,token:a},style:{height:"90px"}}),Object(M.jsx)($e,{title:"coll",state:{state:x,token:c},style:{height:"90px"}})]})]}),Object(M.jsx)(Qe,{APY:"todo",info:[{"Exchange Rate":"1CLPT = ".concat(x.tip.rate.want," ").concat(a.symbol," + ").concat(x.tip.rate.coll," COLL")},{"Share of Pool":"".concat(x.tip.share," %")},{"Pool Balance":"1 ".concat(a.symbol," = ").concat(x.tip.poolBalance," COLL")},{"Nominal swap fee":"".concat(x.tip.fee," COLL")}]}),Object(M.jsxs)("div",{className:u.buttonTwo,children:[Object(M.jsxs)("div",{children:[Object(M.jsx)(G,{name:"Withdraw",onClick:function(){return p("withdraw")(x.input.clpt)}}),Object(M.jsx)(G,{name:"Claim",onClick:function(){return p("claim")()}})]}),Object(M.jsx)("div",{children:Object(M.jsx)(G,{name:"Withdraw & Claim",onClick:function(){return p("burn_and_claim")(x.input.clpt)}})})]})]})}),[x,l])}var fn=I.a.constants.Zero,hn={input:{want:fn},output:{coll:fn},tip:{fee:"0.0000",min:"0.000",slip:"0.00"},I:{want:""},old:{want:""}},mn=function(e){return I.a.utils.formatEther(e)};function On(){var e=Object(r.useContext)(L).state.signer,t=Object(r.useContext)(N),n=t.liteState,a=(n.bond,n.want),c=n.coll,i=n.pool,l=n.data,d=n.controller,u=t.classesChild,p=(t.setLiteState,t.handleClick);hn.tip.apy=l.apy.toPrecision(3);var b=Object(r.useReducer)((function(e,t){return Object(s.a)(Object(s.a)({},e),t)}),hn),j=Object(o.a)(b,2),x=j[0],f=j[1];return Object(r.useEffect)((function(){return x==hn||f(hn)}),[i]),Object(r.useEffect)((function(){e&&!fn.eq(l.swap.sk)&&Object(ve.a)(Oe.a.mark((function e(){var t,n,a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=I.a.utils.parseUnits(x.I.want||"0",18)).eq(x.input.want)){e.next=7;break}return e.next=4,d.ct(i.addr).get_dx(t);case 4:n=e.sent,a={fee:(mn(n)*(1-mn(l.swap.fee))).toFixed(4),min:(.995*mn(n)).toFixed(3),slip:d.calc_slip(l,[null,t],i).toPrecision(3),apy:l.apy.toPrecision(3)},f({input:{want:t},output:{coll:n},tip:a});case 7:case"end":return e.stop()}}),e)})))()}),[x]),Object(r.useMemo)((function(){return Object(M.jsxs)("div",{className:u.root,children:[Object(M.jsxs)("div",{className:u.amount,children:[Object(M.jsx)("div",{children:Object(M.jsx)(Pe,{title:"want",State:{state:x,setState:f,token:a,max:parseFloat(mn(l.balance.want)),maxCondition:function(){return l.allowance.want.gt("100000000000000000000000000000000")}},style:{height:"90px"}})}),Object(M.jsx)("img",{alt:"",src:V,className:u.icon}),Object(M.jsx)("div",{children:Object(M.jsx)($e,{title:"coll",state:{state:x,token:c},style:{height:"90px"}})})]}),Object(M.jsx)(Qe,{APY:x.tip.apy,info:[{"Slippage tolerance":"".concat(x.tip.slip," %")},{"Minimum recieved":"".concat(x.tip.min," COLL")},{Route:"".concat(a.symbol," -> COLL")},{"Nominal swap fee":"".concat(x.tip.fee," COLL")}]}),Object(M.jsx)("div",{className:u.buttonOne,children:Object(M.jsxs)("div",{children:[Object(M.jsx)(G,{name:"Approve",onClick:function(){return p("approve")(a.addr)}}),Object(M.jsx)(G,{name:"Lend",onClick:function(){return p("lend")(x.input.want,x.output.coll)}})]})})]})}),[x,l])}var vn=I.a.constants.Zero,wn={input:{coll:vn},output:{want:vn},tip:{fee:"0.0000",min:"0.000",slip:"0.00"},I:{coll:""},old:{coll:""}},gn=function(e){return I.a.utils.formatEther(e)};function yn(){var e=Object(r.useContext)(L).state.signer,t=Object(r.useContext)(N),n=t.liteState,a=(n.bond,n.want),c=n.coll,i=n.pool,l=n.data,d=n.controller,u=t.classesChild,p=(t.setLiteState,t.handleClick);wn.tip.apy=l.apy.toPrecision(3);var b=Object(r.useReducer)((function(e,t){return Object(s.a)(Object(s.a)({},e),t)}),wn),j=Object(o.a)(b,2),x=j[0],f=j[1];return Object(r.useEffect)((function(){return x==wn||f(wn)}),[i]),Object(r.useEffect)((function(){e&&!vn.eq(l.swap.sk)&&Object(ve.a)(Oe.a.mark((function e(){var t,n,a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=I.a.utils.parseUnits(x.I.coll||"0",18)).eq(x.input.coll)){e.next=7;break}return e.next=4,d.ct(i.addr).get_dy(t);case 4:n=e.sent,a={fee:(gn(n)*(1-gn(l.swap.fee))).toFixed(4),min:(.995*gn(n)).toFixed(3),slip:d.calc_slip(l,[null,n],i).toPrecision(3),apy:l.apy.toPrecision(3)},f({input:{coll:t},output:{want:n},tip:a});case 7:case"end":return e.stop()}}),e)})))()}),[x]),Object(r.useMemo)((function(){return Object(M.jsxs)("div",{className:u.root,children:[Object(M.jsxs)("div",{className:u.amount,children:[Object(M.jsx)("div",{children:Object(M.jsx)(Pe,{title:"coll",State:{state:x,setState:f,token:c,max:parseFloat(gn(l.balance.coll)),maxCondition:function(){return l.balance.coll.gt("0")}},style:{height:"90px"}})}),Object(M.jsx)("img",{alt:"",src:V,className:u.icon}),Object(M.jsx)("div",{children:Object(M.jsx)($e,{title:"want",state:{state:x,token:a},style:{height:"90px"}})})]}),Object(M.jsx)(Qe,{APY:x.tip.apy,info:[{"Slippage tolerance":"".concat(x.tip.slip," %")},{"Minimum recieved":"".concat(x.tip.min," ").concat(a.symbol)},{Route:"COLL -> ".concat(a.symbol)},{"Nominal swap fee":"".concat(x.tip.fee," ").concat(a.symbol," ")}]}),Object(M.jsx)("div",{className:u.buttonOne,children:Object(M.jsxs)("div",{children:[Object(M.jsx)(G,{name:"Approve",onClick:function(){return alert("Not necessary")}}),Object(M.jsx)(G,{name:"Exit",onClick:function(){return p("redeem")(x.output.want,x.input.coll)}})]})})]})}),[x,l])}var Cn=Object(R.a)((function(e){return{root:{marginTop:"-10px",display:"flex",background:"none !important",flexDirection:"column","&>div":{display:"flex",justifyContent:"space-between","&>div":{width:"calc(50% - 10px)"}}}}})),kn=function(e){return I.a.utils.formatEther(e)};function Fn(){var e=Cn(),t=(Object(r.useContext)(L).state.signer,Object(r.useContext)(N)),n=t.liteState,a=n.forceUpdate,c=n.pool,i=n.bond,s=n.want,l=n.data,d=n.controller,u=t.setLiteState,p=Object(r.useState)({}),b=Object(o.a)(p,2),j=b[0],x=b[1];return Object(r.useEffect)((function(){d&&Object(ve.a)(Oe.a.mark((function e(){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,d.fetch_state(c);case 3:e.t1=e.sent,e.t2={data:e.t1},(0,e.t0)(e.t2),x({});case 7:case"end":return e.stop()}}),e)})))()}),[a]),Object(r.useMemo)((function(){return Object(M.jsxs)("div",{className:e.root,children:[Object(M.jsxs)("div",{children:[Object(M.jsx)(ue,{token:i.symbol,status:l.allowance.bond.gt("100000000000000000000000000000000")?"APPROVED":"NOT APPROVED",amount:kn(l.balance.bond)}),Object(M.jsx)(ue,{token:s.symbol,status:l.allowance.want.gt("100000000000000000000000000000000")?"APPROVED":"NOT APPROVED",amount:kn(l.balance.want)})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)(ue,{token:"CALL",status:"TOTAL BORROWED",amount:kn(l.balance.call)}),Object(M.jsx)(ue,{token:"COLL",status:"TOTAL LENT",amount:kn(l.balance.coll)})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)(ue,{token:"CLPT",status:"LP TOKEN",amount:kn(l.balance.clpt)}),Object(M.jsx)(ue,{token:"COLLAR",status:"".concat(parseFloat(kn(l.earned.collar)).toFixed(4)," EARNED"),amount:kn(l.balance.collar)})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)(be,{title:"Interest Rate",data:"".concat(parseFloat(l.apy).toFixed(2)," %"),info:"FOR BOTH LENDING AND BORROWING"}),Object(M.jsx)(be,{title:"Farm APY",data:"---",info:"---"})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)(be,{title:"Expiry",data:new Date(1e3*c.expiry_time).toLocaleString(),info:"REPAY BEFORE THIS TIME",styles:{color:"#FF5C5C"},noHr:!0}),Object(M.jsx)(xe,{title:"Nominal swap fee",data1:"0.01% for Borrow, Withdraw, Lend and Redeem",data2:"0% for Repay and Deposit",noHr:!0})]})]})}),[l,j])}var An=n(883),Sn=n(912),En=n(904),Ln=n(259),Nn=n.n(Ln),Dn=Object(R.a)((function(e){return{root:{},formControlTitle:{fontFamily:"Helvetica",fontSize:"0.8em",display:"block",margin:"10px 0",color:"#30384B"},formControlList:{display:"flex",justifyContent:"space-between","&>div":{backgroundColor:"#F4F4F4","&>div":{lineHeight:"unset"},"&>div::before":{border:"none"}}},formControl:{width:"50%","& span":{fontFamily:"Gillsans"}},icon:{margin:"0 10px"},select:{"&>div":{"& span,& img":{verticalAlign:"middle"}}}}}));function _n(){var e=Dn(),t=Object(r.useContext)(N),n=t.liteState,a=n.bond,c=n.want,i=n.round,s=t.setLiteState,l=function(e,t){var n=O["".concat(e,"-").concat(t,"-").concat(i[0])],a=n?[n,i]:[O["".concat(e,"-").concat(t,"-0")],[0,!0]],r=Object(o.a)(a,2),c=r[0],l=r[1],d=c.bond,u=c.want,p=c.coll;s({pool:c,bond:d,want:u,coll:p,round:l})};return Object(r.useMemo)((function(){return Object(M.jsxs)("div",{className:e.root,children:[Object(M.jsx)("span",{className:e.formControlTitle,children:"Selector Pair"}),Object(M.jsxs)("div",{className:e.formControlList,children:[Object(M.jsx)(An.a,{className:e.formControl,children:Object(M.jsx)(Sn.a,{value:a.addr,onChange:function(e){var t=e.target.value;return l(t,v[t][0].addr)},className:e.select,IconComponent:Nn.a,children:w.map((function(t){var n=t.addr,a=t.icon,r=t.symbol;return Object(M.jsxs)(En.a,{value:n,children:[Object(M.jsx)("img",{alt:"",src:a,className:e.icon,style:{width:"20px"}}),Object(M.jsx)("span",{style:{fontFamily:"Gillsans"},children:r})]},n)}))})}),Object(M.jsx)("img",{alt:"",src:V,className:e.icon}),Object(M.jsx)(An.a,{className:e.formControl,children:Object(M.jsx)(Sn.a,{value:c.addr,onChange:function(e){var t=e.target.value;return l(a.addr,t)},className:e.select,IconComponent:Nn.a,children:v[a.addr].map((function(t){var n=t.addr,a=t.icon,r=t.symbol;return Object(M.jsxs)(En.a,{value:n,children:[Object(M.jsx)("img",{alt:"",src:a,className:e.icon,style:{width:"20px"}}),Object(M.jsx)("span",{style:{fontFamily:"Gillsans"},children:r})]},n)}))})})]})]})}),[a,c,i])}var Bn=Object(R.a)((function(e){return{root:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center","&>div":{position:"relative",backgroundColor:"white","&:first-child":{zIndex:"4",margin:"20px 20px 0 20px"},"&:nth-child(2)":{zIndex:"2",transform:"translateY(-13px)",boxSizing:"border-box",border:"#4C4C4C 2px solid",height:"20px",width:"calc(100% - 60px)"},"&:nth-child(3)":{zIndex:"1",transform:"translateY(-26px)",boxSizing:"border-box",border:"#4C4C4C 2px solid",height:"20px",width:"calc(100% - 80px)"},"@media screen and (max-width:960px)":{width:"calc(100% - 40px)"},"@media screen and (min-width:960px)":{width:"900px","&:nth-child(2)":{width:"880px"},"&:nth-child(3)":{width:"860px"}}}},content:{zIndex:"3",position:"relative",backgroundColor:"white",border:"#4C4C4C 2px solid",borderTop:"none",padding:"15px"}}})),In=Object(R.a)((function(e){return{root:{},amount:{display:"flex",justifyContent:"space-between",marginBottom:"15px","&>div":{width:"50%"},"&>img":{marginTop:"40px"}},icon:{margin:"0 10px"},buttonOne:{display:"flex",flexDirection:"column","&>div":{display:"flex",justifyContent:"space-between","&>button":{width:"calc(50% - 15px)"}}},buttonTwo:{display:"flex",justifyContent:"space-between","&>div":{width:"calc(50% - 15px)",display:"flex",flexDirection:"column","&>button":{"&:first-child":{marginBottom:"15px"}},"@media screen and (min-width:960px)":{"&:first-child":{flexDirection:"row",justifyContent:"space-between","&>button":{width:"calc(50% - 10px)",marginBottom:"0 !important"}},"&:last-child":{"&>button":{width:"100%",marginBottom:"0 !important"}}}}}}})),zn=I.a.constants.Zero,Tn={balance:{bond:zn,want:zn,call:zn,coll:zn,clpt:zn,collar:zn},allowance:{bond:zn,want:zn},earned:{collar:zn},swap:{sx:zn,sy:zn,sk:zn},apy:0};function Rn(){var e=Bn(),t=In(),n=ze(),a=Object(r.useContext)(L).state.signer,c=Object(r.useState)(!1),i=Object(o.a)(c,2),l=i[0],d=i[1],u=Object(r.useReducer)((function(e,t){return Object(s.a)(Object(s.a)({},e),t)}),{tabs:0,tabsChild:0,round:[0,!0],pool:E[0].r1,coll:E[0].r1.coll,bond:E[0].r1.bond,want:E[0].r1.want,data:Tn,controller:null,forceUpdate:{}}),p=Object(o.a)(u,2),b=p[0],j=p[1],x=b.tabs,f=b.tabsChild,h=b.pool,m=b.data,v=b.round,w=b.controller,g=function(e){return Object(ve.a)(Oe.a.mark((function t(){var a,r=arguments;return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!w){t.next=7;break}return t.next=3,(a=w[e]).call.apply(a,[null].concat(Array.prototype.slice.call(r),[h]));case 3:if(!t.sent){t.next=5;break}j({forceUpdate:{}});case 5:t.next=8;break;case 7:n();case 8:case"end":return t.stop()}}),t)})))},y=["LOAN","FARM","SWAP"],C=[["Borrow","Repay"],["Deposit","Withdraw"],["Lend","Exit"]],k=[[nn,sn],[un,xn],[On,yn]][x][f];return Object(r.useEffect)((function(){var e="".concat(h.bond.addr,"-").concat(h.want.addr);j({pool:O["".concat(e,"-").concat(v[0])]})}),[v[0]]),Object(r.useEffect)((function(){a?Object(ve.a)(Oe.a.mark((function e(){var t,r,c,i;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),t=n(a),r="".concat(h.bond.addr,"-").concat(h.want.addr),c=!O["".concat(r,"-1")],e.next=6,t.fetch_state(h);case 6:i=e.sent,j({controller:t,data:i,round:[c?0:v[0],c]}),d(!1);case 9:case"end":return e.stop()}}),e)})))():m!==Tn&&j({data:Tn,controller:null,round:[0,!0]})}),[a,h]),Object(r.useMemo)((function(){return Object(M.jsx)(N.Provider,{value:{liteState:b,setLiteState:j,handleClick:g,classesChild:t},children:Object(M.jsxs)("div",{className:e.root,children:[Object(M.jsxs)("div",{children:[Object(M.jsx)(ct,{value:x,onChange:function(e,t){return j({tabs:t,tabsChild:0})},labels:y}),Object(M.jsxs)("div",{className:e.content,children:[Object(M.jsx)(bt,{tabs:x,value:f,labels:C,onChange:function(e,t){return j({tabsChild:t})},round:{round:v,setRound:function(e){return j({round:e})}},expiry:1e3*h.expiry_time}),Object(M.jsx)(_n,{}),Object(M.jsx)(k,{})]})]}),Object(M.jsx)("div",{}),Object(M.jsx)("div",{}),Object(M.jsx)(Fn,{}),l&&Object(M.jsx)(ft,{})]})})}),[b,l])}var Pn=Object(R.a)({root:{position:"relative",paddingTop:"30px",height:"inherit"},mypage:{display:"flex",flexDirection:"column",margin:"auto","@media screen and (max-width:960px)":{width:"calc(100% - 40px)",padding:"0 20px"},"@media screen and (min-width:960px)":{width:"900px"}}}),Wn={pools:[],total:{totalValueLocked:0,totalBorrowed:0,totalCollateral:0,outstandingDebt:0,depostBalance:0,receivables:0,rewards:0},timer:(new Date).getTime()};function Mn(){var e=Pn(),t=Object(r.useContext)(L).state.signer,n=ze()(t,!0),a=Object(r.useState)(!1),c=Object(o.a)(a,2),i=c[0],l=c[1],d=Object(r.useState)({}),u=Object(o.a)(d,2),p=u[0],b=u[1],j=Object(r.useState)(Wn),x=Object(o.a)(j,2),f=x[0],h=x[1],m=f.pools,O=f.total,v=function(){var e=Object(ve.a)(Oe.a.mark((function e(t,a){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n[t](a);case 2:if(!e.sent){e.next=4;break}b({});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){t?Object(ve.a)(Oe.a.mark((function e(){var t,a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,n.mypage_data();case 3:t=e.sent,a=Object(s.a)({},Wn.total),t.forEach((function(e){var t=e.pool,n=e.coll_total,r=e.want_total,c=e.bond_total,i=e.call,s=e.receivables,o=e.earned,l=function(e){return Te[t[e].addr]};a.totalValueLocked+=n*l("coll")+r*l("want")+c*l("bond"),a.totalBorrowed+=n*l("coll"),a.totalCollateral+=c*l("bond"),a.outstandingDebt+=i*l("want"),a.depostBalance+=i*l("bond"),a.receivables+=s,a.rewards+=o*Te.COLLAR})),h({pools:t,total:a,timer:(new Date).getTime()}),l(!1);case 8:case"end":return e.stop()}}),e)})))():Object(ve.a)(Oe.a.mark((function e(){var t,a,r;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),t=(new Date).getTime(),e.next=4,n.mypage_data_noaccount();case 4:a=e.sent,r=Object(s.a)({},Wn.total),a.forEach((function(e){var t=e.pool,n=e.coll_total,a=e.want_total,c=e.bond_total,i=function(e){return Te[t[e].addr]};r.totalValueLocked+=n*i("coll")+a*i("want")+c*i("bond"),r.totalBorrowed+=n*i("coll"),r.totalCollateral+=c*i("bond")})),h((function(e){return t>e.timer?(l(!1),{pools:[],total:r,timer:(new Date).getTime()}):e}));case 8:case"end":return e.stop()}}),e)})))()}),[t,p]),Object(r.useMemo)((function(){return Object(M.jsxs)("div",{className:e.root,children:[Object(M.jsxs)("div",{className:e.mypage,children:[Object(M.jsx)(Un,Object(s.a)(Object(s.a)({},O),{},{signer:t})),Object(M.jsx)(Qn,Object(s.a)(Object(s.a)({},O),{},{signer:t})),Object(M.jsx)(va,{pools:m,handleClick:v,signer:t})]}),i&&Object(M.jsx)(ft,{})]})}),[f,i])}var Hn=Object(R.a)({root:{color:"white",fontFamily:"Gillsans","&>hr":{border:"#3B54A0 1px solid",width:"100%",margin:"20px 0"}},header:{display:"flex",alignItems:"center",fontSize:"25px",marginBottom:"20px","&>img":{width:"20px",marginRight:"5px"}},data:{display:"flex","@media screen and (max-width:960px)":{justifyContent:"space-between"},"@media screen and (min-width:960px)":{flexDirection:"column"}},totalValue:{display:"flex",flexDirection:"column",marginBottom:"20px","&>div:first-child":{fontSize:"20px",display:"flex",alignItems:"center",marginBottom:"5px","&>span":{color:"#7B96EB",marginRight:"5px"},"&>img":{width:"16px"}},"&>div:last-child":{fontSize:"30px"}},globalValue:{display:"flex","@media screen and (max-width:960px)":{width:"40%",flexDirection:"column"},"@media screen and (min-width:960px)":{justifyContent:"space-between"}},globalValueInfo:{"@media screen and (max-width:960px)":{marginBottom:"10px"},"@media screen and (min-width:960px)":{width:"48%"},"&>div:first-child span":{fontSize:"20px",color:"#7B96EB",marginBottom:"5px"},"&>div:last-child":{display:"flex",alignItems:"center",backgroundColor:"#111C3C",padding:"5px 10px"}}}),Gn=3,Yn=3,qn=3;function Un(e){var t=e.totalValueLocked,n=e.totalBorrowed,a=e.totalCollateral,c=e.signer,i=Hn(),s=Object(r.useState)(null),l=Object(o.a)(s,2),d=l[0],u=l[1];return Object(M.jsxs)("div",{className:i.root,style:{height:c?"100%":"calc(100vh)"},children:[Object(M.jsxs)("div",{className:i.header,children:[Object(M.jsx)("img",{src:ee,alt:""}),Object(M.jsx)("span",{children:"Global"})]}),Object(M.jsxs)("div",{className:i.data,children:[Object(M.jsxs)("div",{className:i.totalValue,children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{children:"Total Value Locked"}),Object(M.jsx)("img",{src:Y,alt:"",onMouseEnter:function(e){var t=e.currentTarget;return u(t)},onMouseLeave:function(){return u(null)}}),Object(M.jsx)(Xe,{anchorEl:d,info:D.TotalValueLocked})]}),Object(M.jsxs)("div",{children:["$ ",parseFloat(t||0).toFixed(Gn)]})]}),Object(M.jsxs)("div",{className:i.globalValue,children:[Object(M.jsxs)("div",{className:i.globalValueInfo,children:[Object(M.jsx)("div",{children:Object(M.jsx)(le.a,{content:"Total Borrowed"})}),Object(M.jsx)("div",{children:Object(M.jsx)(le.a,{content:"$ ".concat(parseFloat(n||0).toFixed(Yn))})})]}),Object(M.jsxs)("div",{className:i.globalValueInfo,children:[Object(M.jsx)("div",{children:Object(M.jsx)(le.a,{content:"Total Collateral"})}),Object(M.jsx)("div",{children:Object(M.jsx)(le.a,{content:"$ ".concat(parseFloat(a||0).toFixed(qn))})})]})]})]}),Object(M.jsx)("hr",{})]})}var Vn=Object(R.a)({root:{"&>div:first-child":{fontSize:"25px",fontFamily:"Gillsans",color:"#fff",marginBottom:"10px"},"&>div:last-child":{display:"flex",justifyContent:"space-between","&>div":{display:"flex",width:"calc(50% - 10px)",justifyContent:"space-between","&>div":{width:"calc(50% - 10px)"}},"@media screen and (max-width:960px)":{flexDirection:"column","&>div":{width:"100%"}}}}}),$n=3,Zn=3,Kn=3,Xn=3,Jn=Object(We.a)({root:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center","&>div":{position:"relative",backgroundColor:"white",boxSizing:"border-box",border:"#4C4C4C 3px solid"}},main:{zIndex:"4",width:"100%",padding:"15px",display:"flex",flexDirection:"column",justifyContent:"center"},second:{zIndex:"2",transform:"translateY(-11px)",height:"15px",width:"calc(100% - 20px)"},third:{zIndex:"1",transform:"translateY(-22px)",height:"15px",width:"calc(100% - 40px)"}})((function(e){var t=e.classes,n=e.title,a=e.remarks,r=e.amount,c=e.token,i=e.color;return Object(M.jsxs)("div",{className:t.root,children:[Object(M.jsxs)("div",{className:t.main,children:[Object(M.jsx)("div",{style:{color:"#30384B",fontSize:"16px",fontFamily:"Helvetica"},children:Object(M.jsx)(le.a,{content:n})}),Object(M.jsx)("div",{style:{color:"#A3B7E4",fontSize:"10px",fontFamily:"Helvetica",marginBottom:"10px"},children:Object(M.jsx)(le.a,{content:a})}),Object(M.jsx)("div",{style:{color:i||"#30384B",fontSize:"18px",fontWeight:"bold"},children:Object(M.jsx)(le.a,{content:r})}),Object(M.jsx)("span",{style:{color:"#30384B",fontSize:"15px",fontWeight:"bold"},children:c})]}),Object(M.jsx)("div",{className:t.second}),Object(M.jsx)("div",{className:t.third})]})}));function Qn(e){var t=Vn(),n=e.outstandingDebt,a=e.depostBalance,c=e.receivables,i=e.rewards,s=e.signer;return Object(r.useMemo)((function(){return s?Object(M.jsxs)("div",{className:t.root,children:[Object(M.jsx)("div",{children:"Your Balance"}),Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{children:[Object(M.jsx)(Jn,{title:"Outstanding Debt",remarks:"*Value of Borrowed Asset",amount:(n||0).toFixed($n),token:"USD"}),Object(M.jsx)(Jn,{title:"Depost Balance",remarks:"*Value of Collateral",amount:(a||0).toFixed(Zn),token:"USD"})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)(Jn,{title:"Receivables",remarks:"*Value of Lent Asset",amount:(c||0).toFixed(Kn),token:"USD"}),Object(M.jsx)(Jn,{title:"Rewards",remarks:"*Value of Claimable COLLAR",amount:(i||0).toFixed(Xn),token:"COLLAR",color:"#4975FF"})]})]})]}):Object(M.jsx)("div",{})}),[e])}var ea=n(905),ta=Object(R.a)({root:{"@media screen and (max-width:960px)":{display:"none"},"@media screen and (min-width:960px)":{"&>div>table":{"& tr":{borderBottom:"#D8D8D8 1px solid"},"& th,& td":{color:"white",padding:0,border:"none",fontSize:"18px",fontFamily:"Gillsans",whiteSpace:"nowrap"},"& button":{width:"133px"}}}},tokenOne:{margin:"10px 0",textAlign:"center",width:"fit-content","& img":{display:"block",width:"40px",marginBottom:"5px"}},tokenTwo:{margin:"10px 0",textAlign:"center",width:"fit-content","& img":{width:"40px",marginBottom:"5px","&:nth-child(2)":{position:"relative",left:"-15px"}}},tableHead:{"& th":{paddingBottom:"10px !important"}},cellWidthEmpty:{width:0},button:{textAlign:"right",margin:"10px 0",width:0},price:{fontSize:"10px",color:"#99A8C9"}}),na=Object(We.a)({root:{lineHeight:"unset"}})((function(e){return Object(M.jsx)(Wt.a,Object(s.a)({},e))})),aa=2,ra=2,ca=2,ia=3,sa=3,oa=3;function la(e){var t=e.pool,n=e.val,a=e.handleClick,r=ta();return Object(M.jsx)("div",{className:r.root,children:Object(M.jsx)(It.a,{children:Object(M.jsxs)(Tt.a,{children:[Object(M.jsx)(ea.a,{className:r.tableHead,children:Object(M.jsxs)(Pt.a,{children:[Object(M.jsx)(na,{children:"Token"}),Object(M.jsx)(na,{align:"center",children:"Balance"}),Object(M.jsx)(na,{align:"center",children:"APY"})]})}),Object(M.jsxs)(Rt.a,{children:[Object(M.jsxs)(Pt.a,{children:[Object(M.jsx)(na,{className:r.cellWidthEmpty,children:Object(M.jsxs)("div",{className:r.tokenOne,children:[Object(M.jsx)("img",{src:t.coll.icon,alt:""}),Object(M.jsx)("span",{children:"COLL"})]})}),Object(M.jsxs)(na,{align:"center",children:[Object(M.jsx)("div",{children:parseFloat(n.coll).toFixed(ia)}),Object(M.jsxs)("div",{className:r.price,children:["~$",parseFloat(n.coll*Te.COLL).toFixed(oa)]})]}),Object(M.jsxs)(na,{align:"center",children:[parseFloat(n.coll_apy).toFixed(aa),"%"]}),Object(M.jsx)(na,{}),Object(M.jsx)(na,{}),Object(M.jsx)(na,{}),Object(M.jsxs)(na,{className:r.button,children:[Object(M.jsx)(oe,{name:"Redeem All",onClick:function(){return a("redeemAll",t)}}),Object(M.jsx)(oe,{name:"Settle",onClick:function(){return a("settle",t)}})]})]}),Object(M.jsxs)(Pt.a,{children:[Object(M.jsx)(na,{children:Object(M.jsxs)("div",{className:r.tokenOne,children:[Object(M.jsx)("img",{src:t.call.icon,alt:""}),Object(M.jsx)("span",{children:"CALL"})]})}),Object(M.jsxs)(na,{align:"center",children:[Object(M.jsx)("div",{children:parseFloat(n.call).toFixed(ia)}),Object(M.jsxs)("div",{className:r.price,children:["~$",parseFloat(n.call*Te.COLL).toFixed(oa)]})]}),Object(M.jsxs)(na,{align:"center",children:[parseFloat(n.call_apy).toFixed(aa),"%"]}),Object(M.jsx)(na,{}),Object(M.jsx)(na,{}),Object(M.jsx)(na,{}),Object(M.jsx)(na,{className:r.button,children:Object(M.jsx)(oe,{name:"Repay All",onClick:function(){return a("repayAll",t)}})})]}),Object(M.jsxs)(Pt.a,{children:[Object(M.jsx)(na,{children:"Token"}),Object(M.jsx)(na,{align:"center",children:"Balance"}),Object(M.jsx)(na,{align:"center",children:"APY"}),Object(M.jsx)(na,{align:"center",children:"APR"}),Object(M.jsxs)(na,{align:"center",style:{padding:"15px 0"},children:["Share of",Object(M.jsx)("br",{}),"Pool"]}),Object(M.jsxs)(na,{align:"center",children:["Claimable",Object(M.jsx)("br",{}),"COLLAR"]})]}),Object(M.jsxs)(Pt.a,{children:[Object(M.jsx)(na,{children:Object(M.jsxs)("div",{className:r.tokenTwo,children:[Object(M.jsx)("img",{src:t.coll.icon,alt:""}),Object(M.jsx)("img",{src:t.want.icon,alt:""}),Object(M.jsx)("br",{}),Object(M.jsxs)("span",{children:["COLL/",t.want.symbol]})]})}),Object(M.jsxs)(na,{align:"center",children:[Object(M.jsx)("div",{children:parseFloat(n.clpt).toFixed(ia)}),Object(M.jsxs)("div",{className:r.price,children:["~$",parseFloat(n.receivables).toFixed(oa)]})]}),Object(M.jsxs)(na,{align:"center",children:[parseFloat(n.clpt_apy).toFixed(aa),"%"]}),Object(M.jsxs)(na,{align:"center",children:[parseFloat(n.clpt_apr).toFixed(ra),"%"]}),Object(M.jsxs)(na,{align:"center",children:[parseFloat(n.shareOfPoll).toFixed(ca),"%"]}),Object(M.jsxs)(na,{align:"center",children:[Object(M.jsx)("div",{children:parseFloat(n.earned).toFixed(sa)}),Object(M.jsxs)("div",{className:r.price,children:["~$",parseFloat(n.earned*Te.COLLAR).toFixed(oa)]})]}),Object(M.jsxs)(na,{className:r.button,children:[Object(M.jsx)(oe,{name:"Withdraw All",onClick:function(){return a("withdrawAll",t)}}),Object(M.jsx)(oe,{name:"Claim",onClick:function(){return a("claim",t)}})]})]})]})]})})})}var da=Object(R.a)({root:{"@media screen and (min-width:960px)":{display:"none"},"@media screen and (max-width:960px)":{"&>div:first-child":{"& tr":{borderBottom:"#D8D8D8 1px solid"},"& th,& td":{color:"white",padding:0,border:"none",fontSize:"18px",fontFamily:"Gillsans",whiteSpace:"nowrap"},"& button":{width:"133px"}}}},tableHead:{"& th":{paddingBottom:"10px !important"}},rowApy:{width:0,paddingRight:"25px !important"},clpt:{fontFamily:"Gillsans",fontSize:"18px",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"#D8D8D8 1px solid",paddingBottom:"5px","& button":{width:"133px"},"&>div":{width:"calc(100% - 133px - 15px)","& div":{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",backgroundColor:"#2D4284",borderRadius:"25px",margin:"8px 0"}}},button:{width:0,padding:"10px 0 !important","& button":{display:"block"}},tokenOne:{margin:"10px 0",textAlign:"center",width:"fit-content","& img":{display:"block",width:"40px",marginBottom:"5px"}},tokenTwo:{margin:"10px 0",textAlign:"center",width:"fit-content","& img":{width:"40px",marginBottom:"5px","&:nth-child(2)":{position:"relative",left:"-15px"}}},cellWidthEmpty:{width:0},price:{fontSize:"10px",color:"#99A8C9"}}),ua=Object(We.a)({root:{lineHeight:"unset"}})((function(e){return Object(M.jsx)(Wt.a,Object(s.a)({},e))})),pa=2,ba=2,ja=2,xa=3,fa=3,ha=3;function ma(e){var t=e.pool,n=e.val,a=e.handleClick,r=da();return Object(M.jsxs)("div",{className:r.root,children:[Object(M.jsx)(It.a,{children:Object(M.jsxs)(Tt.a,{children:[Object(M.jsx)(ea.a,{className:r.tableHead,children:Object(M.jsxs)(Pt.a,{children:[Object(M.jsx)(ua,{children:"Token"}),Object(M.jsx)(ua,{align:"center",children:"Balance"}),Object(M.jsx)(ua,{children:"APY"})]})}),Object(M.jsxs)(Rt.a,{children:[Object(M.jsxs)(Pt.a,{children:[Object(M.jsx)(ua,{className:r.cellWidthEmpty,children:Object(M.jsxs)("div",{className:r.tokenOne,children:[Object(M.jsx)("img",{src:t.coll.icon,alt:""}),Object(M.jsx)("span",{children:"COLL"})]})}),Object(M.jsxs)(ua,{align:"center",children:[Object(M.jsx)("div",{children:parseFloat(n.coll).toFixed(xa)}),Object(M.jsxs)("div",{className:r.price,children:["~$",parseFloat(n.coll*Te.COLL).toFixed(ha)]})]}),Object(M.jsxs)(ua,{align:"center",className:r.rowApy,children:[parseFloat(n.coll_apy).toFixed(pa),"%"]}),Object(M.jsxs)(ua,{className:r.button,children:[Object(M.jsx)(oe,{name:"Redeem All",onClick:function(){return a("redeemAll",t)}}),Object(M.jsx)(oe,{name:"Settle",onClick:function(){return a("settle",t)}})]})]}),Object(M.jsxs)(Pt.a,{children:[Object(M.jsx)(ua,{children:Object(M.jsxs)("div",{className:r.tokenOne,children:[Object(M.jsx)("img",{src:t.call.icon,alt:""}),Object(M.jsx)("span",{children:"CALL"})]})}),Object(M.jsxs)(ua,{align:"center",children:[Object(M.jsx)("div",{children:parseFloat(n.call).toFixed(xa)}),Object(M.jsxs)("div",{className:r.price,children:["~$",parseFloat(n.call*Te.COLL).toFixed(ha)]})]}),Object(M.jsxs)(ua,{align:"center",className:r.rowApy,children:[parseFloat(n.call_apy).toFixed(pa),"%"]}),Object(M.jsx)(ua,{className:r.button,children:Object(M.jsx)(oe,{name:"Repay All",onClick:function(){return a("repayAll",t)}})})]}),Object(M.jsxs)(Pt.a,{style:{borderBottom:"none"},children:[Object(M.jsx)(ua,{children:Object(M.jsxs)("div",{className:r.tokenTwo,children:[Object(M.jsx)("img",{src:t.coll.icon,alt:""}),Object(M.jsx)("img",{src:t.want.icon,alt:""}),Object(M.jsx)("br",{}),Object(M.jsxs)("span",{children:["COLL/",t.want.symbol]})]})}),Object(M.jsxs)(ua,{align:"center",children:[Object(M.jsx)("div",{children:parseFloat(n.clpt).toFixed(xa)}),Object(M.jsxs)("div",{className:r.price,children:["~$",parseFloat(n.receivables).toFixed(ha)]})]}),Object(M.jsxs)(ua,{align:"center",className:r.rowApy,children:[parseFloat(n.clpt_apy).toFixed(pa),"%"]}),Object(M.jsx)(ua,{className:r.button,children:Object(M.jsx)(oe,{name:"Withdraw",onClick:function(){return a("withdrawAll",t)}})})]})]})]})}),Object(M.jsxs)("div",{className:r.clpt,children:[Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{style:{marginTop:0},children:[Object(M.jsx)("span",{children:"APR"}),Object(M.jsxs)("span",{children:[parseFloat(n.clpt_apr).toFixed(ba),"%"]})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{children:"Share of Pool"}),Object(M.jsxs)("span",{children:[parseFloat(n.shareOfPoll).toFixed(ja),"%"]})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{children:"Claimable COLLAR"}),Object(M.jsx)("span",{children:parseFloat(n.earned).toFixed(fa)})]})]}),Object(M.jsx)(oe,{name:"Claim",onClick:function(){return a("claim",t)}})]})]})}var Oa=Object(R.a)({root:{fontFamily:"Gillsans",color:"white","&>div":{marginBottom:"40px"}},header:{display:"flex",marginBottom:"15px","&>div:first-child":{display:"flex",alignItems:"center",fontSize:"20px",margin:"10px 0","&>img":{width:"30px","&:nth-child(2)":{position:"relative",left:"-10px"}},"&>span":{}},"&>div:last-child":{backgroundColor:"#2D4284",borderRadius:"20px",padding:"5px 20px",display:"flex",alignItems:"center",justifyContent:"center"},"@media screen and (max-width:960px)":{flexDirection:"column"},"@media screen and (min-width:960px)":{justifyContent:"space-between",alignItems:"center"}}});function va(e){var t=Oa(),n=e.pools,a=e.handleClick,c=e.signer;return Object(r.useMemo)((function(){return c?Object(M.jsx)("div",{className:t.root,children:n.map((function(e,n){var r=e.pool;return Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:t.header,children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("img",{src:r.bond.icon}),Object(M.jsx)("img",{src:r.want.icon}),Object(M.jsxs)("span",{children:[r.bond.symbol,"/",r.want.symbol]})]}),Object(M.jsx)("div",{children:Object(M.jsxs)("span",{children:["Expiry: ",new Date(1e3*r.expiry_time).toLocaleString()]})})]}),Object(M.jsx)(la,{pool:r,val:e,handleClick:a}),Object(M.jsx)(ma,{pool:r,val:e,handleClick:a})]},n)}))}):Object(M.jsx)("div",{})}),[e])}var wa=Object(R.a)({root:{height:"calc(90vh - 100px)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",margin:"10px",fontFamily:"Gillsans","&>div":{margin:"10px"}},input:{backgroundColor:"white",marginTop:"30px !important",width:"600px","@media screen and (max-width:960px)":{width:"80vw"}}});function ga(){var e=wa(),t=Object(we.c)().enqueueSnackbar,n=Object(r.useContext)(L),a=n.state,c=(a.registry,a.signer),i=(n.setState,Object(r.useState)("")),s=Object(o.a)(i,2),l=s[0],d=s[1],u=function(){var e=Object(ve.a)(Oe.a.mark((function e(n){var a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=3;break}return t({type:"failed",title:"Fail.",message:"No Account."}),e.abrupt("return");case 3:return a={usdt:"0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0",usdc:"0x67C9a0830d922C80A96408EEdF606c528836880C"},e.next=6,c.getAddress();case 6:e.sent,c.sendTransaction({to:a[n],value:I.a.utils.parseEther(String(l||0))}).then((function(e){return e.wait()})).then((function(e){var n=e.status;t(1===n?{type:"success",title:"Faucet.",message:"You have successfully get test token."}:{type:"failed",title:"Fail.",message:"The execution failed due to an exception."})})).catch((function(e){var n=e.code;switch(n){case 4001:t({type:"failed",title:"Fail.",message:"User denied transaction signature."});break;default:console.log(n)}}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsxs)("div",{className:e.root,children:[Object(M.jsx)("div",{style:{fontSize:"40px"},children:"Collar Faucet"}),Object(M.jsx)("div",{style:{fontSize:"20px",maxWidth:"calc(80vw)"},children:Object(M.jsx)(le.a,{content:"Claim your test token for Collar open alpha product"})}),Object(M.jsx)(fe.a,{className:e.input,label:""===l?"The amount of ETH you need to exchange for testcoin":"You will get ".concat((133337*l||0)+13.37," testcoin"),type:"number",variant:"filled",value:l,onChange:function(e){d(e.target.value)}}),Object(M.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"center"},children:[Object(M.jsx)(At.a,{variant:"contained",color:"primary",disableElevation:!0,style:{width:"200px",maxWidth:"40%",margin:"10px"},onClick:function(){return u("usdt")},children:"Send me USDT"}),Object(M.jsx)(At.a,{variant:"contained",color:"primary",disableElevation:!0,style:{width:"200px",maxWidth:"40%",margin:"10px"},onClick:function(){return u("usdc")},children:"Send me USDC"})]})]})}var ya=n(199),Ca=n(906),ka=["function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function transfer(address to, uint amount) returns (boolean)","event Transfer(address indexed from, address indexed to, uint amount)"],Fa=Object(R.a)((function(e){return{root:{"&>div>div:first-child>div>div":{"&:first-child":{display:"none"},"&:last-child":{height:"calc(100% - 75px)",borderBottomLeftRadius:0,borderBottomRightRadius:0,"& span":{whiteSpace:"initial"}}}}}}));function Aa(){var e=Object(r.useContext)(L),t=e.state.signer,n=(e.setState,Fa()),a=Object(r.useRef)(),c={};c["get-help"]=function(){var e=Object(ve.a)(Oe.a.mark((function e(t){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",Object(M.jsxs)(vt.a,{children:[Object(M.jsx)("p",{children:"print help messages."}),Object(M.jsx)("p",{children:"usage:"}),Object(M.jsxs)("p",{children:[Object(M.jsx)("b",{children:"get-help"})," --- show collar console help"," "]}),Object(M.jsxs)("p",{children:[Object(M.jsx)("b",{children:"get-help %CMD% "})," --- show help infomation of CMD"]})]}));case 2:if(""!==t){e.next=4;break}return e.abrupt("return",Object(M.jsxs)(vt.a,{children:[Object(M.jsx)("p",{children:"collar console provides a terminal for users to use collar protocol."}),Object(M.jsxs)("p",{children:["type ",Object(M.jsx)("b",{children:"list-commands"})," to see all available commands"]}),Object(M.jsxs)("p",{children:["type ",Object(M.jsx)("b",{children:"get-help %CMD%"})," to see the help infomation of CMD"]})]}));case 4:return e.abrupt("return",c[t](null));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c["alert-message"]=function(){var e=Object(ve.a)(Oe.a.mark((function e(t){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",Object(M.jsxs)(vt.a,{children:[Object(M.jsx)("p",{children:"show an alert message."}),Object(M.jsx)("p",{children:"usage:"}),Object(M.jsxs)("p",{children:[Object(M.jsx)("b",{children:"alert-message %MSG% "})," --- alert MSG"]})]}));case 2:alert(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c["list-commands"]=function(){var e=Object(ve.a)(Oe.a.mark((function e(t){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",Object(M.jsxs)(vt.a,{children:[Object(M.jsx)("p",{children:"list all commands."}),Object(M.jsx)("p",{children:"usage:"}),Object(M.jsxs)("p",{children:[Object(M.jsx)("b",{children:"list-commands"})," --- list all commands"]})]}));case 2:return e.abrupt("return",Object(M.jsx)(vt.a,{children:Object.keys(c).map((function(e){return Object(M.jsx)("li",{children:e},e)}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c["hello-collar"]=function(){var e=Object(ve.a)(Oe.a.mark((function e(t){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",Object(M.jsxs)(vt.a,{children:[Object(M.jsx)("p",{children:"show welcome message."}),Object(M.jsx)("p",{children:"usage:"}),Object(M.jsxs)("p",{children:[Object(M.jsx)("b",{children:"hellow-collar"})," --- show welcome message"]})]}));case 2:return e.abrupt("return",Object(M.jsx)(vt.a,{children:Object(M.jsx)("p",{children:"e a\xed beleza"})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c["get-address"]=function(){var e=Object(ve.a)(Oe.a.mark((function e(n){var a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=2;break}return e.abrupt("return",Object(M.jsxs)(vt.a,{children:[Object(M.jsx)("p",{children:"show current account address connected."}),Object(M.jsx)("p",{children:"usage:"}),Object(M.jsxs)("p",{children:[Object(M.jsx)("b",{children:"get-address"})," --- show current account address connected"]})]}));case 2:if(null!==t){e.next=4;break}return e.abrupt("return",Object(M.jsx)(vt.a,{children:Object(M.jsx)("p",{children:"connect wallet first please."})}));case 4:return e.next=6,t.getAddress();case 6:return a=e.sent,e.abrupt("return",Object(M.jsx)(vt.a,{children:Object(M.jsx)("p",{children:a})}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c["get-balance"]=function(){var e=Object(ve.a)(Oe.a.mark((function e(n){var a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=2;break}return e.abrupt("return",Object(M.jsxs)(vt.a,{children:[Object(M.jsx)("p",{children:"show current account balance connected."}),Object(M.jsx)("p",{children:"usage:"}),Object(M.jsxs)("p",{children:[Object(M.jsx)("b",{children:"get-balance"})," --- show current account ETH balance"]})]}));case 2:if(null!==t){e.next=4;break}return e.abrupt("return",Object(M.jsx)(vt.a,{children:Object(M.jsx)("p",{children:"connect wallet first please."})}));case 4:return e.next=6,t.getBalance();case 6:return a=e.sent,e.abrupt("return",Object(M.jsx)(vt.a,{children:Object(M.jsx)("p",{children:"".concat(I.a.utils.formatEther(a)," ether")})}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c["transfer-erc20"]=function(){var e=Object(ve.a)(Oe.a.mark((function e(n){var a,r,c,i,s,l,d,u;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=2;break}return e.abrupt("return",Object(M.jsxs)(vt.a,{children:[Object(M.jsx)("p",{children:"transfer erc20 token."}),Object(M.jsx)("p",{children:"usage:"}),Object(M.jsxs)("p",{children:[Object(M.jsx)("b",{children:"transfer-erc20 %TOKEN% %RECEIVER% %AMOUNT% %DECIMALS%"})," --- transfer erc20 token (default: DECIMALS = 18)"]})]}));case 2:if(null!==t){e.next=4;break}return e.abrupt("return",Object(M.jsx)(vt.a,{children:Object(M.jsx)("p",{children:"connect wallet first please."})}));case 4:return a=n.split(" "),r=Object(o.a)(a,4),c=r[0],i=r[1],s=r[2],l=(l=r[3])||18,d=new I.a.Contract(c,ka),e.next=9,d.connect(t).transfer(i,I.a.utils.parseUnits(s,l));case 9:return u=e.sent,e.abrupt("return",Object(M.jsx)(vt.a,{children:Object(M.jsx)("p",{children:u.hash})}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c["get-erc20-balance"]=function(){var e=Object(ve.a)(Oe.a.mark((function e(n){var a,r,c,i,s,l,d;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=2;break}return e.abrupt("return",Object(M.jsxs)(vt.a,{children:[Object(M.jsx)("p",{children:"get erc20 balance of an account."}),Object(M.jsx)("p",{children:"usage:"}),Object(M.jsxs)("p",{children:[Object(M.jsx)("b",{children:"get-erc20-balance %TOKEN% %ADDRESS% "})," --- get erc20 balance (default: ADDRESS = current address)"]})]}));case 2:if(null!==t){e.next=4;break}return e.abrupt("return",Object(M.jsx)(vt.a,{children:Object(M.jsx)("p",{children:"connect wallet first please."})}));case 4:if(a=n.split(" "),r=Object(o.a)(a,2),c=r[0],i=r[1],e.t0=i,e.t0){e.next=10;break}return e.next=9,t.getAddress();case 9:e.t0=e.sent;case 10:return i=e.t0,s=new I.a.Contract(c,ka),e.next=14,s.connect(t).balanceOf(i);case 14:return l=e.sent,e.next=17,s.connect(t).decimals();case 17:return d=e.sent,e.abrupt("return",Object(M.jsx)(vt.a,{children:Object(M.jsx)("p",{children:I.a.utils.formatUnits(l,d)})}));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var i=function(){var e=Object(ve.a)(Oe.a.mark((function e(){var t,n,r,c;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new MouseEvent("mousedown",{view:window,bubbles:!0,cancelable:!0}),Object.defineProperty(t,"target",{value:a.current.firstChild,enumerable:!0}),document.dispatchEvent(t),e.next=5,navigator.clipboard.readText();case 5:for(r in n=e.sent)c=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:n[r],char:n[r],shiftKey:!0}),document.dispatchEvent(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=Object(M.jsxs)(Ct.a,{component:"code",children:[Object(M.jsx)(vt.a,{fontFamily:"Monospace",align:"center",fontSize:"h6.fontSize",m:1,children:"Collar Console"}),Object(M.jsx)(vt.a,{fontFamily:"Monospace",align:"center",fontSize:"h6.fontSize",m:1,children:"USE AT YOUR OWN RISK"}),Object(M.jsx)(vt.a,{fontFamily:"Monospace",align:"center",fontSize:"h6.fontSize",m:1,children:Object(M.jsx)("span",{sytle:{whiteSpace:"nowrap"},children:"type `get-help` to get started :)"})})]}),l={},d=function(e){l[e]=function(){var t=Object(ve.a)(Oe.a.mark((function t(n){return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c[e](n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",Object(M.jsxs)(vt.a,{children:[Object(M.jsx)("p",{children:"unexpected error"}),Object(M.jsx)("p",{children:"".concat(t.t0)})]}));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()};for(var u in c)d(u);return Object(M.jsx)("div",{className:n.root,children:Object(M.jsx)(ya.b,{children:Object(M.jsxs)(vt.a,{ref:a,height:"100%",width:"100%",position:"fixed",pb:8,children:[Object(M.jsx)(ya.a,{theme:"dracula",commands:l,showControlButtons:!1,welcomeMessage:s}),Object(M.jsx)(vt.a,{position:"absolute",right:"5%",bottom:128,children:Object(M.jsx)(Ca.a,{color:"secondary",variant:"extended",onClick:i,children:"Paste"})})]})})})}function Sa(){return Object(M.jsx)(vt.a,{display:"flex",flexDirection:"column",height:"80vh",width:"100vw",textAlign:"center",justifyContent:"center",color:"white",fontSize:"50px",fontFamily:"Gillsans",children:"TODO"})}var Ea=Object(R.a)((function(e){return{drawer:{"&>div":{display:"flex",flexDirection:"row",background:"none",border:"none",zIndex:"9999"}},listItem:{flexDirection:"column"},fontSpan:{"& span":{fontFamily:"Gillsans",color:"white",fontSize:"18px"}},blurbg:{"&, &:before":{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",zIndex:"9998"},"&:after":{filter:"blur(15px) brightness(110%)"}}}})),La=function(e){var t=e.onClick,n=e.item,a=e.icon,r=e.cur,c=Ea();return Object(M.jsxs)($t.a,{button:!0,onClick:t,to:"/".concat(n.toLowerCase()),component:Ut.b,className:c.listItem,style:{backgroundColor:r==n.toLowerCase()?"#1E2C57":"#4C76F9",marginBottom:"20px"},children:[Object(M.jsx)(Zt.a,{style:{display:"inline-block",textAlign:"center"},children:Object(M.jsx)("img",{src:a,alt:""})}),Object(M.jsx)(Kt.a,{primary:n,className:c.fontSpan,style:{margin:"0 0"}})]},n)},Na=function(e){var t=e.url,n=e.item,a=e.icon,r=Ea();return Object(M.jsxs)($t.a,{button:!0,onClick:function(){return window.location.href=t},className:r.listItem,style:{backgroundColor:"#4C76F9",marginBottom:"20px"},children:[Object(M.jsx)(Zt.a,{style:{display:"inline-block",textAlign:"center"},children:Object(M.jsx)("img",{src:a,alt:""})}),Object(M.jsx)(Kt.a,{primary:n,className:r.fontSpan,style:{margin:"0 0"}})]})};function Da(){var e=Ea(),t=Object(r.useContext)(L),n=t.state,a=n.menu_open,c=(n.signer,t.setState),i=Object(r.useState)(window.location.pathname.split("/")[1]||"lite"),s=Object(o.a)(i,2),l=s[0],d=s[1],u=function(e){d(e),c({menu_open:!1})};return Object(M.jsxs)(Ut.a,{children:[Object(M.jsx)(Xt.a,{variant:"persistent",anchor:"left",open:a,className:e.drawer,children:Object(M.jsxs)(vt.a,{width:"30vw",style:{backgroundColor:"#4975FF"},children:[Object(M.jsx)(vt.a,{display:"flex",style:{minHeight:"56px",justifyContent:"center"},onClick:function(){return c({menu_open:!1})},children:Object(M.jsx)("img",{src:Q,alt:""})}),Object(M.jsxs)(Jt.a,{style:{padding:0},children:[Object(M.jsx)(La,{onClick:function(){return u("lite")},item:"Lite",icon:Z,cur:l}),Object(M.jsx)(La,{onClick:function(){return u("mypage")},item:"MyPage",icon:J,cur:l}),Object(M.jsx)(La,{onClick:function(){return u("faucet")},item:"Faucet",icon:Z,cur:l}),Object(M.jsx)(La,{onClick:function(){return u("term")},item:"Term",icon:K,cur:l}),Object(M.jsx)(La,{onClick:function(){return u("pro")},item:"Pro",icon:X,cur:l}),Object(M.jsx)(Na,{url:"https://collar.org",item:"Home",icon:Z})]})]})}),Object(M.jsx)("div",{className:e.blurbg,style:{display:a?"block":"none"},onClick:function(){return c({menu_open:!1})}}),Object(M.jsx)(vt.a,{children:Object(M.jsxs)(Vt.c,{children:[Object(M.jsx)(Vt.a,{path:"/lite",children:Object(M.jsx)(Rn,{})}),Object(M.jsx)(Vt.a,{path:"/pro",children:Object(M.jsx)(Sa,{})}),Object(M.jsx)(Vt.a,{path:"/term",children:Object(M.jsx)(Aa,{})}),Object(M.jsx)(Vt.a,{path:"/mypage",children:Object(M.jsx)(Mn,{})}),Object(M.jsx)(Vt.a,{path:"/faucet",children:Object(M.jsx)(ga,{})}),Object(M.jsx)(Vt.a,{path:"/",children:Object(M.jsx)(Rn,{})})]})})]})}function _a(){var e=Object(r.useReducer)((function(e,t){return Object(s.a)(Object(s.a)({},e),t)}),{menu_open:!1,signer:null}),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(M.jsx)(L.Provider,{value:{state:n,setState:a},children:Object(M.jsx)(at,{children:Object(M.jsxs)("div",{style:{position:"relative"},children:[Object(M.jsx)(qt,{}),Object(M.jsx)(Da,{})]})})})}i.a.render(Object(M.jsx)(_a,{}),document.getElementById("root"))}},[[845,1,2]]]);
//# sourceMappingURL=main.9b95d180.chunk.js.map