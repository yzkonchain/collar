(this.webpackJsonprebuild=this.webpackJsonprebuild||[]).push([[1],{285:function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var e=n(3),j=n.n(e),d=n(6),b=n(11),x=n(14),c=n(17),f=n(0),h=n(9),w=n(18),O=n(1),m=c.ethers.constants.Zero,v={input:{want:m,coll:m},output:{clpt:m},tip:{share:0,poolBalance:0,slip:0},I:{want:"",coll:""},old:{want:"",coll:""}},k=function(t,e){return c.ethers.utils.formatUnits(t,e||18)},g=function(t,e){return c.ethers.utils.parseUnits(t||"0",e||18)};function a(){var t=Object(f.useContext)(h.d).state,e=t.signer,s=t.controller,n=Object(f.useContext)(h.e),t=n.liteState,c=(t.bond,t.want),a=t.coll,l=t.pool,i=t.data,o=n.classesChild,r=n.handleClick,n=Object(f.useReducer)(function(t,e){return Object(b.a)(Object(b.a)({},t),e)},v),n=Object(x.a)(n,2),u=n[0],p=n[1];return Object(f.useEffect)(function(){return u==v||p(v)},[l]),Object(f.useEffect)(function(){Object(d.a)(j.a.mark(function t(){var e,n,c,a;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=g(u.I.want,l.want.decimals),n=g(u.I.coll),e.eq(u.input.want)&&n.eq(u.input.coll)){t.next=7;break}return t.next=5,l.ct.get_dk(n,e).catch(function(){return s.notify("balance","insufficient"),!1});case 5:(c=t.sent)&&(a={share:(k(c)/k(i.swap.sk)*100).toPrecision(3),poolBalance:(k(i.swap.sx)/k(i.swap.sy,l.want.decimals)).toPrecision(3),slip:s.calc_slip(i,[n,e],l).toPrecision(3)},p({input:{want:e,coll:n},output:{clpt:c},tip:a}));case 7:case"end":return t.stop()}},t)}))()},[u]),Object(f.useMemo)(function(){return Object(O.jsxs)("div",{className:o.root,children:[Object(O.jsxs)("div",{className:o.amount,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(w.a,{title:"want",State:{state:u,setState:p,token:c,max:i.balance.want,if_max:i.allowance.want.gt("100000000000000000000000000000000")},style:{height:"90px"}}),Object(O.jsx)(w.a,{title:"coll",State:{state:u,setState:p,token:a,max:i.balance.coll,if_max:i.balance.coll.gt("0")},style:{height:"90px"}})]}),Object(O.jsx)("span",{className:o.icon,children:"navigate_next"}),Object(O.jsx)("div",{children:Object(O.jsx)(w.c,{title:"clpt",state:{state:u,token:l},style:{height:"239px"}})})]}),Object(O.jsx)(w.d,{apy:"todo",info:Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:["Share of Pool: ",u.tip.share," %"]}),Object(O.jsxs)("div",{children:["Pool Balance: ","1 ".concat(c.symbol," = ").concat(u.tip.poolBalance," COLL")]}),Object(O.jsxs)("div",{children:["Slippage tolerance: ",u.tip.slip," %"]})]})}),Object(O.jsxs)("div",{className:o.buttonTwo,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(w.j,{name:"Approve",onClick:function(){return r("approve")(c)},disabled:!e||i.allowance.want.gt("100000000000000000000000000000000")}),Object(O.jsx)(w.j,{name:"Deposit",onClick:Object(d.a)(j.a.mark(function t(){return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r("deposit")(u.input.want,u.input.coll,u.output.clpt);case 2:if(t.t0=t.sent,!t.t0){t.next=5;break}t.t0=p({I:{want:"",coll:""}});case 5:return t.abrupt("return",t.t0);case 6:case"end":return t.stop()}},t)})),disabled:m.eq(u.output.clpt)||g(u.I.want,l.want.decimals).gt(i.balance.want)||g(u.I.coll).gt(i.balance.coll)||!g(u.I.want,l.want.decimals).eq(u.input.want)||!g(u.I.coll).eq(u.input.coll)})]}),Object(O.jsx)("div",{children:Object(O.jsx)(w.j,{name:"Claim",onClick:function(){return r("claim")()},disabled:m.eq(i.earned.collar)})})]})]})},[u,i])}}}]);