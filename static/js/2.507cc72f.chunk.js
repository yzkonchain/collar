(this.webpackJsonprebuild=this.webpackJsonprebuild||[]).push([[2],{437:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var c=n(2),s=n.n(c),i=n(13),a=n(20),l=n(24),r=n(31),o=n(0),u=n(16),j=n(32),p=n(46),b=n(1),d=r.a.constants.Zero,x={input:{coll:d},output:{want:d},tip:{fee:"0.0000",min:"0.000",slip:"0.00"},I:{coll:""},old:{coll:""}},f=function(e,t){return r.a.utils.formatUnits(e,t||18)},O=function(e,t){return r.a.utils.parseUnits(e||"0",t||18)};function m(){var e=Object(o.useContext)(u.d).state,t=e.signer,n=e.controller,c=Object(o.useContext)(u.e),r=c.liteState,m=(r.bond,r.want),h=r.coll,v=r.pool,w=r.data,y=c.classesChild,g=(c.setLiteState,c.handleClick);x.tip.apy=w.apy.toPrecision(3);var k=Object(o.useReducer)((function(e,t){return Object(a.a)(Object(a.a)({},e),t)}),x),I=Object(l.a)(k,2),N=I[0],_=I[1];return Object(o.useEffect)((function(){return N==x||_(x)}),[v]),Object(o.useEffect)((function(){t&&!d.eq(w.swap.sk)&&Object(i.a)(s.a.mark((function e(){var t,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=O(N.I.coll)).eq(N.input.coll)){e.next=6;break}return e.next=4,v.ct.get_dy(t).catch((function(){return n.notify("balance","insufficient"),!1}));case 4:(c=e.sent)&&(i={fee:(f(c,v.want.decimals)*(1-f(w.swap.fee))).toFixed(4),min:(.995*f(c,v.want.decimals)).toFixed(3),slip:n.calc_slip(w,[null,c],v).toPrecision(3),apy:w.apy.toPrecision(3)},_({input:{coll:t},output:{want:c},tip:i}));case 6:case"end":return e.stop()}}),e)})))()}),[N]),Object(o.useMemo)((function(){return Object(b.jsxs)("div",{className:y.root,children:[Object(b.jsxs)("div",{className:y.amount,children:[Object(b.jsx)("div",{children:Object(b.jsx)(j.a,{title:"coll",State:{state:N,setState:_,token:h,max:w.balance.coll,if_max:w.balance.coll.gt("0")},style:{height:"90px"}})}),Object(b.jsx)("img",{alt:"",src:p.b,className:y.icon}),Object(b.jsx)("div",{children:Object(b.jsx)(j.c,{title:"want",state:{state:N,token:m},style:{height:"90px"}})})]}),Object(b.jsx)(j.d,{apy:N.tip.apy,info:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:["Slippage tolerance: ",N.tip.slip," %"]}),Object(b.jsxs)("div",{children:["Minimum recieved: ",N.tip.min," ",m.symbol]}),Object(b.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(b.jsx)("span",{style:{marginRight:"5px"},children:"Route:"}),Object(b.jsx)("span",{children:h.symbol}),Object(b.jsx)("span",{className:"material-icons",children:"keyboard_double_arrow_right"}),Object(b.jsx)("span",{children:m.symbol})]}),Object(b.jsxs)("div",{children:["Nominal swap fee: ",N.tip.fee," ",m.symbol]})]})}),Object(b.jsx)("div",{className:y.buttonOne,children:Object(b.jsxs)("div",{children:[Object(b.jsx)(j.j,{name:"Approve",disabled:!0}),Object(b.jsx)(j.j,{name:"Exit",onClick:Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("redeem")(N.output.want,N.input.coll);case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}e.t0=_({I:{coll:""}});case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),disabled:d.eq(N.output.want)||O(N.I.coll).gt(w.balance.coll)||!O(N.I.coll).eq(N.input.coll)})]})})]})}),[N,w])}}}]);